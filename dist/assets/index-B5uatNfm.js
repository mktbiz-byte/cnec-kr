import{j as e,c as Tf,R as Uf,C as Mf,a as Df,T as Lf,D as qf,P as Rf,O as Of,b as $f,d as Bf,I as Gf,V as Vf,e as Hf,f as Kf,g as Yf,h as Qf,i as Xf,k as Ff,S as Zf,l as Jf,m as Pf,L as Wf,n as If,o as eb,p as sb,q as tb,r as ab,s as lb,t as rb,u as nb}from"./ui-CFp0IYZQ.js";import{d as ib,e as cb,r as h,u as zn,f as Qe,c as Co,L as ss,g as Ca,R as ob,h as zo,N as db,B as mb,i as xb,j as Ve}from"./vendor-DccRoyg5.js";import{c as ub}from"./supabase-BlVsaoIH.js";import{S as Bm,M as Eo,P as hb,C as et,B as xo,H as yr,a as _a,U as st,L as Ue,X as Fs,b as Nr,c as bt,D as Kl,F as it,T as ft,G as Yt,d as Ai,e as gb,f as ka,W as uo,g as ra,h as Ao,I as zt,Y as jt,A as Ct,i as La,j as Ti,k as ag,l as Ui,m as ot,n as yn,o as Ee,p as pb,V as es,q as lg,r as Ra,s as Ks,t as Lt,u as Oi,v as Sa,w as fb,x as bb,E as rg,y as lt,z as ns,J as Sr,K as jb,N as Bs,O as Gm,Q as St,R as Ts,Z as la,_ as wn,$ as Mi,a0 as Hl,a1 as Dm,a2 as ng,a3 as Vm,a4 as Mt,a5 as yb,a6 as vn,a7 as rt,a8 as ta,a9 as wr,aa as ho,ab as Hm,ac as Km,ad as ig,ae as Oa,af as Nt,ag as go,ah as vb,ai as _r,aj as kr,ak as Ht,al as Ym,am as Nb,an as qa,ao as Lm,ap as Eh,aq as wb,ar as cg,as as Qm,at as _n,au as kn,av as _b,aw as og,ax as Xm,ay as dg,az as Sn,aA as mg,aB as Ah,aC as kb,aD as xg,aE as Th,aF as Sb,aG as Uh,aH as Mh,aI as Cb,aJ as zb}from"./icons-BJRQEK9w.js";import{t as Eb,c as Ab,a as Fm}from"./utils-BZoEee2W.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))m(x);new MutationObserver(x=>{for(const n of x)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&m(f)}).observe(document,{childList:!0,subtree:!0});function o(x){const n={};return x.integrity&&(n.integrity=x.integrity),x.referrerPolicy&&(n.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?n.credentials="include":x.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function m(x){if(x.ep)return;x.ep=!0;const n=o(x);fetch(x.href,n)}})();var Cm={exports:{}},zi={},zm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function Tb(){return Dh||(Dh=1,(function(i){function d(L,ue){var re=L.length;L.push(ue);e:for(;0<re;){var me=re-1>>>1,S=L[me];if(0<x(S,ue))L[me]=ue,L[re]=S,re=me;else break e}}function o(L){return L.length===0?null:L[0]}function m(L){if(L.length===0)return null;var ue=L[0],re=L.pop();if(re!==ue){L[0]=re;e:for(var me=0,S=L.length,W=S>>>1;me<W;){var v=2*(me+1)-1,R=L[v],ae=v+1,Q=L[ae];if(0>x(R,re))ae<S&&0>x(Q,R)?(L[me]=Q,L[ae]=re,me=ae):(L[me]=R,L[v]=re,me=v);else if(ae<S&&0>x(Q,re))L[me]=Q,L[ae]=re,me=ae;else break e}}return ue}function x(L,ue){var re=L.sortIndex-ue.sortIndex;return re!==0?re:L.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var n=performance;i.unstable_now=function(){return n.now()}}else{var f=Date,j=f.now();i.unstable_now=function(){return f.now()-j}}var g=[],z=[],_=1,A=null,k=3,C=!1,b=!1,J=!1,K=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function H(L){for(var ue=o(z);ue!==null;){if(ue.callback===null)m(z);else if(ue.startTime<=L)m(z),ue.sortIndex=ue.expirationTime,d(g,ue);else break;ue=o(z)}}function y(L){if(J=!1,H(L),!b)if(o(g)!==null)b=!0,G||(G=!0,le());else{var ue=o(z);ue!==null&&ne(y,ue.startTime-L)}}var G=!1,D=-1,$=5,ie=-1;function be(){return K?!0:!(i.unstable_now()-ie<$)}function M(){if(K=!1,G){var L=i.unstable_now();ie=L;var ue=!0;try{e:{b=!1,J&&(J=!1,O(D),D=-1),C=!0;var re=k;try{s:{for(H(L),A=o(g);A!==null&&!(A.expirationTime>L&&be());){var me=A.callback;if(typeof me=="function"){A.callback=null,k=A.priorityLevel;var S=me(A.expirationTime<=L);if(L=i.unstable_now(),typeof S=="function"){A.callback=S,H(L),ue=!0;break s}A===o(g)&&m(g),H(L)}else m(g);A=o(g)}if(A!==null)ue=!0;else{var W=o(z);W!==null&&ne(y,W.startTime-L),ue=!1}}break e}finally{A=null,k=re,C=!1}ue=void 0}}finally{ue?le():G=!1}}}var le;if(typeof w=="function")le=function(){w(M)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,B=X.port2;X.port1.onmessage=M,le=function(){B.postMessage(null)}}else le=function(){T(M,0)};function ne(L,ue){D=T(function(){L(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_next=function(L){switch(k){case 1:case 2:case 3:var ue=3;break;default:ue=k}var re=k;k=ue;try{return L()}finally{k=re}},i.unstable_requestPaint=function(){K=!0},i.unstable_runWithPriority=function(L,ue){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var re=k;k=L;try{return ue()}finally{k=re}},i.unstable_scheduleCallback=function(L,ue,re){var me=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?me+re:me):re=me,L){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=re+S,L={id:_++,callback:ue,priorityLevel:L,startTime:re,expirationTime:S,sortIndex:-1},re>me?(L.sortIndex=re,d(z,L),o(g)===null&&L===o(z)&&(J?(O(D),D=-1):J=!0,ne(y,re-me))):(L.sortIndex=S,d(g,L),b||C||(b=!0,G||(G=!0,le()))),L},i.unstable_shouldYield=be,i.unstable_wrapCallback=function(L){var ue=k;return function(){var re=k;k=ue;try{return L.apply(this,arguments)}finally{k=re}}}})(Em)),Em}var Lh;function Ub(){return Lh||(Lh=1,zm.exports=Tb()),zm.exports}var qh;function Mb(){if(qh)return zi;qh=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=Ub(),d=ib(),o=cb();function m(s){var t="https://react.dev/errors/"+s;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+s+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function n(s){var t=s,a=s;if(s.alternate)for(;t.return;)t=t.return;else{s=t;do t=s,(t.flags&4098)!==0&&(a=t.return),s=t.return;while(s)}return t.tag===3?a:null}function f(s){if(s.tag===13){var t=s.memoizedState;if(t===null&&(s=s.alternate,s!==null&&(t=s.memoizedState)),t!==null)return t.dehydrated}return null}function j(s){if(s.tag===31){var t=s.memoizedState;if(t===null&&(s=s.alternate,s!==null&&(t=s.memoizedState)),t!==null)return t.dehydrated}return null}function g(s){if(n(s)!==s)throw Error(m(188))}function z(s){var t=s.alternate;if(!t){if(t=n(s),t===null)throw Error(m(188));return t!==s?null:s}for(var a=s,l=t;;){var r=a.return;if(r===null)break;var c=r.alternate;if(c===null){if(l=r.return,l!==null){a=l;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===a)return g(r),s;if(c===l)return g(r),t;c=c.sibling}throw Error(m(188))}if(a.return!==l.return)a=r,l=c;else{for(var u=!1,N=r.child;N;){if(N===a){u=!0,a=r,l=c;break}if(N===l){u=!0,l=r,a=c;break}N=N.sibling}if(!u){for(N=c.child;N;){if(N===a){u=!0,a=c,l=r;break}if(N===l){u=!0,l=c,a=r;break}N=N.sibling}if(!u)throw Error(m(189))}}if(a.alternate!==l)throw Error(m(190))}if(a.tag!==3)throw Error(m(188));return a.stateNode.current===a?s:t}function _(s){var t=s.tag;if(t===5||t===26||t===27||t===6)return s;for(s=s.child;s!==null;){if(t=_(s),t!==null)return t;s=s.sibling}return null}var A=Object.assign,k=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),w=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var X=Symbol.for("react.client.reference");function B(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===X?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case J:return"Fragment";case T:return"Profiler";case K:return"StrictMode";case y:return"Suspense";case G:return"SuspenseList";case ie:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case w:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case H:var t=s.render;return s=s.displayName,s||(s=t.displayName||t.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return t=s.displayName||null,t!==null?t:B(s.type)||"Memo";case $:t=s._payload,s=s._init;try{return B(s(t))}catch{}}return null}var ne=Array.isArray,L=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},me=[],S=-1;function W(s){return{current:s}}function v(s){0>S||(s.current=me[S],me[S]=null,S--)}function R(s,t){S++,me[S]=s.current,s.current=t}var ae=W(null),Q=W(null),V=W(null),P=W(null);function ce(s,t){switch(R(V,t),R(Q,s),R(ae,null),t.nodeType){case 9:case 11:s=(s=t.documentElement)&&(s=s.namespaceURI)?W0(s):0;break;default:if(s=t.tagName,t=t.namespaceURI)t=W0(t),s=I0(t,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}v(ae),R(ae,s)}function U(){v(ae),v(Q),v(V)}function q(s){s.memoizedState!==null&&R(P,s);var t=ae.current,a=I0(t,s.type);t!==a&&(R(Q,s),R(ae,a))}function F(s){Q.current===s&&(v(ae),v(Q)),P.current===s&&(v(P),_i._currentValue=re)}var ye,ve;function de(s){if(ye===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ye=t&&t[1]||"",ve=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+s+ve}var Y=!1;function we(s,t){if(!s||Y)return"";Y=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(je){var pe=je}Reflect.construct(s,[],Se)}else{try{Se.call()}catch(je){pe=je}s.call(Se.prototype)}}else{try{throw Error()}catch(je){pe=je}(Se=s())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(je){if(je&&pe&&typeof je.stack=="string")return[je.stack,pe.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=l.DetermineComponentFrameRoot(),u=c[0],N=c[1];if(u&&N){var Z=u.split(`
`),ge=N.split(`
`);for(r=l=0;l<Z.length&&!Z[l].includes("DetermineComponentFrameRoot");)l++;for(;r<ge.length&&!ge[r].includes("DetermineComponentFrameRoot");)r++;if(l===Z.length||r===ge.length)for(l=Z.length-1,r=ge.length-1;1<=l&&0<=r&&Z[l]!==ge[r];)r--;for(;1<=l&&0<=r;l--,r--)if(Z[l]!==ge[r]){if(l!==1||r!==1)do if(l--,r--,0>r||Z[l]!==ge[r]){var Ne=`
`+Z[l].replace(" at new "," at ");return s.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",s.displayName)),Ne}while(1<=l&&0<=r);break}}}finally{Y=!1,Error.prepareStackTrace=a}return(a=s?s.displayName||s.name:"")?de(a):""}function E(s,t){switch(s.tag){case 26:case 27:case 5:return de(s.type);case 16:return de("Lazy");case 13:return s.child!==t&&t!==null?de("Suspense Fallback"):de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return we(s.type,!1);case 11:return we(s.type.render,!1);case 1:return we(s.type,!0);case 31:return de("Activity");default:return""}}function ee(s){try{var t="",a=null;do t+=E(s,a),a=s,s=s.return;while(s);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ze=Object.prototype.hasOwnProperty,xe=i.unstable_scheduleCallback,Ae=i.unstable_cancelCallback,Re=i.unstable_shouldYield,fe=i.unstable_requestPaint,Ce=i.unstable_now,Pe=i.unstable_getCurrentPriorityLevel,I=i.unstable_ImmediatePriority,ke=i.unstable_UserBlockingPriority,De=i.unstable_NormalPriority,Xe=i.unstable_LowPriority,gs=i.unstable_IdlePriority,cs=i.log,Qt=i.unstable_setDisableYieldValue,dt=null,ks=null;function wt(s){if(typeof cs=="function"&&Qt(s),ks&&typeof ks.setStrictMode=="function")try{ks.setStrictMode(dt,s)}catch{}}var _t=Math.clz32?Math.clz32:Gi,$i=Math.log,Bi=Math.LN2;function Gi(s){return s>>>=0,s===0?32:31-($i(s)/Bi|0)|0}var Yl=256,Ql=262144,Xl=4194304;function za(s){var t=s&42;if(t!==0)return t;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Fl(s,t,a){var l=s.pendingLanes;if(l===0)return 0;var r=0,c=s.suspendedLanes,u=s.pingedLanes;s=s.warmLanes;var N=l&134217727;return N!==0?(l=N&~c,l!==0?r=za(l):(u&=N,u!==0?r=za(u):a||(a=N&~s,a!==0&&(r=za(a))))):(N=l&~c,N!==0?r=za(N):u!==0?r=za(u):a||(a=l&~s,a!==0&&(r=za(a)))),r===0?0:t!==0&&t!==r&&(t&c)===0&&(c=r&-r,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:r}function ul(s,t){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&t)===0}function Vi(s,t){switch(s){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p(){var s=Xl;return Xl<<=1,(Xl&62914560)===0&&(Xl=4194304),s}function Oe(s){for(var t=[],a=0;31>a;a++)t.push(s);return t}function Me(s,t){s.pendingLanes|=t,t!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function us(s,t,a,l,r,c){var u=s.pendingLanes;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=a,s.entangledLanes&=a,s.errorRecoveryDisabledLanes&=a,s.shellSuspendCounter=0;var N=s.entanglements,Z=s.expirationTimes,ge=s.hiddenUpdates;for(a=u&~a;0<a;){var Ne=31-_t(a),Se=1<<Ne;N[Ne]=0,Z[Ne]=-1;var pe=ge[Ne];if(pe!==null)for(ge[Ne]=null,Ne=0;Ne<pe.length;Ne++){var je=pe[Ne];je!==null&&(je.lane&=-536870913)}a&=~Se}l!==0&&Gs(s,l,0),c!==0&&r===0&&s.tag!==0&&(s.suspendedLanes|=c&~(u&~t))}function Gs(s,t,a){s.pendingLanes|=t,s.suspendedLanes&=~t;var l=31-_t(t);s.entangledLanes|=t,s.entanglements[l]=s.entanglements[l]|1073741824|a&261930}function Ss(s,t){var a=s.entangledLanes|=t;for(s=s.entanglements;a;){var l=31-_t(a),r=1<<l;r&t|s[l]&t&&(s[l]|=t),a&=~r}}function Us(s,t){var a=t&-t;return a=(a&42)!==0?1:Zs(a),(a&(s.suspendedLanes|t))!==0?0:a}function Zs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ke(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function rs(){var s=ue.p;return s!==0?s:(s=window.event,s===void 0?32:Nh(s.type))}function Ms(s,t){var a=ue.p;try{return ue.p=s,t()}finally{ue.p=a}}var $s=Math.random().toString(36).slice(2),js="__reactFiber$"+$s,Rs="__reactProps$"+$s,na="__reactContainer$"+$s,$a="__reactEvents$"+$s,Cr="__reactListeners$"+$s,kt="__reactHandles$"+$s,Xt="__reactResources$"+$s,hl="__reactMarker$"+$s;function zr(s){delete s[js],delete s[Rs],delete s[$a],delete s[Cr],delete s[kt]}function Ba(s){var t=s[js];if(t)return t;for(var a=s.parentNode;a;){if(t=a[na]||a[js]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(s=nh(s);s!==null;){if(a=s[js])return a;s=nh(s)}return t}s=a,a=s.parentNode}return null}function Ga(s){if(s=s[js]||s[na]){var t=s.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return s}return null}function gl(s){var t=s.tag;if(t===5||t===26||t===27||t===6)return s.stateNode;throw Error(m(33))}function Va(s){var t=s[Xt];return t||(t=s[Xt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ys(s){s[hl]=!0}var En=new Set,An={};function Ea(s,t){Ha(s,t),Ha(s+"Capture",t)}function Ha(s,t){for(An[s]=t,s=0;s<t.length;s++)En.add(t[s])}var Hi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tn={},Un={};function Ki(s){return ze.call(Un,s)?!0:ze.call(Tn,s)?!1:Hi.test(s)?Un[s]=!0:(Tn[s]=!0,!1)}function Zl(s,t,a){if(Ki(t))if(a===null)s.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":s.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){s.removeAttribute(t);return}}s.setAttribute(t,""+a)}}function Jl(s,t,a){if(a===null)s.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(t);return}s.setAttribute(t,""+a)}}function ia(s,t,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttributeNS(t,a,""+l)}}function Et(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Mn(s){var t=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yi(s,t,a){var l=Object.getOwnPropertyDescriptor(s.constructor.prototype,t);if(!s.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var r=l.get,c=l.set;return Object.defineProperty(s,t,{configurable:!0,get:function(){return r.call(this)},set:function(u){a=""+u,c.call(this,u)}}),Object.defineProperty(s,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(u){a=""+u},stopTracking:function(){s._valueTracker=null,delete s[t]}}}}function Er(s){if(!s._valueTracker){var t=Mn(s)?"checked":"value";s._valueTracker=Yi(s,t,""+s[t])}}function Dn(s){if(!s)return!1;var t=s._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return s&&(l=Mn(s)?s.checked?"true":"false":s.value),s=l,s!==a?(t.setValue(s),!0):!1}function Pl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Qi=/[\n"\\]/g;function At(s){return s.replace(Qi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ar(s,t,a,l,r,c,u,N){s.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?s.type=u:s.removeAttribute("type"),t!=null?u==="number"?(t===0&&s.value===""||s.value!=t)&&(s.value=""+Et(t)):s.value!==""+Et(t)&&(s.value=""+Et(t)):u!=="submit"&&u!=="reset"||s.removeAttribute("value"),t!=null?Tr(s,u,Et(t)):a!=null?Tr(s,u,Et(a)):l!=null&&s.removeAttribute("value"),r==null&&c!=null&&(s.defaultChecked=!!c),r!=null&&(s.checked=r&&typeof r!="function"&&typeof r!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+Et(N):s.removeAttribute("name")}function Ln(s,t,a,l,r,c,u,N){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(s.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Er(s);return}a=a!=null?""+Et(a):"",t=t!=null?""+Et(t):a,N||t===s.value||(s.value=t),s.defaultValue=t}l=l??r,l=typeof l!="function"&&typeof l!="symbol"&&!!l,s.checked=N?s.checked:!!l,s.defaultChecked=!!l,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(s.name=u),Er(s)}function Tr(s,t,a){t==="number"&&Pl(s.ownerDocument)===s||s.defaultValue===""+a||(s.defaultValue=""+a)}function Ka(s,t,a,l){if(s=s.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<s.length;a++)r=t.hasOwnProperty("$"+s[a].value),s[a].selected!==r&&(s[a].selected=r),r&&l&&(s[a].defaultSelected=!0)}else{for(a=""+Et(a),t=null,r=0;r<s.length;r++){if(s[r].value===a){s[r].selected=!0,l&&(s[r].defaultSelected=!0);return}t!==null||s[r].disabled||(t=s[r])}t!==null&&(t.selected=!0)}}function qn(s,t,a){if(t!=null&&(t=""+Et(t),t!==s.value&&(s.value=t),a==null)){s.defaultValue!==t&&(s.defaultValue=t);return}s.defaultValue=a!=null?""+Et(a):""}function Rn(s,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(m(92));if(ne(l)){if(1<l.length)throw Error(m(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Et(t),s.defaultValue=a,l=s.textContent,l===a&&l!==""&&l!==null&&(s.value=l),Er(s)}function Ya(s,t){if(t){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=t;return}}s.textContent=t}var Xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function On(s,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?s.setProperty(t,""):t==="float"?s.cssFloat="":s[t]="":l?s.setProperty(t,a):typeof a!="number"||a===0||Xi.has(t)?t==="float"?s.cssFloat=a:s[t]=(""+a).trim():s[t]=a+"px"}function $n(s,t,a){if(t!=null&&typeof t!="object")throw Error(m(62));if(s=s.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="");for(var r in t)l=t[r],t.hasOwnProperty(r)&&a[r]!==l&&On(s,r,l)}else for(var c in t)t.hasOwnProperty(c)&&On(s,c,t[c])}function Ur(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(s){return Zi.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ca(){}var Mr=null;function Dr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Qa=null,Xa=null;function Bn(s){var t=Ga(s);if(t&&(s=t.stateNode)){var a=s[Rs]||null;e:switch(s=t.stateNode,t.type){case"input":if(Ar(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+At(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==s&&l.form===s.form){var r=l[Rs]||null;if(!r)throw Error(m(90));Ar(l,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===s.form&&Dn(l)}break e;case"textarea":qn(s,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ka(s,!!a.multiple,t,!1)}}}var Lr=!1;function Gn(s,t,a){if(Lr)return s(t,a);Lr=!0;try{var l=s(t);return l}finally{if(Lr=!1,(Qa!==null||Xa!==null)&&(Bc(),Qa&&(t=Qa,s=Xa,Xa=Qa=null,Bn(t),s)))for(t=0;t<s.length;t++)Bn(s[t])}}function pl(s,t){var a=s.stateNode;if(a===null)return null;var l=a[Rs]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(s=s.type,l=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!l;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(m(231,t,typeof a));return a}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(oa)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){qr=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{qr=!1}var ja=null,Rr=null,Il=null;function Vn(){if(Il)return Il;var s,t=Rr,a=t.length,l,r="value"in ja?ja.value:ja.textContent,c=r.length;for(s=0;s<a&&t[s]===r[s];s++);var u=a-s;for(l=1;l<=u&&t[a-l]===r[c-l];l++);return Il=r.slice(s,1<l?1-l:void 0)}function er(s){var t=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&t===13&&(s=13)):s=t,s===10&&(s=13),32<=s||s===13?s:0}function sr(){return!0}function Hn(){return!1}function mt(s){function t(a,l,r,c,u){this._reactName=a,this._targetInst=r,this.type=l,this.nativeEvent=c,this.target=u,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(a=s[N],this[N]=a?a(c):c[N]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?sr:Hn,this.isPropagationStopped=Hn,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),t}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=mt(Aa),bl=A({},Aa,{view:0,detail:0}),Ji=mt(bl),Or,$r,jl,ar=A({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==jl&&(jl&&s.type==="mousemove"?(Or=s.screenX-jl.screenX,$r=s.screenY-jl.screenY):$r=Or=0,jl=s),Or)},movementY:function(s){return"movementY"in s?s.movementY:$r}}),Kn=mt(ar),Pi=A({},ar,{dataTransfer:0}),Wi=mt(Pi),Ii=A({},bl,{relatedTarget:0}),Br=mt(Ii),ec=A({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),sc=mt(ec),tc=A({},Aa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ls=mt(tc),Ds=A({},Aa,{data:0}),ys=mt(Ds),ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ac(s){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(s):(s=Uo[s])?!!t[s]:!1}function Vr(){return ac}var lc=A({},bl,{key:function(s){if(s.key){var t=ya[s.key]||s.key;if(t!=="Unidentified")return t}return s.type==="keypress"?(s=er(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Gr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(s){return s.type==="keypress"?er(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?er(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Vg=mt(lc),Hg=A({},ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ax=mt(Hg),Kg=A({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),Yg=mt(Kg),Qg=A({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xg=mt(Qg),Fg=A({},ar,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zg=mt(Fg),Jg=A({},Aa,{newState:0,oldState:0}),Pg=mt(Jg),Wg=[9,13,27,32],Mo=oa&&"CompositionEvent"in window,Yn=null;oa&&"documentMode"in document&&(Yn=document.documentMode);var Ig=oa&&"TextEvent"in window&&!Yn,lx=oa&&(!Mo||Yn&&8<Yn&&11>=Yn),rx=" ",nx=!1;function ix(s,t){switch(s){case"keyup":return Wg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Hr=!1;function ep(s,t){switch(s){case"compositionend":return cx(t);case"keypress":return t.which!==32?null:(nx=!0,rx);case"textInput":return s=t.data,s===rx&&nx?null:s;default:return null}}function sp(s,t){if(Hr)return s==="compositionend"||!Mo&&ix(s,t)?(s=Vn(),Il=Rr=ja=null,Hr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lx&&t.locale!=="ko"?null:t.data;default:return null}}var tp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ox(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t==="input"?!!tp[s.type]:t==="textarea"}function dx(s,t,a,l){Qa?Xa?Xa.push(l):Xa=[l]:Qa=l,t=Xc(t,"onChange"),0<t.length&&(a=new tr("onChange","change",null,a,l),s.push({event:a,listeners:t}))}var Qn=null,Xn=null;function ap(s){Q0(s,0)}function rc(s){var t=gl(s);if(Dn(t))return s}function mx(s,t){if(s==="change")return t}var xx=!1;if(oa){var Do;if(oa){var Lo="oninput"in document;if(!Lo){var ux=document.createElement("div");ux.setAttribute("oninput","return;"),Lo=typeof ux.oninput=="function"}Do=Lo}else Do=!1;xx=Do&&(!document.documentMode||9<document.documentMode)}function hx(){Qn&&(Qn.detachEvent("onpropertychange",gx),Xn=Qn=null)}function gx(s){if(s.propertyName==="value"&&rc(Xn)){var t=[];dx(t,Xn,s,Dr(s)),Gn(ap,t)}}function lp(s,t,a){s==="focusin"?(hx(),Qn=t,Xn=a,Qn.attachEvent("onpropertychange",gx)):s==="focusout"&&hx()}function rp(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return rc(Xn)}function np(s,t){if(s==="click")return rc(t)}function ip(s,t){if(s==="input"||s==="change")return rc(t)}function cp(s,t){return s===t&&(s!==0||1/s===1/t)||s!==s&&t!==t}var Ft=typeof Object.is=="function"?Object.is:cp;function Fn(s,t){if(Ft(s,t))return!0;if(typeof s!="object"||s===null||typeof t!="object"||t===null)return!1;var a=Object.keys(s),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var r=a[l];if(!ze.call(t,r)||!Ft(s[r],t[r]))return!1}return!0}function px(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function fx(s,t){var a=px(s);s=0;for(var l;a;){if(a.nodeType===3){if(l=s+a.textContent.length,s<=t&&l>=t)return{node:a,offset:t-s};s=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=px(a)}}function bx(s,t){return s&&t?s===t?!0:s&&s.nodeType===3?!1:t&&t.nodeType===3?bx(s,t.parentNode):"contains"in s?s.contains(t):s.compareDocumentPosition?!!(s.compareDocumentPosition(t)&16):!1:!1}function jx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var t=Pl(s.document);t instanceof s.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)s=t.contentWindow;else break;t=Pl(s.document)}return t}function qo(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t&&(t==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||t==="textarea"||s.contentEditable==="true")}var op=oa&&"documentMode"in document&&11>=document.documentMode,Kr=null,Ro=null,Zn=null,Oo=!1;function yx(s,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Oo||Kr==null||Kr!==Pl(l)||(l=Kr,"selectionStart"in l&&qo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zn&&Fn(Zn,l)||(Zn=l,l=Xc(Ro,"onSelect"),0<l.length&&(t=new tr("onSelect","select",null,t,a),s.push({event:t,listeners:l}),t.target=Kr)))}function lr(s,t){var a={};return a[s.toLowerCase()]=t.toLowerCase(),a["Webkit"+s]="webkit"+t,a["Moz"+s]="moz"+t,a}var Yr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},$o={},vx={};oa&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function rr(s){if($o[s])return $o[s];if(!Yr[s])return s;var t=Yr[s],a;for(a in t)if(t.hasOwnProperty(a)&&a in vx)return $o[s]=t[a];return s}var Nx=rr("animationend"),wx=rr("animationiteration"),_x=rr("animationstart"),dp=rr("transitionrun"),mp=rr("transitionstart"),xp=rr("transitioncancel"),kx=rr("transitionend"),Sx=new Map,Bo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bo.push("scrollEnd");function va(s,t){Sx.set(s,t),Ea(t,[s])}var nc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},da=[],Qr=0,Go=0;function ic(){for(var s=Qr,t=Go=Qr=0;t<s;){var a=da[t];da[t++]=null;var l=da[t];da[t++]=null;var r=da[t];da[t++]=null;var c=da[t];if(da[t++]=null,l!==null&&r!==null){var u=l.pending;u===null?r.next=r:(r.next=u.next,u.next=r),l.pending=r}c!==0&&Cx(a,r,c)}}function cc(s,t,a,l){da[Qr++]=s,da[Qr++]=t,da[Qr++]=a,da[Qr++]=l,Go|=l,s.lanes|=l,s=s.alternate,s!==null&&(s.lanes|=l)}function Vo(s,t,a,l){return cc(s,t,a,l),oc(s)}function nr(s,t){return cc(s,null,null,t),oc(s)}function Cx(s,t,a){s.lanes|=a;var l=s.alternate;l!==null&&(l.lanes|=a);for(var r=!1,c=s.return;c!==null;)c.childLanes|=a,l=c.alternate,l!==null&&(l.childLanes|=a),c.tag===22&&(s=c.stateNode,s===null||s._visibility&1||(r=!0)),s=c,c=c.return;return s.tag===3?(c=s.stateNode,r&&t!==null&&(r=31-_t(a),s=c.hiddenUpdates,l=s[r],l===null?s[r]=[t]:l.push(t),t.lane=a|536870912),c):null}function oc(s){if(50<fi)throw fi=0,Pd=null,Error(m(185));for(var t=s.return;t!==null;)s=t,t=s.return;return s.tag===3?s.stateNode:null}var Xr={};function up(s,t,a,l){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(s,t,a,l){return new up(s,t,a,l)}function Ho(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Fa(s,t){var a=s.alternate;return a===null?(a=Zt(s.tag,t,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=t,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&65011712,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a.refCleanup=s.refCleanup,a}function zx(s,t){s.flags&=65011714;var a=s.alternate;return a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s}function dc(s,t,a,l,r,c){var u=0;if(l=s,typeof s=="function")Ho(s)&&(u=1);else if(typeof s=="string")u=jf(s,a,ae.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case ie:return s=Zt(31,a,t,r),s.elementType=ie,s.lanes=c,s;case J:return ir(a.children,r,c,t);case K:u=8,r|=24;break;case T:return s=Zt(12,a,t,r|2),s.elementType=T,s.lanes=c,s;case y:return s=Zt(13,a,t,r),s.elementType=y,s.lanes=c,s;case G:return s=Zt(19,a,t,r),s.elementType=G,s.lanes=c,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case w:u=10;break e;case O:u=9;break e;case H:u=11;break e;case D:u=14;break e;case $:u=16,l=null;break e}u=29,a=Error(m(130,s===null?"null":typeof s,"")),l=null}return t=Zt(u,a,t,r),t.elementType=s,t.type=l,t.lanes=c,t}function ir(s,t,a,l){return s=Zt(7,s,l,t),s.lanes=a,s}function Ko(s,t,a){return s=Zt(6,s,null,t),s.lanes=a,s}function Ex(s){var t=Zt(18,null,null,0);return t.stateNode=s,t}function Yo(s,t,a){return t=Zt(4,s.children!==null?s.children:[],s.key,t),t.lanes=a,t.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},t}var Ax=new WeakMap;function ma(s,t){if(typeof s=="object"&&s!==null){var a=Ax.get(s);return a!==void 0?a:(t={value:s,source:t,stack:ee(t)},Ax.set(s,t),t)}return{value:s,source:t,stack:ee(t)}}var Fr=[],Zr=0,mc=null,Jn=0,xa=[],ua=0,yl=null,Ta=1,Ua="";function Za(s,t){Fr[Zr++]=Jn,Fr[Zr++]=mc,mc=s,Jn=t}function Tx(s,t,a){xa[ua++]=Ta,xa[ua++]=Ua,xa[ua++]=yl,yl=s;var l=Ta;s=Ua;var r=32-_t(l)-1;l&=~(1<<r),a+=1;var c=32-_t(t)+r;if(30<c){var u=r-r%5;c=(l&(1<<u)-1).toString(32),l>>=u,r-=u,Ta=1<<32-_t(t)+r|a<<r|l,Ua=c+s}else Ta=1<<c|a<<r|l,Ua=s}function Qo(s){s.return!==null&&(Za(s,1),Tx(s,1,0))}function Xo(s){for(;s===mc;)mc=Fr[--Zr],Fr[Zr]=null,Jn=Fr[--Zr],Fr[Zr]=null;for(;s===yl;)yl=xa[--ua],xa[ua]=null,Ua=xa[--ua],xa[ua]=null,Ta=xa[--ua],xa[ua]=null}function Ux(s,t){xa[ua++]=Ta,xa[ua++]=Ua,xa[ua++]=yl,Ta=t.id,Ua=t.overflow,yl=s}var xt=null,Ls=null,ts=!1,vl=null,ha=!1,Fo=Error(m(519));function Nl(s){var t=Error(m(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pn(ma(t,s)),Fo}function Mx(s){var t=s.stateNode,a=s.type,l=s.memoizedProps;switch(t[js]=s,t[Rs]=l,a){case"dialog":Je("cancel",t),Je("close",t);break;case"iframe":case"object":case"embed":Je("load",t);break;case"video":case"audio":for(a=0;a<ji.length;a++)Je(ji[a],t);break;case"source":Je("error",t);break;case"img":case"image":case"link":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"input":Je("invalid",t),Ln(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Je("invalid",t);break;case"textarea":Je("invalid",t),Rn(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||J0(t.textContent,a)?(l.popover!=null&&(Je("beforetoggle",t),Je("toggle",t)),l.onScroll!=null&&Je("scroll",t),l.onScrollEnd!=null&&Je("scrollend",t),l.onClick!=null&&(t.onclick=ca),t=!0):t=!1,t||Nl(s,!0)}function Dx(s){for(xt=s.return;xt;)switch(xt.tag){case 5:case 31:case 13:ha=!1;return;case 27:case 3:ha=!0;return;default:xt=xt.return}}function Jr(s){if(s!==xt)return!1;if(!ts)return Dx(s),ts=!0,!1;var t=s.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=s.type,a=!(a!=="form"&&a!=="button")||xm(s.type,s.memoizedProps)),a=!a),a&&Ls&&Nl(s),Dx(s),t===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(m(317));Ls=rh(s)}else if(t===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(m(317));Ls=rh(s)}else t===27?(t=Ls,ql(s.type)?(s=fm,fm=null,Ls=s):Ls=t):Ls=xt?pa(s.stateNode.nextSibling):null;return!0}function cr(){Ls=xt=null,ts=!1}function Zo(){var s=vl;return s!==null&&(Bt===null?Bt=s:Bt.push.apply(Bt,s),vl=null),s}function Pn(s){vl===null?vl=[s]:vl.push(s)}var Jo=W(null),or=null,Ja=null;function wl(s,t,a){R(Jo,t._currentValue),t._currentValue=a}function Pa(s){s._currentValue=Jo.current,v(Jo)}function Po(s,t,a){for(;s!==null;){var l=s.alternate;if((s.childLanes&t)!==t?(s.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),s===a)break;s=s.return}}function Wo(s,t,a,l){var r=s.child;for(r!==null&&(r.return=s);r!==null;){var c=r.dependencies;if(c!==null){var u=r.child;c=c.firstContext;e:for(;c!==null;){var N=c;c=r;for(var Z=0;Z<t.length;Z++)if(N.context===t[Z]){c.lanes|=a,N=c.alternate,N!==null&&(N.lanes|=a),Po(c.return,a,s),l||(u=null);break e}c=N.next}}else if(r.tag===18){if(u=r.return,u===null)throw Error(m(341));u.lanes|=a,c=u.alternate,c!==null&&(c.lanes|=a),Po(u,a,s),u=null}else u=r.child;if(u!==null)u.return=r;else for(u=r;u!==null;){if(u===s){u=null;break}if(r=u.sibling,r!==null){r.return=u.return,u=r;break}u=u.return}r=u}}function Pr(s,t,a,l){s=null;for(var r=t,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var u=r.alternate;if(u===null)throw Error(m(387));if(u=u.memoizedProps,u!==null){var N=r.type;Ft(r.pendingProps.value,u.value)||(s!==null?s.push(N):s=[N])}}else if(r===P.current){if(u=r.alternate,u===null)throw Error(m(387));u.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(s!==null?s.push(_i):s=[_i])}r=r.return}s!==null&&Wo(t,s,a,l),t.flags|=262144}function xc(s){for(s=s.firstContext;s!==null;){if(!Ft(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function dr(s){or=s,Ja=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ut(s){return Lx(or,s)}function uc(s,t){return or===null&&dr(s),Lx(s,t)}function Lx(s,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ja===null){if(s===null)throw Error(m(308));Ja=t,s.dependencies={lanes:0,firstContext:t},s.flags|=524288}else Ja=Ja.next=t;return a}var hp=typeof AbortController<"u"?AbortController:function(){var s=[],t=this.signal={aborted:!1,addEventListener:function(a,l){s.push(l)}};this.abort=function(){t.aborted=!0,s.forEach(function(a){return a()})}},gp=i.unstable_scheduleCallback,pp=i.unstable_NormalPriority,Js={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Io(){return{controller:new hp,data:new Map,refCount:0}}function Wn(s){s.refCount--,s.refCount===0&&gp(pp,function(){s.controller.abort()})}var In=null,ed=0,Wr=0,Ir=null;function fp(s,t){if(In===null){var a=In=[];ed=0,Wr=am(),Ir={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ed++,t.then(qx,qx),t}function qx(){if(--ed===0&&In!==null){Ir!==null&&(Ir.status="fulfilled");var s=In;In=null,Wr=0,Ir=null;for(var t=0;t<s.length;t++)(0,s[t])()}}function bp(s,t){var a=[],l={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return s.then(function(){l.status="fulfilled",l.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(l.status="rejected",l.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),l}var Rx=L.S;L.S=function(s,t){y0=Ce(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&fp(s,t),Rx!==null&&Rx(s,t)};var mr=W(null);function sd(){var s=mr.current;return s!==null?s:Cs.pooledCache}function hc(s,t){t===null?R(mr,mr.current):R(mr,t.pool)}function Ox(){var s=sd();return s===null?null:{parent:Js._currentValue,pool:s}}var en=Error(m(460)),td=Error(m(474)),gc=Error(m(542)),pc={then:function(){}};function $x(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Bx(s,t,a){switch(a=s[a],a===void 0?s.push(t):a!==t&&(t.then(ca,ca),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw s=t.reason,Vx(s),s;default:if(typeof t.status=="string")t.then(ca,ca);else{if(s=Cs,s!==null&&100<s.shellSuspendCounter)throw Error(m(482));s=t,s.status="pending",s.then(function(l){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=l}},function(l){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw s=t.reason,Vx(s),s}throw ur=t,en}}function xr(s){try{var t=s._init;return t(s._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ur=a,en):a}}var ur=null;function Gx(){if(ur===null)throw Error(m(459));var s=ur;return ur=null,s}function Vx(s){if(s===en||s===gc)throw Error(m(483))}var sn=null,ei=0;function fc(s){var t=ei;return ei+=1,sn===null&&(sn=[]),Bx(sn,s,t)}function si(s,t){t=t.props.ref,s.ref=t!==void 0?t:null}function bc(s,t){throw t.$$typeof===k?Error(m(525)):(s=Object.prototype.toString.call(t),Error(m(31,s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)))}function Hx(s){function t(oe,te){if(s){var he=oe.deletions;he===null?(oe.deletions=[te],oe.flags|=16):he.push(te)}}function a(oe,te){if(!s)return null;for(;te!==null;)t(oe,te),te=te.sibling;return null}function l(oe){for(var te=new Map;oe!==null;)oe.key!==null?te.set(oe.key,oe):te.set(oe.index,oe),oe=oe.sibling;return te}function r(oe,te){return oe=Fa(oe,te),oe.index=0,oe.sibling=null,oe}function c(oe,te,he){return oe.index=he,s?(he=oe.alternate,he!==null?(he=he.index,he<te?(oe.flags|=67108866,te):he):(oe.flags|=67108866,te)):(oe.flags|=1048576,te)}function u(oe){return s&&oe.alternate===null&&(oe.flags|=67108866),oe}function N(oe,te,he,_e){return te===null||te.tag!==6?(te=Ko(he,oe.mode,_e),te.return=oe,te):(te=r(te,he),te.return=oe,te)}function Z(oe,te,he,_e){var $e=he.type;return $e===J?Ne(oe,te,he.props.children,_e,he.key):te!==null&&(te.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===$&&xr($e)===te.type)?(te=r(te,he.props),si(te,he),te.return=oe,te):(te=dc(he.type,he.key,he.props,null,oe.mode,_e),si(te,he),te.return=oe,te)}function ge(oe,te,he,_e){return te===null||te.tag!==4||te.stateNode.containerInfo!==he.containerInfo||te.stateNode.implementation!==he.implementation?(te=Yo(he,oe.mode,_e),te.return=oe,te):(te=r(te,he.children||[]),te.return=oe,te)}function Ne(oe,te,he,_e,$e){return te===null||te.tag!==7?(te=ir(he,oe.mode,_e,$e),te.return=oe,te):(te=r(te,he),te.return=oe,te)}function Se(oe,te,he){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Ko(""+te,oe.mode,he),te.return=oe,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case C:return he=dc(te.type,te.key,te.props,null,oe.mode,he),si(he,te),he.return=oe,he;case b:return te=Yo(te,oe.mode,he),te.return=oe,te;case $:return te=xr(te),Se(oe,te,he)}if(ne(te)||le(te))return te=ir(te,oe.mode,he,null),te.return=oe,te;if(typeof te.then=="function")return Se(oe,fc(te),he);if(te.$$typeof===w)return Se(oe,uc(oe,te),he);bc(oe,te)}return null}function pe(oe,te,he,_e){var $e=te!==null?te.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return $e!==null?null:N(oe,te,""+he,_e);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case C:return he.key===$e?Z(oe,te,he,_e):null;case b:return he.key===$e?ge(oe,te,he,_e):null;case $:return he=xr(he),pe(oe,te,he,_e)}if(ne(he)||le(he))return $e!==null?null:Ne(oe,te,he,_e,null);if(typeof he.then=="function")return pe(oe,te,fc(he),_e);if(he.$$typeof===w)return pe(oe,te,uc(oe,he),_e);bc(oe,he)}return null}function je(oe,te,he,_e,$e){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return oe=oe.get(he)||null,N(te,oe,""+_e,$e);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case C:return oe=oe.get(_e.key===null?he:_e.key)||null,Z(te,oe,_e,$e);case b:return oe=oe.get(_e.key===null?he:_e.key)||null,ge(te,oe,_e,$e);case $:return _e=xr(_e),je(oe,te,he,_e,$e)}if(ne(_e)||le(_e))return oe=oe.get(he)||null,Ne(te,oe,_e,$e,null);if(typeof _e.then=="function")return je(oe,te,he,fc(_e),$e);if(_e.$$typeof===w)return je(oe,te,he,uc(te,_e),$e);bc(te,_e)}return null}function Te(oe,te,he,_e){for(var $e=null,os=null,Le=te,Fe=te=0,Ie=null;Le!==null&&Fe<he.length;Fe++){Le.index>Fe?(Ie=Le,Le=null):Ie=Le.sibling;var ds=pe(oe,Le,he[Fe],_e);if(ds===null){Le===null&&(Le=Ie);break}s&&Le&&ds.alternate===null&&t(oe,Le),te=c(ds,te,Fe),os===null?$e=ds:os.sibling=ds,os=ds,Le=Ie}if(Fe===he.length)return a(oe,Le),ts&&Za(oe,Fe),$e;if(Le===null){for(;Fe<he.length;Fe++)Le=Se(oe,he[Fe],_e),Le!==null&&(te=c(Le,te,Fe),os===null?$e=Le:os.sibling=Le,os=Le);return ts&&Za(oe,Fe),$e}for(Le=l(Le);Fe<he.length;Fe++)Ie=je(Le,oe,Fe,he[Fe],_e),Ie!==null&&(s&&Ie.alternate!==null&&Le.delete(Ie.key===null?Fe:Ie.key),te=c(Ie,te,Fe),os===null?$e=Ie:os.sibling=Ie,os=Ie);return s&&Le.forEach(function(Gl){return t(oe,Gl)}),ts&&Za(oe,Fe),$e}function Ge(oe,te,he,_e){if(he==null)throw Error(m(151));for(var $e=null,os=null,Le=te,Fe=te=0,Ie=null,ds=he.next();Le!==null&&!ds.done;Fe++,ds=he.next()){Le.index>Fe?(Ie=Le,Le=null):Ie=Le.sibling;var Gl=pe(oe,Le,ds.value,_e);if(Gl===null){Le===null&&(Le=Ie);break}s&&Le&&Gl.alternate===null&&t(oe,Le),te=c(Gl,te,Fe),os===null?$e=Gl:os.sibling=Gl,os=Gl,Le=Ie}if(ds.done)return a(oe,Le),ts&&Za(oe,Fe),$e;if(Le===null){for(;!ds.done;Fe++,ds=he.next())ds=Se(oe,ds.value,_e),ds!==null&&(te=c(ds,te,Fe),os===null?$e=ds:os.sibling=ds,os=ds);return ts&&Za(oe,Fe),$e}for(Le=l(Le);!ds.done;Fe++,ds=he.next())ds=je(Le,oe,Fe,ds.value,_e),ds!==null&&(s&&ds.alternate!==null&&Le.delete(ds.key===null?Fe:ds.key),te=c(ds,te,Fe),os===null?$e=ds:os.sibling=ds,os=ds);return s&&Le.forEach(function(Af){return t(oe,Af)}),ts&&Za(oe,Fe),$e}function ws(oe,te,he,_e){if(typeof he=="object"&&he!==null&&he.type===J&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case C:e:{for(var $e=he.key;te!==null;){if(te.key===$e){if($e=he.type,$e===J){if(te.tag===7){a(oe,te.sibling),_e=r(te,he.props.children),_e.return=oe,oe=_e;break e}}else if(te.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===$&&xr($e)===te.type){a(oe,te.sibling),_e=r(te,he.props),si(_e,he),_e.return=oe,oe=_e;break e}a(oe,te);break}else t(oe,te);te=te.sibling}he.type===J?(_e=ir(he.props.children,oe.mode,_e,he.key),_e.return=oe,oe=_e):(_e=dc(he.type,he.key,he.props,null,oe.mode,_e),si(_e,he),_e.return=oe,oe=_e)}return u(oe);case b:e:{for($e=he.key;te!==null;){if(te.key===$e)if(te.tag===4&&te.stateNode.containerInfo===he.containerInfo&&te.stateNode.implementation===he.implementation){a(oe,te.sibling),_e=r(te,he.children||[]),_e.return=oe,oe=_e;break e}else{a(oe,te);break}else t(oe,te);te=te.sibling}_e=Yo(he,oe.mode,_e),_e.return=oe,oe=_e}return u(oe);case $:return he=xr(he),ws(oe,te,he,_e)}if(ne(he))return Te(oe,te,he,_e);if(le(he)){if($e=le(he),typeof $e!="function")throw Error(m(150));return he=$e.call(he),Ge(oe,te,he,_e)}if(typeof he.then=="function")return ws(oe,te,fc(he),_e);if(he.$$typeof===w)return ws(oe,te,uc(oe,he),_e);bc(oe,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,te!==null&&te.tag===6?(a(oe,te.sibling),_e=r(te,he),_e.return=oe,oe=_e):(a(oe,te),_e=Ko(he,oe.mode,_e),_e.return=oe,oe=_e),u(oe)):a(oe,te)}return function(oe,te,he,_e){try{ei=0;var $e=ws(oe,te,he,_e);return sn=null,$e}catch(Le){if(Le===en||Le===gc)throw Le;var os=Zt(29,Le,null,oe.mode);return os.lanes=_e,os.return=oe,os}finally{}}}var hr=Hx(!0),Kx=Hx(!1),_l=!1;function ad(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(s,t){s=s.updateQueue,t.updateQueue===s&&(t.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function kl(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Sl(s,t,a){var l=s.updateQueue;if(l===null)return null;if(l=l.shared,(hs&2)!==0){var r=l.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),l.pending=t,t=oc(s),Cx(s,null,a),t}return cc(s,l,t,a),oc(s)}function ti(s,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=s.pendingLanes,a|=l,t.lanes=a,Ss(s,a)}}function rd(s,t){var a=s.updateQueue,l=s.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var r=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var u={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?r=c=u:c=c.next=u,a=a.next}while(a!==null);c===null?r=c=t:c=c.next=t}else r=c=t;a={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:l.shared,callbacks:l.callbacks},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=t:s.next=t,a.lastBaseUpdate=t}var nd=!1;function ai(){if(nd){var s=Ir;if(s!==null)throw s}}function li(s,t,a,l){nd=!1;var r=s.updateQueue;_l=!1;var c=r.firstBaseUpdate,u=r.lastBaseUpdate,N=r.shared.pending;if(N!==null){r.shared.pending=null;var Z=N,ge=Z.next;Z.next=null,u===null?c=ge:u.next=ge,u=Z;var Ne=s.alternate;Ne!==null&&(Ne=Ne.updateQueue,N=Ne.lastBaseUpdate,N!==u&&(N===null?Ne.firstBaseUpdate=ge:N.next=ge,Ne.lastBaseUpdate=Z))}if(c!==null){var Se=r.baseState;u=0,Ne=ge=Z=null,N=c;do{var pe=N.lane&-536870913,je=pe!==N.lane;if(je?(We&pe)===pe:(l&pe)===pe){pe!==0&&pe===Wr&&(nd=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Te=s,Ge=N;pe=t;var ws=a;switch(Ge.tag){case 1:if(Te=Ge.payload,typeof Te=="function"){Se=Te.call(ws,Se,pe);break e}Se=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ge.payload,pe=typeof Te=="function"?Te.call(ws,Se,pe):Te,pe==null)break e;Se=A({},Se,pe);break e;case 2:_l=!0}}pe=N.callback,pe!==null&&(s.flags|=64,je&&(s.flags|=8192),je=r.callbacks,je===null?r.callbacks=[pe]:je.push(pe))}else je={lane:pe,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Ne===null?(ge=Ne=je,Z=Se):Ne=Ne.next=je,u|=pe;if(N=N.next,N===null){if(N=r.shared.pending,N===null)break;je=N,N=je.next,je.next=null,r.lastBaseUpdate=je,r.shared.pending=null}}while(!0);Ne===null&&(Z=Se),r.baseState=Z,r.firstBaseUpdate=ge,r.lastBaseUpdate=Ne,c===null&&(r.shared.lanes=0),Tl|=u,s.lanes=u,s.memoizedState=Se}}function Yx(s,t){if(typeof s!="function")throw Error(m(191,s));s.call(t)}function Qx(s,t){var a=s.callbacks;if(a!==null)for(s.callbacks=null,s=0;s<a.length;s++)Yx(a[s],t)}var tn=W(null),jc=W(0);function Xx(s,t){s=nl,R(jc,s),R(tn,t),nl=s|t.baseLanes}function id(){R(jc,nl),R(tn,tn.current)}function cd(){nl=jc.current,v(tn),v(jc)}var Jt=W(null),ga=null;function Cl(s){var t=s.alternate;R(Qs,Qs.current&1),R(Jt,s),ga===null&&(t===null||tn.current!==null||t.memoizedState!==null)&&(ga=s)}function od(s){R(Qs,Qs.current),R(Jt,s),ga===null&&(ga=s)}function Fx(s){s.tag===22?(R(Qs,Qs.current),R(Jt,s),ga===null&&(ga=s)):zl()}function zl(){R(Qs,Qs.current),R(Jt,Jt.current)}function Pt(s){v(Jt),ga===s&&(ga=null),v(Qs)}var Qs=W(0);function yc(s){for(var t=s;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||gm(a)||pm(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wa=0,Ye=null,vs=null,Ps=null,vc=!1,an=!1,gr=!1,Nc=0,ri=0,ln=null,jp=0;function Vs(){throw Error(m(321))}function dd(s,t){if(t===null)return!1;for(var a=0;a<t.length&&a<s.length;a++)if(!Ft(s[a],t[a]))return!1;return!0}function md(s,t,a,l,r,c){return Wa=c,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=s===null||s.memoizedState===null?Tu:Sd,gr=!1,c=a(l,r),gr=!1,an&&(c=Jx(t,a,l,r)),Zx(s),c}function Zx(s){L.H=ci;var t=vs!==null&&vs.next!==null;if(Wa=0,Ps=vs=Ye=null,vc=!1,ri=0,ln=null,t)throw Error(m(300));s===null||Ws||(s=s.dependencies,s!==null&&xc(s)&&(Ws=!0))}function Jx(s,t,a,l){Ye=s;var r=0;do{if(an&&(ln=null),ri=0,an=!1,25<=r)throw Error(m(301));if(r+=1,Ps=vs=null,s.updateQueue!=null){var c=s.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}L.H=Uu,c=t(a,l)}while(an);return c}function yp(){var s=L.H,t=s.useState()[0];return t=typeof t.then=="function"?ni(t):t,s=s.useState()[0],(vs!==null?vs.memoizedState:null)!==s&&(Ye.flags|=1024),t}function xd(){var s=Nc!==0;return Nc=0,s}function ud(s,t,a){t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~a}function hd(s){if(vc){for(s=s.memoizedState;s!==null;){var t=s.queue;t!==null&&(t.pending=null),s=s.next}vc=!1}Wa=0,Ps=vs=Ye=null,an=!1,ri=Nc=0,ln=null}function Tt(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ps===null?Ye.memoizedState=Ps=s:Ps=Ps.next=s,Ps}function Xs(){if(vs===null){var s=Ye.alternate;s=s!==null?s.memoizedState:null}else s=vs.next;var t=Ps===null?Ye.memoizedState:Ps.next;if(t!==null)Ps=t,vs=s;else{if(s===null)throw Ye.alternate===null?Error(m(467)):Error(m(310));vs=s,s={memoizedState:vs.memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},Ps===null?Ye.memoizedState=Ps=s:Ps=Ps.next=s}return Ps}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ni(s){var t=ri;return ri+=1,ln===null&&(ln=[]),s=Bx(ln,s,t),t=Ye,(Ps===null?t.memoizedState:Ps.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Tu:Sd),s}function _c(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ni(s);if(s.$$typeof===w)return ut(s)}throw Error(m(438,String(s)))}function gd(s){var t=null,a=Ye.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=wc(),Ye.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(s),l=0;l<s;l++)a[l]=be;return t.index++,a}function Ia(s,t){return typeof t=="function"?t(s):t}function kc(s){var t=Xs();return pd(t,vs,s)}function pd(s,t,a){var l=s.queue;if(l===null)throw Error(m(311));l.lastRenderedReducer=a;var r=s.baseQueue,c=l.pending;if(c!==null){if(r!==null){var u=r.next;r.next=c.next,c.next=u}t.baseQueue=r=c,l.pending=null}if(c=s.baseState,r===null)s.memoizedState=c;else{t=r.next;var N=u=null,Z=null,ge=t,Ne=!1;do{var Se=ge.lane&-536870913;if(Se!==ge.lane?(We&Se)===Se:(Wa&Se)===Se){var pe=ge.revertLane;if(pe===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),Se===Wr&&(Ne=!0);else if((Wa&pe)===pe){ge=ge.next,pe===Wr&&(Ne=!0);continue}else Se={lane:0,revertLane:ge.revertLane,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},Z===null?(N=Z=Se,u=c):Z=Z.next=Se,Ye.lanes|=pe,Tl|=pe;Se=ge.action,gr&&a(c,Se),c=ge.hasEagerState?ge.eagerState:a(c,Se)}else pe={lane:Se,revertLane:ge.revertLane,gesture:ge.gesture,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},Z===null?(N=Z=pe,u=c):Z=Z.next=pe,Ye.lanes|=Se,Tl|=Se;ge=ge.next}while(ge!==null&&ge!==t);if(Z===null?u=c:Z.next=N,!Ft(c,s.memoizedState)&&(Ws=!0,Ne&&(a=Ir,a!==null)))throw a;s.memoizedState=c,s.baseState=u,s.baseQueue=Z,l.lastRenderedState=c}return r===null&&(l.lanes=0),[s.memoizedState,l.dispatch]}function fd(s){var t=Xs(),a=t.queue;if(a===null)throw Error(m(311));a.lastRenderedReducer=s;var l=a.dispatch,r=a.pending,c=t.memoizedState;if(r!==null){a.pending=null;var u=r=r.next;do c=s(c,u.action),u=u.next;while(u!==r);Ft(c,t.memoizedState)||(Ws=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,l]}function Px(s,t,a){var l=Ye,r=Xs(),c=ts;if(c){if(a===void 0)throw Error(m(407));a=a()}else a=t();var u=!Ft((vs||r).memoizedState,a);if(u&&(r.memoizedState=a,Ws=!0),r=r.queue,yd(eu.bind(null,l,r,s),[s]),r.getSnapshot!==t||u||Ps!==null&&Ps.memoizedState.tag&1){if(l.flags|=2048,rn(9,{destroy:void 0},Ix.bind(null,l,r,a,t),null),Cs===null)throw Error(m(349));c||(Wa&127)!==0||Wx(l,t,a)}return a}function Wx(s,t,a){s.flags|=16384,s={getSnapshot:t,value:a},t=Ye.updateQueue,t===null?(t=wc(),Ye.updateQueue=t,t.stores=[s]):(a=t.stores,a===null?t.stores=[s]:a.push(s))}function Ix(s,t,a,l){t.value=a,t.getSnapshot=l,su(t)&&tu(s)}function eu(s,t,a){return a(function(){su(t)&&tu(s)})}function su(s){var t=s.getSnapshot;s=s.value;try{var a=t();return!Ft(s,a)}catch{return!0}}function tu(s){var t=nr(s,2);t!==null&&Gt(t,s,2)}function bd(s){var t=Tt();if(typeof s=="function"){var a=s;if(s=a(),gr){wt(!0);try{a()}finally{wt(!1)}}}return t.memoizedState=t.baseState=s,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:s},t}function au(s,t,a,l){return s.baseState=a,pd(s,vs,typeof l=="function"?l:Ia)}function vp(s,t,a,l,r){if(zc(s))throw Error(m(485));if(s=t.action,s!==null){var c={payload:r,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){c.listeners.push(u)}};L.T!==null?a(!0):c.isTransition=!1,l(c),a=t.pending,a===null?(c.next=t.pending=c,lu(t,c)):(c.next=a.next,t.pending=a.next=c)}}function lu(s,t){var a=t.action,l=t.payload,r=s.state;if(t.isTransition){var c=L.T,u={};L.T=u;try{var N=a(r,l),Z=L.S;Z!==null&&Z(u,N),ru(s,t,N)}catch(ge){jd(s,t,ge)}finally{c!==null&&u.types!==null&&(c.types=u.types),L.T=c}}else try{c=a(r,l),ru(s,t,c)}catch(ge){jd(s,t,ge)}}function ru(s,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){nu(s,t,l)},function(l){return jd(s,t,l)}):nu(s,t,a)}function nu(s,t,a){t.status="fulfilled",t.value=a,iu(t),s.state=a,t=s.pending,t!==null&&(a=t.next,a===t?s.pending=null:(a=a.next,t.next=a,lu(s,a)))}function jd(s,t,a){var l=s.pending;if(s.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,iu(t),t=t.next;while(t!==l)}s.action=null}function iu(s){s=s.listeners;for(var t=0;t<s.length;t++)(0,s[t])()}function cu(s,t){return t}function ou(s,t){if(ts){var a=Cs.formState;if(a!==null){e:{var l=Ye;if(ts){if(Ls){s:{for(var r=Ls,c=ha;r.nodeType!==8;){if(!c){r=null;break s}if(r=pa(r.nextSibling),r===null){r=null;break s}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){Ls=pa(r.nextSibling),l=r.data==="F!";break e}}Nl(l)}l=!1}l&&(t=a[0])}}return a=Tt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cu,lastRenderedState:t},a.queue=l,a=zu.bind(null,Ye,l),l.dispatch=a,l=bd(!1),c=kd.bind(null,Ye,!1,l.queue),l=Tt(),r={state:t,dispatch:null,action:s,pending:null},l.queue=r,a=vp.bind(null,Ye,r,c,a),r.dispatch=a,l.memoizedState=s,[t,a,!1]}function du(s){var t=Xs();return mu(t,vs,s)}function mu(s,t,a){if(t=pd(s,t,cu)[0],s=kc(Ia)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ni(t)}catch(u){throw u===en?gc:u}else l=t;t=Xs();var r=t.queue,c=r.dispatch;return a!==t.memoizedState&&(Ye.flags|=2048,rn(9,{destroy:void 0},Np.bind(null,r,a),null)),[l,c,s]}function Np(s,t){s.action=t}function xu(s){var t=Xs(),a=vs;if(a!==null)return mu(t,a,s);Xs(),t=t.memoizedState,a=Xs();var l=a.queue.dispatch;return a.memoizedState=s,[t,l,!1]}function rn(s,t,a,l){return s={tag:s,create:a,deps:l,inst:t,next:null},t=Ye.updateQueue,t===null&&(t=wc(),Ye.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=s.next=s:(l=a.next,a.next=s,s.next=l,t.lastEffect=s),s}function uu(){return Xs().memoizedState}function Sc(s,t,a,l){var r=Tt();Ye.flags|=s,r.memoizedState=rn(1|t,{destroy:void 0},a,l===void 0?null:l)}function Cc(s,t,a,l){var r=Xs();l=l===void 0?null:l;var c=r.memoizedState.inst;vs!==null&&l!==null&&dd(l,vs.memoizedState.deps)?r.memoizedState=rn(t,c,a,l):(Ye.flags|=s,r.memoizedState=rn(1|t,c,a,l))}function hu(s,t){Sc(8390656,8,s,t)}function yd(s,t){Cc(2048,8,s,t)}function wp(s){Ye.flags|=4;var t=Ye.updateQueue;if(t===null)t=wc(),Ye.updateQueue=t,t.events=[s];else{var a=t.events;a===null?t.events=[s]:a.push(s)}}function gu(s){var t=Xs().memoizedState;return wp({ref:t,nextImpl:s}),function(){if((hs&2)!==0)throw Error(m(440));return t.impl.apply(void 0,arguments)}}function pu(s,t){return Cc(4,2,s,t)}function fu(s,t){return Cc(4,4,s,t)}function bu(s,t){if(typeof t=="function"){s=s();var a=t(s);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return s=s(),t.current=s,function(){t.current=null}}function ju(s,t,a){a=a!=null?a.concat([s]):null,Cc(4,4,bu.bind(null,t,s),a)}function vd(){}function yu(s,t){var a=Xs();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&dd(t,l[1])?l[0]:(a.memoizedState=[s,t],s)}function vu(s,t){var a=Xs();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&dd(t,l[1]))return l[0];if(l=s(),gr){wt(!0);try{s()}finally{wt(!1)}}return a.memoizedState=[l,t],l}function Nd(s,t,a){return a===void 0||(Wa&1073741824)!==0&&(We&261930)===0?s.memoizedState=t:(s.memoizedState=a,s=N0(),Ye.lanes|=s,Tl|=s,a)}function Nu(s,t,a,l){return Ft(a,t)?a:tn.current!==null?(s=Nd(s,a,l),Ft(s,t)||(Ws=!0),s):(Wa&42)===0||(Wa&1073741824)!==0&&(We&261930)===0?(Ws=!0,s.memoizedState=a):(s=N0(),Ye.lanes|=s,Tl|=s,t)}function wu(s,t,a,l,r){var c=ue.p;ue.p=c!==0&&8>c?c:8;var u=L.T,N={};L.T=N,kd(s,!1,t,a);try{var Z=r(),ge=L.S;if(ge!==null&&ge(N,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Ne=bp(Z,l);ii(s,t,Ne,ea(s))}else ii(s,t,l,ea(s))}catch(Se){ii(s,t,{then:function(){},status:"rejected",reason:Se},ea())}finally{ue.p=c,u!==null&&N.types!==null&&(u.types=N.types),L.T=u}}function _p(){}function wd(s,t,a,l){if(s.tag!==5)throw Error(m(476));var r=_u(s).queue;wu(s,r,t,re,a===null?_p:function(){return ku(s),a(l)})}function _u(s){var t=s.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:re},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:a},next:null},s.memoizedState=t,s=s.alternate,s!==null&&(s.memoizedState=t),t}function ku(s){var t=_u(s);t.next===null&&(t=s.alternate.memoizedState),ii(s,t.next.queue,{},ea())}function _d(){return ut(_i)}function Su(){return Xs().memoizedState}function Cu(){return Xs().memoizedState}function kp(s){for(var t=s.return;t!==null;){switch(t.tag){case 24:case 3:var a=ea();s=kl(a);var l=Sl(t,s,a);l!==null&&(Gt(l,t,a),ti(l,t,a)),t={cache:Io()},s.payload=t;return}t=t.return}}function Sp(s,t,a){var l=ea();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zc(s)?Eu(t,a):(a=Vo(s,t,a,l),a!==null&&(Gt(a,s,l),Au(a,t,l)))}function zu(s,t,a){var l=ea();ii(s,t,a,l)}function ii(s,t,a,l){var r={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zc(s))Eu(t,r);else{var c=s.alternate;if(s.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var u=t.lastRenderedState,N=c(u,a);if(r.hasEagerState=!0,r.eagerState=N,Ft(N,u))return cc(s,t,r,0),Cs===null&&ic(),!1}catch{}finally{}if(a=Vo(s,t,r,l),a!==null)return Gt(a,s,l),Au(a,t,l),!0}return!1}function kd(s,t,a,l){if(l={lane:2,revertLane:am(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zc(s)){if(t)throw Error(m(479))}else t=Vo(s,a,l,2),t!==null&&Gt(t,s,2)}function zc(s){var t=s.alternate;return s===Ye||t!==null&&t===Ye}function Eu(s,t){an=vc=!0;var a=s.pending;a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t}function Au(s,t,a){if((a&4194048)!==0){var l=t.lanes;l&=s.pendingLanes,a|=l,t.lanes=a,Ss(s,a)}}var ci={readContext:ut,use:_c,useCallback:Vs,useContext:Vs,useEffect:Vs,useImperativeHandle:Vs,useLayoutEffect:Vs,useInsertionEffect:Vs,useMemo:Vs,useReducer:Vs,useRef:Vs,useState:Vs,useDebugValue:Vs,useDeferredValue:Vs,useTransition:Vs,useSyncExternalStore:Vs,useId:Vs,useHostTransitionStatus:Vs,useFormState:Vs,useActionState:Vs,useOptimistic:Vs,useMemoCache:Vs,useCacheRefresh:Vs};ci.useEffectEvent=Vs;var Tu={readContext:ut,use:_c,useCallback:function(s,t){return Tt().memoizedState=[s,t===void 0?null:t],s},useContext:ut,useEffect:hu,useImperativeHandle:function(s,t,a){a=a!=null?a.concat([s]):null,Sc(4194308,4,bu.bind(null,t,s),a)},useLayoutEffect:function(s,t){return Sc(4194308,4,s,t)},useInsertionEffect:function(s,t){Sc(4,2,s,t)},useMemo:function(s,t){var a=Tt();t=t===void 0?null:t;var l=s();if(gr){wt(!0);try{s()}finally{wt(!1)}}return a.memoizedState=[l,t],l},useReducer:function(s,t,a){var l=Tt();if(a!==void 0){var r=a(t);if(gr){wt(!0);try{a(t)}finally{wt(!1)}}}else r=t;return l.memoizedState=l.baseState=r,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:r},l.queue=s,s=s.dispatch=Sp.bind(null,Ye,s),[l.memoizedState,s]},useRef:function(s){var t=Tt();return s={current:s},t.memoizedState=s},useState:function(s){s=bd(s);var t=s.queue,a=zu.bind(null,Ye,t);return t.dispatch=a,[s.memoizedState,a]},useDebugValue:vd,useDeferredValue:function(s,t){var a=Tt();return Nd(a,s,t)},useTransition:function(){var s=bd(!1);return s=wu.bind(null,Ye,s.queue,!0,!1),Tt().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,t,a){var l=Ye,r=Tt();if(ts){if(a===void 0)throw Error(m(407));a=a()}else{if(a=t(),Cs===null)throw Error(m(349));(We&127)!==0||Wx(l,t,a)}r.memoizedState=a;var c={value:a,getSnapshot:t};return r.queue=c,hu(eu.bind(null,l,c,s),[s]),l.flags|=2048,rn(9,{destroy:void 0},Ix.bind(null,l,c,a,t),null),a},useId:function(){var s=Tt(),t=Cs.identifierPrefix;if(ts){var a=Ua,l=Ta;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Nc++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=jp++,t="_"+t+"r_"+a.toString(32)+"_";return s.memoizedState=t},useHostTransitionStatus:_d,useFormState:ou,useActionState:ou,useOptimistic:function(s){var t=Tt();t.memoizedState=t.baseState=s;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=kd.bind(null,Ye,!0,a),a.dispatch=t,[s,t]},useMemoCache:gd,useCacheRefresh:function(){return Tt().memoizedState=kp.bind(null,Ye)},useEffectEvent:function(s){var t=Tt(),a={impl:s};return t.memoizedState=a,function(){if((hs&2)!==0)throw Error(m(440));return a.impl.apply(void 0,arguments)}}},Sd={readContext:ut,use:_c,useCallback:yu,useContext:ut,useEffect:yd,useImperativeHandle:ju,useInsertionEffect:pu,useLayoutEffect:fu,useMemo:vu,useReducer:kc,useRef:uu,useState:function(){return kc(Ia)},useDebugValue:vd,useDeferredValue:function(s,t){var a=Xs();return Nu(a,vs.memoizedState,s,t)},useTransition:function(){var s=kc(Ia)[0],t=Xs().memoizedState;return[typeof s=="boolean"?s:ni(s),t]},useSyncExternalStore:Px,useId:Su,useHostTransitionStatus:_d,useFormState:du,useActionState:du,useOptimistic:function(s,t){var a=Xs();return au(a,vs,s,t)},useMemoCache:gd,useCacheRefresh:Cu};Sd.useEffectEvent=gu;var Uu={readContext:ut,use:_c,useCallback:yu,useContext:ut,useEffect:yd,useImperativeHandle:ju,useInsertionEffect:pu,useLayoutEffect:fu,useMemo:vu,useReducer:fd,useRef:uu,useState:function(){return fd(Ia)},useDebugValue:vd,useDeferredValue:function(s,t){var a=Xs();return vs===null?Nd(a,s,t):Nu(a,vs.memoizedState,s,t)},useTransition:function(){var s=fd(Ia)[0],t=Xs().memoizedState;return[typeof s=="boolean"?s:ni(s),t]},useSyncExternalStore:Px,useId:Su,useHostTransitionStatus:_d,useFormState:xu,useActionState:xu,useOptimistic:function(s,t){var a=Xs();return vs!==null?au(a,vs,s,t):(a.baseState=s,[s,a.queue.dispatch])},useMemoCache:gd,useCacheRefresh:Cu};Uu.useEffectEvent=gu;function Cd(s,t,a,l){t=s.memoizedState,a=a(l,t),a=a==null?t:A({},t,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var zd={enqueueSetState:function(s,t,a){s=s._reactInternals;var l=ea(),r=kl(l);r.payload=t,a!=null&&(r.callback=a),t=Sl(s,r,l),t!==null&&(Gt(t,s,l),ti(t,s,l))},enqueueReplaceState:function(s,t,a){s=s._reactInternals;var l=ea(),r=kl(l);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=Sl(s,r,l),t!==null&&(Gt(t,s,l),ti(t,s,l))},enqueueForceUpdate:function(s,t){s=s._reactInternals;var a=ea(),l=kl(a);l.tag=2,t!=null&&(l.callback=t),t=Sl(s,l,a),t!==null&&(Gt(t,s,a),ti(t,s,a))}};function Mu(s,t,a,l,r,c,u){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(l,c,u):t.prototype&&t.prototype.isPureReactComponent?!Fn(a,l)||!Fn(r,c):!0}function Du(s,t,a,l){s=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==s&&zd.enqueueReplaceState(t,t.state,null)}function pr(s,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(s=s.defaultProps){a===t&&(a=A({},a));for(var r in s)a[r]===void 0&&(a[r]=s[r])}return a}function Lu(s){nc(s)}function qu(s){console.error(s)}function Ru(s){nc(s)}function Ec(s,t){try{var a=s.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Ou(s,t,a){try{var l=s.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ed(s,t,a){return a=kl(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(s,t)},a}function $u(s){return s=kl(s),s.tag=3,s}function Bu(s,t,a,l){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var c=l.value;s.payload=function(){return r(c)},s.callback=function(){Ou(t,a,l)}}var u=a.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(s.callback=function(){Ou(t,a,l),typeof r!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})})}function Cp(s,t,a,l,r){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Pr(t,a,r,!0),a=Jt.current,a!==null){switch(a.tag){case 31:case 13:return ga===null?Gc():a.alternate===null&&Hs===0&&(Hs=3),a.flags&=-257,a.flags|=65536,a.lanes=r,l===pc?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),em(s,l,r)),!1;case 22:return a.flags|=65536,l===pc?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),em(s,l,r)),!1}throw Error(m(435,a.tag))}return em(s,l,r),Gc(),!1}if(ts)return t=Jt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,l!==Fo&&(s=Error(m(422),{cause:l}),Pn(ma(s,a)))):(l!==Fo&&(t=Error(m(423),{cause:l}),Pn(ma(t,a))),s=s.current.alternate,s.flags|=65536,r&=-r,s.lanes|=r,l=ma(l,a),r=Ed(s.stateNode,l,r),rd(s,r),Hs!==4&&(Hs=2)),!1;var c=Error(m(520),{cause:l});if(c=ma(c,a),pi===null?pi=[c]:pi.push(c),Hs!==4&&(Hs=2),t===null)return!0;l=ma(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,s=r&-r,a.lanes|=s,s=Ed(a.stateNode,l,s),rd(a,s),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ul===null||!Ul.has(c))))return a.flags|=65536,r&=-r,a.lanes|=r,r=$u(r),Bu(r,s,a,l),rd(a,r),!1}a=a.return}while(a!==null);return!1}var Ad=Error(m(461)),Ws=!1;function ht(s,t,a,l){t.child=s===null?Kx(t,null,a,l):hr(t,s.child,a,l)}function Gu(s,t,a,l,r){a=a.render;var c=t.ref;if("ref"in l){var u={};for(var N in l)N!=="ref"&&(u[N]=l[N])}else u=l;return dr(t),l=md(s,t,a,u,c,r),N=xd(),s!==null&&!Ws?(ud(s,t,r),el(s,t,r)):(ts&&N&&Qo(t),t.flags|=1,ht(s,t,l,r),t.child)}function Vu(s,t,a,l,r){if(s===null){var c=a.type;return typeof c=="function"&&!Ho(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,Hu(s,t,c,l,r)):(s=dc(a.type,null,l,t,t.mode,r),s.ref=t.ref,s.return=t,t.child=s)}if(c=s.child,!Od(s,r)){var u=c.memoizedProps;if(a=a.compare,a=a!==null?a:Fn,a(u,l)&&s.ref===t.ref)return el(s,t,r)}return t.flags|=1,s=Fa(c,l),s.ref=t.ref,s.return=t,t.child=s}function Hu(s,t,a,l,r){if(s!==null){var c=s.memoizedProps;if(Fn(c,l)&&s.ref===t.ref)if(Ws=!1,t.pendingProps=l=c,Od(s,r))(s.flags&131072)!==0&&(Ws=!0);else return t.lanes=s.lanes,el(s,t,r)}return Td(s,t,a,l,r)}function Ku(s,t,a,l){var r=l.children,c=s!==null?s.memoizedState:null;if(s===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,s!==null){for(l=t.child=s.child,r=0;l!==null;)r=r|l.lanes|l.childLanes,l=l.sibling;l=r&~c}else l=0,t.child=null;return Yu(s,t,c,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},s!==null&&hc(t,c!==null?c.cachePool:null),c!==null?Xx(t,c):id(),Fx(t);else return l=t.lanes=536870912,Yu(s,t,c!==null?c.baseLanes|a:a,a,l)}else c!==null?(hc(t,c.cachePool),Xx(t,c),zl(),t.memoizedState=null):(s!==null&&hc(t,null),id(),zl());return ht(s,t,r,a),t.child}function oi(s,t){return s!==null&&s.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Yu(s,t,a,l,r){var c=sd();return c=c===null?null:{parent:Js._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},s!==null&&hc(t,null),id(),Fx(t),s!==null&&Pr(s,t,l,!0),t.childLanes=r,null}function Ac(s,t){return t=Uc({mode:t.mode,children:t.children},s.mode),t.ref=s.ref,s.child=t,t.return=s,t}function Qu(s,t,a){return hr(t,s.child,null,a),s=Ac(t,t.pendingProps),s.flags|=2,Pt(t),t.memoizedState=null,s}function zp(s,t,a){var l=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,s===null){if(ts){if(l.mode==="hidden")return s=Ac(t,l),t.lanes=536870912,oi(null,s);if(od(t),(s=Ls)?(s=lh(s,ha),s=s!==null&&s.data==="&"?s:null,s!==null&&(t.memoizedState={dehydrated:s,treeContext:yl!==null?{id:Ta,overflow:Ua}:null,retryLane:536870912,hydrationErrors:null},a=Ex(s),a.return=t,t.child=a,xt=t,Ls=null)):s=null,s===null)throw Nl(t);return t.lanes=536870912,null}return Ac(t,l)}var c=s.memoizedState;if(c!==null){var u=c.dehydrated;if(od(t),r)if(t.flags&256)t.flags&=-257,t=Qu(s,t,a);else if(t.memoizedState!==null)t.child=s.child,t.flags|=128,t=null;else throw Error(m(558));else if(Ws||Pr(s,t,a,!1),r=(a&s.childLanes)!==0,Ws||r){if(l=Cs,l!==null&&(u=Us(l,a),u!==0&&u!==c.retryLane))throw c.retryLane=u,nr(s,u),Gt(l,s,u),Ad;Gc(),t=Qu(s,t,a)}else s=c.treeContext,Ls=pa(u.nextSibling),xt=t,ts=!0,vl=null,ha=!1,s!==null&&Ux(t,s),t=Ac(t,l),t.flags|=4096;return t}return s=Fa(s.child,{mode:l.mode,children:l.children}),s.ref=t.ref,t.child=s,s.return=t,s}function Tc(s,t){var a=t.ref;if(a===null)s!==null&&s.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(m(284));(s===null||s.ref!==a)&&(t.flags|=4194816)}}function Td(s,t,a,l,r){return dr(t),a=md(s,t,a,l,void 0,r),l=xd(),s!==null&&!Ws?(ud(s,t,r),el(s,t,r)):(ts&&l&&Qo(t),t.flags|=1,ht(s,t,a,r),t.child)}function Xu(s,t,a,l,r,c){return dr(t),t.updateQueue=null,a=Jx(t,l,a,r),Zx(s),l=xd(),s!==null&&!Ws?(ud(s,t,c),el(s,t,c)):(ts&&l&&Qo(t),t.flags|=1,ht(s,t,a,c),t.child)}function Fu(s,t,a,l,r){if(dr(t),t.stateNode===null){var c=Xr,u=a.contextType;typeof u=="object"&&u!==null&&(c=ut(u)),c=new a(l,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=zd,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=l,c.state=t.memoizedState,c.refs={},ad(t),u=a.contextType,c.context=typeof u=="object"&&u!==null?ut(u):Xr,c.state=t.memoizedState,u=a.getDerivedStateFromProps,typeof u=="function"&&(Cd(t,a,u,l),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(u=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),u!==c.state&&zd.enqueueReplaceState(c,c.state,null),li(t,l,c,r),ai(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(s===null){c=t.stateNode;var N=t.memoizedProps,Z=pr(a,N);c.props=Z;var ge=c.context,Ne=a.contextType;u=Xr,typeof Ne=="object"&&Ne!==null&&(u=ut(Ne));var Se=a.getDerivedStateFromProps;Ne=typeof Se=="function"||typeof c.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,Ne||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(N||ge!==u)&&Du(t,c,l,u),_l=!1;var pe=t.memoizedState;c.state=pe,li(t,l,c,r),ai(),ge=t.memoizedState,N||pe!==ge||_l?(typeof Se=="function"&&(Cd(t,a,Se,l),ge=t.memoizedState),(Z=_l||Mu(t,a,Z,l,pe,ge,u))?(Ne||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ge),c.props=l,c.state=ge,c.context=u,l=Z):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{c=t.stateNode,ld(s,t),u=t.memoizedProps,Ne=pr(a,u),c.props=Ne,Se=t.pendingProps,pe=c.context,ge=a.contextType,Z=Xr,typeof ge=="object"&&ge!==null&&(Z=ut(ge)),N=a.getDerivedStateFromProps,(ge=typeof N=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==Se||pe!==Z)&&Du(t,c,l,Z),_l=!1,pe=t.memoizedState,c.state=pe,li(t,l,c,r),ai();var je=t.memoizedState;u!==Se||pe!==je||_l||s!==null&&s.dependencies!==null&&xc(s.dependencies)?(typeof N=="function"&&(Cd(t,a,N,l),je=t.memoizedState),(Ne=_l||Mu(t,a,Ne,l,pe,je,Z)||s!==null&&s.dependencies!==null&&xc(s.dependencies))?(ge||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(l,je,Z),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(l,je,Z)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||u===s.memoizedProps&&pe===s.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===s.memoizedProps&&pe===s.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=je),c.props=l,c.state=je,c.context=Z,l=Ne):(typeof c.componentDidUpdate!="function"||u===s.memoizedProps&&pe===s.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===s.memoizedProps&&pe===s.memoizedState||(t.flags|=1024),l=!1)}return c=l,Tc(s,t),l=(t.flags&128)!==0,c||l?(c=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,s!==null&&l?(t.child=hr(t,s.child,null,r),t.child=hr(t,null,a,r)):ht(s,t,a,r),t.memoizedState=c.state,s=t.child):s=el(s,t,r),s}function Zu(s,t,a,l){return cr(),t.flags|=256,ht(s,t,a,l),t.child}var Ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Md(s){return{baseLanes:s,cachePool:Ox()}}function Dd(s,t,a){return s=s!==null?s.childLanes&~a:0,t&&(s|=It),s}function Ju(s,t,a){var l=t.pendingProps,r=!1,c=(t.flags&128)!==0,u;if((u=c)||(u=s!==null&&s.memoizedState===null?!1:(Qs.current&2)!==0),u&&(r=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,s===null){if(ts){if(r?Cl(t):zl(),(s=Ls)?(s=lh(s,ha),s=s!==null&&s.data!=="&"?s:null,s!==null&&(t.memoizedState={dehydrated:s,treeContext:yl!==null?{id:Ta,overflow:Ua}:null,retryLane:536870912,hydrationErrors:null},a=Ex(s),a.return=t,t.child=a,xt=t,Ls=null)):s=null,s===null)throw Nl(t);return pm(s)?t.lanes=32:t.lanes=536870912,null}var N=l.children;return l=l.fallback,r?(zl(),r=t.mode,N=Uc({mode:"hidden",children:N},r),l=ir(l,r,a,null),N.return=t,l.return=t,N.sibling=l,t.child=N,l=t.child,l.memoizedState=Md(a),l.childLanes=Dd(s,u,a),t.memoizedState=Ud,oi(null,l)):(Cl(t),Ld(t,N))}var Z=s.memoizedState;if(Z!==null&&(N=Z.dehydrated,N!==null)){if(c)t.flags&256?(Cl(t),t.flags&=-257,t=qd(s,t,a)):t.memoizedState!==null?(zl(),t.child=s.child,t.flags|=128,t=null):(zl(),N=l.fallback,r=t.mode,l=Uc({mode:"visible",children:l.children},r),N=ir(N,r,a,null),N.flags|=2,l.return=t,N.return=t,l.sibling=N,t.child=l,hr(t,s.child,null,a),l=t.child,l.memoizedState=Md(a),l.childLanes=Dd(s,u,a),t.memoizedState=Ud,t=oi(null,l));else if(Cl(t),pm(N)){if(u=N.nextSibling&&N.nextSibling.dataset,u)var ge=u.dgst;u=ge,l=Error(m(419)),l.stack="",l.digest=u,Pn({value:l,source:null,stack:null}),t=qd(s,t,a)}else if(Ws||Pr(s,t,a,!1),u=(a&s.childLanes)!==0,Ws||u){if(u=Cs,u!==null&&(l=Us(u,a),l!==0&&l!==Z.retryLane))throw Z.retryLane=l,nr(s,l),Gt(u,s,l),Ad;gm(N)||Gc(),t=qd(s,t,a)}else gm(N)?(t.flags|=192,t.child=s.child,t=null):(s=Z.treeContext,Ls=pa(N.nextSibling),xt=t,ts=!0,vl=null,ha=!1,s!==null&&Ux(t,s),t=Ld(t,l.children),t.flags|=4096);return t}return r?(zl(),N=l.fallback,r=t.mode,Z=s.child,ge=Z.sibling,l=Fa(Z,{mode:"hidden",children:l.children}),l.subtreeFlags=Z.subtreeFlags&65011712,ge!==null?N=Fa(ge,N):(N=ir(N,r,a,null),N.flags|=2),N.return=t,l.return=t,l.sibling=N,t.child=l,oi(null,l),l=t.child,N=s.child.memoizedState,N===null?N=Md(a):(r=N.cachePool,r!==null?(Z=Js._currentValue,r=r.parent!==Z?{parent:Z,pool:Z}:r):r=Ox(),N={baseLanes:N.baseLanes|a,cachePool:r}),l.memoizedState=N,l.childLanes=Dd(s,u,a),t.memoizedState=Ud,oi(s.child,l)):(Cl(t),a=s.child,s=a.sibling,a=Fa(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,s!==null&&(u=t.deletions,u===null?(t.deletions=[s],t.flags|=16):u.push(s)),t.child=a,t.memoizedState=null,a)}function Ld(s,t){return t=Uc({mode:"visible",children:t},s.mode),t.return=s,s.child=t}function Uc(s,t){return s=Zt(22,s,null,t),s.lanes=0,s}function qd(s,t,a){return hr(t,s.child,null,a),s=Ld(t,t.pendingProps.children),s.flags|=2,t.memoizedState=null,s}function Pu(s,t,a){s.lanes|=t;var l=s.alternate;l!==null&&(l.lanes|=t),Po(s.return,t,a)}function Rd(s,t,a,l,r,c){var u=s.memoizedState;u===null?s.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:r,treeForkCount:c}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=a,u.tailMode=r,u.treeForkCount=c)}function Wu(s,t,a){var l=t.pendingProps,r=l.revealOrder,c=l.tail;l=l.children;var u=Qs.current,N=(u&2)!==0;if(N?(u=u&1|2,t.flags|=128):u&=1,R(Qs,u),ht(s,t,l,a),l=ts?Jn:0,!N&&s!==null&&(s.flags&128)!==0)e:for(s=t.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Pu(s,a,t);else if(s.tag===19)Pu(s,a,t);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(r){case"forwards":for(a=t.child,r=null;a!==null;)s=a.alternate,s!==null&&yc(s)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),Rd(t,!1,r,a,c,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(s=r.alternate,s!==null&&yc(s)===null){t.child=r;break}s=r.sibling,r.sibling=a,a=r,r=s}Rd(t,!0,a,null,c,l);break;case"together":Rd(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function el(s,t,a){if(s!==null&&(t.dependencies=s.dependencies),Tl|=t.lanes,(a&t.childLanes)===0)if(s!==null){if(Pr(s,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(s!==null&&t.child!==s.child)throw Error(m(153));if(t.child!==null){for(s=t.child,a=Fa(s,s.pendingProps),t.child=a,a.return=t;s.sibling!==null;)s=s.sibling,a=a.sibling=Fa(s,s.pendingProps),a.return=t;a.sibling=null}return t.child}function Od(s,t){return(s.lanes&t)!==0?!0:(s=s.dependencies,!!(s!==null&&xc(s)))}function Ep(s,t,a){switch(t.tag){case 3:ce(t,t.stateNode.containerInfo),wl(t,Js,s.memoizedState.cache),cr();break;case 27:case 5:q(t);break;case 4:ce(t,t.stateNode.containerInfo);break;case 10:wl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,od(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Cl(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ju(s,t,a):(Cl(t),s=el(s,t,a),s!==null?s.sibling:null);Cl(t);break;case 19:var r=(s.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Pr(s,t,a,!1),l=(a&t.childLanes)!==0),r){if(l)return Wu(s,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),R(Qs,Qs.current),l)break;return null;case 22:return t.lanes=0,Ku(s,t,a,t.pendingProps);case 24:wl(t,Js,s.memoizedState.cache)}return el(s,t,a)}function Iu(s,t,a){if(s!==null)if(s.memoizedProps!==t.pendingProps)Ws=!0;else{if(!Od(s,a)&&(t.flags&128)===0)return Ws=!1,Ep(s,t,a);Ws=(s.flags&131072)!==0}else Ws=!1,ts&&(t.flags&1048576)!==0&&Tx(t,Jn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(s=xr(t.elementType),t.type=s,typeof s=="function")Ho(s)?(l=pr(s,l),t.tag=1,t=Fu(null,t,s,l,a)):(t.tag=0,t=Td(null,t,s,l,a));else{if(s!=null){var r=s.$$typeof;if(r===H){t.tag=11,t=Gu(null,t,s,l,a);break e}else if(r===D){t.tag=14,t=Vu(null,t,s,l,a);break e}}throw t=B(s)||s,Error(m(306,t,""))}}return t;case 0:return Td(s,t,t.type,t.pendingProps,a);case 1:return l=t.type,r=pr(l,t.pendingProps),Fu(s,t,l,r,a);case 3:e:{if(ce(t,t.stateNode.containerInfo),s===null)throw Error(m(387));l=t.pendingProps;var c=t.memoizedState;r=c.element,ld(s,t),li(t,l,null,a);var u=t.memoizedState;if(l=u.cache,wl(t,Js,l),l!==c.cache&&Wo(t,[Js],a,!0),ai(),l=u.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Zu(s,t,l,a);break e}else if(l!==r){r=ma(Error(m(424)),t),Pn(r),t=Zu(s,t,l,a);break e}else{switch(s=t.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ls=pa(s.firstChild),xt=t,ts=!0,vl=null,ha=!0,a=Kx(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cr(),l===r){t=el(s,t,a);break e}ht(s,t,l,a)}t=t.child}return t;case 26:return Tc(s,t),s===null?(a=dh(t.type,null,t.pendingProps,null))?t.memoizedState=a:ts||(a=t.type,s=t.pendingProps,l=Fc(V.current).createElement(a),l[js]=t,l[Rs]=s,gt(l,a,s),Ys(l),t.stateNode=l):t.memoizedState=dh(t.type,s.memoizedProps,t.pendingProps,s.memoizedState),null;case 27:return q(t),s===null&&ts&&(l=t.stateNode=ih(t.type,t.pendingProps,V.current),xt=t,ha=!0,r=Ls,ql(t.type)?(fm=r,Ls=pa(l.firstChild)):Ls=r),ht(s,t,t.pendingProps.children,a),Tc(s,t),s===null&&(t.flags|=4194304),t.child;case 5:return s===null&&ts&&((r=l=Ls)&&(l=rf(l,t.type,t.pendingProps,ha),l!==null?(t.stateNode=l,xt=t,Ls=pa(l.firstChild),ha=!1,r=!0):r=!1),r||Nl(t)),q(t),r=t.type,c=t.pendingProps,u=s!==null?s.memoizedProps:null,l=c.children,xm(r,c)?l=null:u!==null&&xm(r,u)&&(t.flags|=32),t.memoizedState!==null&&(r=md(s,t,yp,null,null,a),_i._currentValue=r),Tc(s,t),ht(s,t,l,a),t.child;case 6:return s===null&&ts&&((s=a=Ls)&&(a=nf(a,t.pendingProps,ha),a!==null?(t.stateNode=a,xt=t,Ls=null,s=!0):s=!1),s||Nl(t)),null;case 13:return Ju(s,t,a);case 4:return ce(t,t.stateNode.containerInfo),l=t.pendingProps,s===null?t.child=hr(t,null,l,a):ht(s,t,l,a),t.child;case 11:return Gu(s,t,t.type,t.pendingProps,a);case 7:return ht(s,t,t.pendingProps,a),t.child;case 8:return ht(s,t,t.pendingProps.children,a),t.child;case 12:return ht(s,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,wl(t,t.type,l.value),ht(s,t,l.children,a),t.child;case 9:return r=t.type._context,l=t.pendingProps.children,dr(t),r=ut(r),l=l(r),t.flags|=1,ht(s,t,l,a),t.child;case 14:return Vu(s,t,t.type,t.pendingProps,a);case 15:return Hu(s,t,t.type,t.pendingProps,a);case 19:return Wu(s,t,a);case 31:return zp(s,t,a);case 22:return Ku(s,t,a,t.pendingProps);case 24:return dr(t),l=ut(Js),s===null?(r=sd(),r===null&&(r=Cs,c=Io(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=a),r=c),t.memoizedState={parent:l,cache:r},ad(t),wl(t,Js,r)):((s.lanes&a)!==0&&(ld(s,t),li(t,null,null,a),ai()),r=s.memoizedState,c=t.memoizedState,r.parent!==l?(r={parent:l,cache:l},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),wl(t,Js,l)):(l=c.cache,wl(t,Js,l),l!==r.cache&&Wo(t,[Js],a,!0))),ht(s,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(m(156,t.tag))}function sl(s){s.flags|=4}function $d(s,t,a,l,r){if((t=(s.mode&32)!==0)&&(t=!1),t){if(s.flags|=16777216,(r&335544128)===r)if(s.stateNode.complete)s.flags|=8192;else if(S0())s.flags|=8192;else throw ur=pc,td}else s.flags&=-16777217}function e0(s,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!gh(t))if(S0())s.flags|=8192;else throw ur=pc,td}function Mc(s,t){t!==null&&(s.flags|=4),s.flags&16384&&(t=s.tag!==22?p():536870912,s.lanes|=t,dn|=t)}function di(s,t){if(!ts)switch(s.tailMode){case"hidden":t=s.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||s.tail===null?s.tail=null:s.tail.sibling=null:l.sibling=null}}function qs(s){var t=s.alternate!==null&&s.alternate.child===s.child,a=0,l=0;if(t)for(var r=s.child;r!==null;)a|=r.lanes|r.childLanes,l|=r.subtreeFlags&65011712,l|=r.flags&65011712,r.return=s,r=r.sibling;else for(r=s.child;r!==null;)a|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=s,r=r.sibling;return s.subtreeFlags|=l,s.childLanes=a,t}function Ap(s,t,a){var l=t.pendingProps;switch(Xo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:return qs(t),null;case 3:return a=t.stateNode,l=null,s!==null&&(l=s.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Pa(Js),U(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(Jr(t)?sl(t):s===null||s.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Zo())),qs(t),null;case 26:var r=t.type,c=t.memoizedState;return s===null?(sl(t),c!==null?(qs(t),e0(t,c)):(qs(t),$d(t,r,null,l,a))):c?c!==s.memoizedState?(sl(t),qs(t),e0(t,c)):(qs(t),t.flags&=-16777217):(s=s.memoizedProps,s!==l&&sl(t),qs(t),$d(t,r,s,l,a)),null;case 27:if(F(t),a=V.current,r=t.type,s!==null&&t.stateNode!=null)s.memoizedProps!==l&&sl(t);else{if(!l){if(t.stateNode===null)throw Error(m(166));return qs(t),null}s=ae.current,Jr(t)?Mx(t):(s=ih(r,l,a),t.stateNode=s,sl(t))}return qs(t),null;case 5:if(F(t),r=t.type,s!==null&&t.stateNode!=null)s.memoizedProps!==l&&sl(t);else{if(!l){if(t.stateNode===null)throw Error(m(166));return qs(t),null}if(c=ae.current,Jr(t))Mx(t);else{var u=Fc(V.current);switch(c){case 1:c=u.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:c=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":c=u.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":c=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":c=u.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?c.multiple=!0:l.size&&(c.size=l.size);break;default:c=typeof l.is=="string"?u.createElement(r,{is:l.is}):u.createElement(r)}}c[js]=t,c[Rs]=l;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)c.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=c;e:switch(gt(c,r,l),r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sl(t)}}return qs(t),$d(t,t.type,s===null?null:s.memoizedProps,t.pendingProps,a),null;case 6:if(s&&t.stateNode!=null)s.memoizedProps!==l&&sl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(m(166));if(s=V.current,Jr(t)){if(s=t.stateNode,a=t.memoizedProps,l=null,r=xt,r!==null)switch(r.tag){case 27:case 5:l=r.memoizedProps}s[js]=t,s=!!(s.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||J0(s.nodeValue,a)),s||Nl(t,!0)}else s=Fc(s).createTextNode(l),s[js]=t,t.stateNode=s}return qs(t),null;case 31:if(a=t.memoizedState,s===null||s.memoizedState!==null){if(l=Jr(t),a!==null){if(s===null){if(!l)throw Error(m(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(m(557));s[js]=t}else cr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qs(t),s=!1}else a=Zo(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=a),s=!0;if(!s)return t.flags&256?(Pt(t),t):(Pt(t),null);if((t.flags&128)!==0)throw Error(m(558))}return qs(t),null;case 13:if(l=t.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(r=Jr(t),l!==null&&l.dehydrated!==null){if(s===null){if(!r)throw Error(m(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(m(317));r[js]=t}else cr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qs(t),r=!1}else r=Zo(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Pt(t),t):(Pt(t),null)}return Pt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,s=s!==null&&s.memoizedState!==null,a&&(l=t.child,r=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(r=l.alternate.memoizedState.cachePool.pool),c=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==r&&(l.flags|=2048)),a!==s&&a&&(t.child.flags|=8192),Mc(t,t.updateQueue),qs(t),null);case 4:return U(),s===null&&im(t.stateNode.containerInfo),qs(t),null;case 10:return Pa(t.type),qs(t),null;case 19:if(v(Qs),l=t.memoizedState,l===null)return qs(t),null;if(r=(t.flags&128)!==0,c=l.rendering,c===null)if(r)di(l,!1);else{if(Hs!==0||s!==null&&(s.flags&128)!==0)for(s=t.child;s!==null;){if(c=yc(s),c!==null){for(t.flags|=128,di(l,!1),s=c.updateQueue,t.updateQueue=s,Mc(t,s),t.subtreeFlags=0,s=a,a=t.child;a!==null;)zx(a,s),a=a.sibling;return R(Qs,Qs.current&1|2),ts&&Za(t,l.treeForkCount),t.child}s=s.sibling}l.tail!==null&&Ce()>Oc&&(t.flags|=128,r=!0,di(l,!1),t.lanes=4194304)}else{if(!r)if(s=yc(c),s!==null){if(t.flags|=128,r=!0,s=s.updateQueue,t.updateQueue=s,Mc(t,s),di(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!ts)return qs(t),null}else 2*Ce()-l.renderingStartTime>Oc&&a!==536870912&&(t.flags|=128,r=!0,di(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(s=l.last,s!==null?s.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=Ce(),s.sibling=null,a=Qs.current,R(Qs,r?a&1|2:a&1),ts&&Za(t,l.treeForkCount),s):(qs(t),null);case 22:case 23:return Pt(t),cd(),l=t.memoizedState!==null,s!==null?s.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(qs(t),t.subtreeFlags&6&&(t.flags|=8192)):qs(t),a=t.updateQueue,a!==null&&Mc(t,a.retryQueue),a=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),s!==null&&v(mr),null;case 24:return a=null,s!==null&&(a=s.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Pa(Js),qs(t),null;case 25:return null;case 30:return null}throw Error(m(156,t.tag))}function Tp(s,t){switch(Xo(t),t.tag){case 1:return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 3:return Pa(Js),U(),s=t.flags,(s&65536)!==0&&(s&128)===0?(t.flags=s&-65537|128,t):null;case 26:case 27:case 5:return F(t),null;case 31:if(t.memoizedState!==null){if(Pt(t),t.alternate===null)throw Error(m(340));cr()}return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 13:if(Pt(t),s=t.memoizedState,s!==null&&s.dehydrated!==null){if(t.alternate===null)throw Error(m(340));cr()}return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 19:return v(Qs),null;case 4:return U(),null;case 10:return Pa(t.type),null;case 22:case 23:return Pt(t),cd(),s!==null&&v(mr),s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 24:return Pa(Js),null;case 25:return null;default:return null}}function s0(s,t){switch(Xo(t),t.tag){case 3:Pa(Js),U();break;case 26:case 27:case 5:F(t);break;case 4:U();break;case 31:t.memoizedState!==null&&Pt(t);break;case 13:Pt(t);break;case 19:v(Qs);break;case 10:Pa(t.type);break;case 22:case 23:Pt(t),cd(),s!==null&&v(mr);break;case 24:Pa(Js)}}function mi(s,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var r=l.next;a=r;do{if((a.tag&s)===s){l=void 0;var c=a.create,u=a.inst;l=c(),u.destroy=l}a=a.next}while(a!==r)}}catch(N){bs(t,t.return,N)}}function El(s,t,a){try{var l=t.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var c=r.next;l=c;do{if((l.tag&s)===s){var u=l.inst,N=u.destroy;if(N!==void 0){u.destroy=void 0,r=t;var Z=a,ge=N;try{ge()}catch(Ne){bs(r,Z,Ne)}}}l=l.next}while(l!==c)}}catch(Ne){bs(t,t.return,Ne)}}function t0(s){var t=s.updateQueue;if(t!==null){var a=s.stateNode;try{Qx(t,a)}catch(l){bs(s,s.return,l)}}}function a0(s,t,a){a.props=pr(s.type,s.memoizedProps),a.state=s.memoizedState;try{a.componentWillUnmount()}catch(l){bs(s,t,l)}}function xi(s,t){try{var a=s.ref;if(a!==null){switch(s.tag){case 26:case 27:case 5:var l=s.stateNode;break;case 30:l=s.stateNode;break;default:l=s.stateNode}typeof a=="function"?s.refCleanup=a(l):a.current=l}}catch(r){bs(s,t,r)}}function Ma(s,t){var a=s.ref,l=s.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(r){bs(s,t,r)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){bs(s,t,r)}else a.current=null}function l0(s){var t=s.type,a=s.memoizedProps,l=s.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(r){bs(s,s.return,r)}}function Bd(s,t,a){try{var l=s.stateNode;Ip(l,s.type,a,t),l[Rs]=t}catch(r){bs(s,s.return,r)}}function r0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ql(s.type)||s.tag===4}function Gd(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||r0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ql(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vd(s,t,a){var l=s.tag;if(l===5||l===6)s=s.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(s,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(s),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ca));else if(l!==4&&(l===27&&ql(s.type)&&(a=s.stateNode,t=null),s=s.child,s!==null))for(Vd(s,t,a),s=s.sibling;s!==null;)Vd(s,t,a),s=s.sibling}function Dc(s,t,a){var l=s.tag;if(l===5||l===6)s=s.stateNode,t?a.insertBefore(s,t):a.appendChild(s);else if(l!==4&&(l===27&&ql(s.type)&&(a=s.stateNode),s=s.child,s!==null))for(Dc(s,t,a),s=s.sibling;s!==null;)Dc(s,t,a),s=s.sibling}function n0(s){var t=s.stateNode,a=s.memoizedProps;try{for(var l=s.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);gt(t,l,a),t[js]=s,t[Rs]=a}catch(c){bs(s,s.return,c)}}var tl=!1,Is=!1,Hd=!1,i0=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Up(s,t){if(s=s.containerInfo,dm=so,s=jx(s),qo(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var r=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var u=0,N=-1,Z=-1,ge=0,Ne=0,Se=s,pe=null;s:for(;;){for(var je;Se!==a||r!==0&&Se.nodeType!==3||(N=u+r),Se!==c||l!==0&&Se.nodeType!==3||(Z=u+l),Se.nodeType===3&&(u+=Se.nodeValue.length),(je=Se.firstChild)!==null;)pe=Se,Se=je;for(;;){if(Se===s)break s;if(pe===a&&++ge===r&&(N=u),pe===c&&++Ne===l&&(Z=u),(je=Se.nextSibling)!==null)break;Se=pe,pe=Se.parentNode}Se=je}a=N===-1||Z===-1?null:{start:N,end:Z}}else a=null}a=a||{start:0,end:0}}else a=null;for(mm={focusedElem:s,selectionRange:a},so=!1,ct=t;ct!==null;)if(t=ct,s=t.child,(t.subtreeFlags&1028)!==0&&s!==null)s.return=t,ct=s;else for(;ct!==null;){switch(t=ct,c=t.alternate,s=t.flags,t.tag){case 0:if((s&4)!==0&&(s=t.updateQueue,s=s!==null?s.events:null,s!==null))for(a=0;a<s.length;a++)r=s[a],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&c!==null){s=void 0,a=t,r=c.memoizedProps,c=c.memoizedState,l=a.stateNode;try{var Te=pr(a.type,r);s=l.getSnapshotBeforeUpdate(Te,c),l.__reactInternalSnapshotBeforeUpdate=s}catch(Ge){bs(a,a.return,Ge)}}break;case 3:if((s&1024)!==0){if(s=t.stateNode.containerInfo,a=s.nodeType,a===9)hm(s);else if(a===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":hm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(m(163))}if(s=t.sibling,s!==null){s.return=t.return,ct=s;break}ct=t.return}}function c0(s,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ll(s,a),l&4&&mi(5,a);break;case 1:if(ll(s,a),l&4)if(s=a.stateNode,t===null)try{s.componentDidMount()}catch(u){bs(a,a.return,u)}else{var r=pr(a.type,t.memoizedProps);t=t.memoizedState;try{s.componentDidUpdate(r,t,s.__reactInternalSnapshotBeforeUpdate)}catch(u){bs(a,a.return,u)}}l&64&&t0(a),l&512&&xi(a,a.return);break;case 3:if(ll(s,a),l&64&&(s=a.updateQueue,s!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Qx(s,t)}catch(u){bs(a,a.return,u)}}break;case 27:t===null&&l&4&&n0(a);case 26:case 5:ll(s,a),t===null&&l&4&&l0(a),l&512&&xi(a,a.return);break;case 12:ll(s,a);break;case 31:ll(s,a),l&4&&m0(s,a);break;case 13:ll(s,a),l&4&&x0(s,a),l&64&&(s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(a=Gp.bind(null,a),cf(s,a))));break;case 22:if(l=a.memoizedState!==null||tl,!l){t=t!==null&&t.memoizedState!==null||Is,r=tl;var c=Is;tl=l,(Is=t)&&!c?rl(s,a,(a.subtreeFlags&8772)!==0):ll(s,a),tl=r,Is=c}break;case 30:break;default:ll(s,a)}}function o0(s){var t=s.alternate;t!==null&&(s.alternate=null,o0(t)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(t=s.stateNode,t!==null&&zr(t)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Os=null,Rt=!1;function al(s,t,a){for(a=a.child;a!==null;)d0(s,t,a),a=a.sibling}function d0(s,t,a){if(ks&&typeof ks.onCommitFiberUnmount=="function")try{ks.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:Is||Ma(a,t),al(s,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Is||Ma(a,t);var l=Os,r=Rt;ql(a.type)&&(Os=a.stateNode,Rt=!1),al(s,t,a),vi(a.stateNode),Os=l,Rt=r;break;case 5:Is||Ma(a,t);case 6:if(l=Os,r=Rt,Os=null,al(s,t,a),Os=l,Rt=r,Os!==null)if(Rt)try{(Os.nodeType===9?Os.body:Os.nodeName==="HTML"?Os.ownerDocument.body:Os).removeChild(a.stateNode)}catch(c){bs(a,t,c)}else try{Os.removeChild(a.stateNode)}catch(c){bs(a,t,c)}break;case 18:Os!==null&&(Rt?(s=Os,th(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.stateNode),bn(s)):th(Os,a.stateNode));break;case 4:l=Os,r=Rt,Os=a.stateNode.containerInfo,Rt=!0,al(s,t,a),Os=l,Rt=r;break;case 0:case 11:case 14:case 15:El(2,a,t),Is||El(4,a,t),al(s,t,a);break;case 1:Is||(Ma(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&a0(a,t,l)),al(s,t,a);break;case 21:al(s,t,a);break;case 22:Is=(l=Is)||a.memoizedState!==null,al(s,t,a),Is=l;break;default:al(s,t,a)}}function m0(s,t){if(t.memoizedState===null&&(s=t.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{bn(s)}catch(a){bs(t,t.return,a)}}}function x0(s,t){if(t.memoizedState===null&&(s=t.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{bn(s)}catch(a){bs(t,t.return,a)}}function Mp(s){switch(s.tag){case 31:case 13:case 19:var t=s.stateNode;return t===null&&(t=s.stateNode=new i0),t;case 22:return s=s.stateNode,t=s._retryCache,t===null&&(t=s._retryCache=new i0),t;default:throw Error(m(435,s.tag))}}function Lc(s,t){var a=Mp(s);t.forEach(function(l){if(!a.has(l)){a.add(l);var r=Vp.bind(null,s,l);l.then(r,r)}})}function Ot(s,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var r=a[l],c=s,u=t,N=u;e:for(;N!==null;){switch(N.tag){case 27:if(ql(N.type)){Os=N.stateNode,Rt=!1;break e}break;case 5:Os=N.stateNode,Rt=!1;break e;case 3:case 4:Os=N.stateNode.containerInfo,Rt=!0;break e}N=N.return}if(Os===null)throw Error(m(160));d0(c,u,r),Os=null,Rt=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)u0(t,s),t=t.sibling}var Na=null;function u0(s,t){var a=s.alternate,l=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ot(t,s),$t(s),l&4&&(El(3,s,s.return),mi(3,s),El(5,s,s.return));break;case 1:Ot(t,s),$t(s),l&512&&(Is||a===null||Ma(a,a.return)),l&64&&tl&&(s=s.updateQueue,s!==null&&(l=s.callbacks,l!==null&&(a=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var r=Na;if(Ot(t,s),$t(s),l&512&&(Is||a===null||Ma(a,a.return)),l&4){var c=a!==null?a.memoizedState:null;if(l=s.memoizedState,a===null)if(l===null)if(s.stateNode===null){e:{l=s.type,a=s.memoizedProps,r=r.ownerDocument||r;s:switch(l){case"title":c=r.getElementsByTagName("title")[0],(!c||c[hl]||c[js]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(l),r.head.insertBefore(c,r.querySelector("head > title"))),gt(c,l,a),c[js]=s,Ys(c),l=c;break e;case"link":var u=uh("link","href",r).get(l+(a.href||""));if(u){for(var N=0;N<u.length;N++)if(c=u[N],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){u.splice(N,1);break s}}c=r.createElement(l),gt(c,l,a),r.head.appendChild(c);break;case"meta":if(u=uh("meta","content",r).get(l+(a.content||""))){for(N=0;N<u.length;N++)if(c=u[N],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){u.splice(N,1);break s}}c=r.createElement(l),gt(c,l,a),r.head.appendChild(c);break;default:throw Error(m(468,l))}c[js]=s,Ys(c),l=c}s.stateNode=l}else hh(r,s.type,s.stateNode);else s.stateNode=xh(r,l,s.memoizedProps);else c!==l?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,l===null?hh(r,s.type,s.stateNode):xh(r,l,s.memoizedProps)):l===null&&s.stateNode!==null&&Bd(s,s.memoizedProps,a.memoizedProps)}break;case 27:Ot(t,s),$t(s),l&512&&(Is||a===null||Ma(a,a.return)),a!==null&&l&4&&Bd(s,s.memoizedProps,a.memoizedProps);break;case 5:if(Ot(t,s),$t(s),l&512&&(Is||a===null||Ma(a,a.return)),s.flags&32){r=s.stateNode;try{Ya(r,"")}catch(Te){bs(s,s.return,Te)}}l&4&&s.stateNode!=null&&(r=s.memoizedProps,Bd(s,r,a!==null?a.memoizedProps:r)),l&1024&&(Hd=!0);break;case 6:if(Ot(t,s),$t(s),l&4){if(s.stateNode===null)throw Error(m(162));l=s.memoizedProps,a=s.stateNode;try{a.nodeValue=l}catch(Te){bs(s,s.return,Te)}}break;case 3:if(Pc=null,r=Na,Na=Zc(t.containerInfo),Ot(t,s),Na=r,$t(s),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bn(t.containerInfo)}catch(Te){bs(s,s.return,Te)}Hd&&(Hd=!1,h0(s));break;case 4:l=Na,Na=Zc(s.stateNode.containerInfo),Ot(t,s),$t(s),Na=l;break;case 12:Ot(t,s),$t(s);break;case 31:Ot(t,s),$t(s),l&4&&(l=s.updateQueue,l!==null&&(s.updateQueue=null,Lc(s,l)));break;case 13:Ot(t,s),$t(s),s.child.flags&8192&&s.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rc=Ce()),l&4&&(l=s.updateQueue,l!==null&&(s.updateQueue=null,Lc(s,l)));break;case 22:r=s.memoizedState!==null;var Z=a!==null&&a.memoizedState!==null,ge=tl,Ne=Is;if(tl=ge||r,Is=Ne||Z,Ot(t,s),Is=Ne,tl=ge,$t(s),l&8192)e:for(t=s.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||Z||tl||Is||fr(s)),a=null,t=s;;){if(t.tag===5||t.tag===26){if(a===null){Z=a=t;try{if(c=Z.stateNode,r)u=c.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{N=Z.stateNode;var Se=Z.memoizedProps.style,pe=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;N.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Te){bs(Z,Z.return,Te)}}}else if(t.tag===6){if(a===null){Z=t;try{Z.stateNode.nodeValue=r?"":Z.memoizedProps}catch(Te){bs(Z,Z.return,Te)}}}else if(t.tag===18){if(a===null){Z=t;try{var je=Z.stateNode;r?ah(je,!0):ah(Z.stateNode,!1)}catch(Te){bs(Z,Z.return,Te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===s)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=s.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lc(s,a))));break;case 19:Ot(t,s),$t(s),l&4&&(l=s.updateQueue,l!==null&&(s.updateQueue=null,Lc(s,l)));break;case 30:break;case 21:break;default:Ot(t,s),$t(s)}}function $t(s){var t=s.flags;if(t&2){try{for(var a,l=s.return;l!==null;){if(r0(l)){a=l;break}l=l.return}if(a==null)throw Error(m(160));switch(a.tag){case 27:var r=a.stateNode,c=Gd(s);Dc(s,c,r);break;case 5:var u=a.stateNode;a.flags&32&&(Ya(u,""),a.flags&=-33);var N=Gd(s);Dc(s,N,u);break;case 3:case 4:var Z=a.stateNode.containerInfo,ge=Gd(s);Vd(s,ge,Z);break;default:throw Error(m(161))}}catch(Ne){bs(s,s.return,Ne)}s.flags&=-3}t&4096&&(s.flags&=-4097)}function h0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var t=s;h0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),s=s.sibling}}function ll(s,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)c0(s,t.alternate,t),t=t.sibling}function fr(s){for(s=s.child;s!==null;){var t=s;switch(t.tag){case 0:case 11:case 14:case 15:El(4,t,t.return),fr(t);break;case 1:Ma(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&a0(t,t.return,a),fr(t);break;case 27:vi(t.stateNode);case 26:case 5:Ma(t,t.return),fr(t);break;case 22:t.memoizedState===null&&fr(t);break;case 30:fr(t);break;default:fr(t)}s=s.sibling}}function rl(s,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,r=s,c=t,u=c.flags;switch(c.tag){case 0:case 11:case 15:rl(r,c,a),mi(4,c);break;case 1:if(rl(r,c,a),l=c,r=l.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(ge){bs(l,l.return,ge)}if(l=c,r=l.updateQueue,r!==null){var N=l.stateNode;try{var Z=r.shared.hiddenCallbacks;if(Z!==null)for(r.shared.hiddenCallbacks=null,r=0;r<Z.length;r++)Yx(Z[r],N)}catch(ge){bs(l,l.return,ge)}}a&&u&64&&t0(c),xi(c,c.return);break;case 27:n0(c);case 26:case 5:rl(r,c,a),a&&l===null&&u&4&&l0(c),xi(c,c.return);break;case 12:rl(r,c,a);break;case 31:rl(r,c,a),a&&u&4&&m0(r,c);break;case 13:rl(r,c,a),a&&u&4&&x0(r,c);break;case 22:c.memoizedState===null&&rl(r,c,a),xi(c,c.return);break;case 30:break;default:rl(r,c,a)}t=t.sibling}}function Kd(s,t){var a=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(s!=null&&s.refCount++,a!=null&&Wn(a))}function Yd(s,t){s=null,t.alternate!==null&&(s=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==s&&(t.refCount++,s!=null&&Wn(s))}function wa(s,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)g0(s,t,a,l),t=t.sibling}function g0(s,t,a,l){var r=t.flags;switch(t.tag){case 0:case 11:case 15:wa(s,t,a,l),r&2048&&mi(9,t);break;case 1:wa(s,t,a,l);break;case 3:wa(s,t,a,l),r&2048&&(s=null,t.alternate!==null&&(s=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==s&&(t.refCount++,s!=null&&Wn(s)));break;case 12:if(r&2048){wa(s,t,a,l),s=t.stateNode;try{var c=t.memoizedProps,u=c.id,N=c.onPostCommit;typeof N=="function"&&N(u,t.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Z){bs(t,t.return,Z)}}else wa(s,t,a,l);break;case 31:wa(s,t,a,l);break;case 13:wa(s,t,a,l);break;case 23:break;case 22:c=t.stateNode,u=t.alternate,t.memoizedState!==null?c._visibility&2?wa(s,t,a,l):ui(s,t):c._visibility&2?wa(s,t,a,l):(c._visibility|=2,nn(s,t,a,l,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Kd(u,t);break;case 24:wa(s,t,a,l),r&2048&&Yd(t.alternate,t);break;default:wa(s,t,a,l)}}function nn(s,t,a,l,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=s,u=t,N=a,Z=l,ge=u.flags;switch(u.tag){case 0:case 11:case 15:nn(c,u,N,Z,r),mi(8,u);break;case 23:break;case 22:var Ne=u.stateNode;u.memoizedState!==null?Ne._visibility&2?nn(c,u,N,Z,r):ui(c,u):(Ne._visibility|=2,nn(c,u,N,Z,r)),r&&ge&2048&&Kd(u.alternate,u);break;case 24:nn(c,u,N,Z,r),r&&ge&2048&&Yd(u.alternate,u);break;default:nn(c,u,N,Z,r)}t=t.sibling}}function ui(s,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=s,l=t,r=l.flags;switch(l.tag){case 22:ui(a,l),r&2048&&Kd(l.alternate,l);break;case 24:ui(a,l),r&2048&&Yd(l.alternate,l);break;default:ui(a,l)}t=t.sibling}}var hi=8192;function cn(s,t,a){if(s.subtreeFlags&hi)for(s=s.child;s!==null;)p0(s,t,a),s=s.sibling}function p0(s,t,a){switch(s.tag){case 26:cn(s,t,a),s.flags&hi&&s.memoizedState!==null&&yf(a,Na,s.memoizedState,s.memoizedProps);break;case 5:cn(s,t,a);break;case 3:case 4:var l=Na;Na=Zc(s.stateNode.containerInfo),cn(s,t,a),Na=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=hi,hi=16777216,cn(s,t,a),hi=l):cn(s,t,a));break;default:cn(s,t,a)}}function f0(s){var t=s.alternate;if(t!==null&&(s=t.child,s!==null)){t.child=null;do t=s.sibling,s.sibling=null,s=t;while(s!==null)}}function gi(s){var t=s.deletions;if((s.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ct=l,j0(l,s)}f0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)b0(s),s=s.sibling}function b0(s){switch(s.tag){case 0:case 11:case 15:gi(s),s.flags&2048&&El(9,s,s.return);break;case 3:gi(s);break;case 12:gi(s);break;case 22:var t=s.stateNode;s.memoizedState!==null&&t._visibility&2&&(s.return===null||s.return.tag!==13)?(t._visibility&=-3,qc(s)):gi(s);break;default:gi(s)}}function qc(s){var t=s.deletions;if((s.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ct=l,j0(l,s)}f0(s)}for(s=s.child;s!==null;){switch(t=s,t.tag){case 0:case 11:case 15:El(8,t,t.return),qc(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,qc(t));break;default:qc(t)}s=s.sibling}}function j0(s,t){for(;ct!==null;){var a=ct;switch(a.tag){case 0:case 11:case 15:El(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wn(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ct=l;else e:for(a=s;ct!==null;){l=ct;var r=l.sibling,c=l.return;if(o0(l),l===a){ct=null;break e}if(r!==null){r.return=c,ct=r;break e}ct=c}}}var Dp={getCacheForType:function(s){var t=ut(Js),a=t.data.get(s);return a===void 0&&(a=s(),t.data.set(s,a)),a},cacheSignal:function(){return ut(Js).controller.signal}},Lp=typeof WeakMap=="function"?WeakMap:Map,hs=0,Cs=null,Ze=null,We=0,fs=0,Wt=null,Al=!1,on=!1,Qd=!1,nl=0,Hs=0,Tl=0,br=0,Xd=0,It=0,dn=0,pi=null,Bt=null,Fd=!1,Rc=0,y0=0,Oc=1/0,$c=null,Ul=null,tt=0,Ml=null,mn=null,il=0,Zd=0,Jd=null,v0=null,fi=0,Pd=null;function ea(){return(hs&2)!==0&&We!==0?We&-We:L.T!==null?am():rs()}function N0(){if(It===0)if((We&536870912)===0||ts){var s=Ql;Ql<<=1,(Ql&3932160)===0&&(Ql=262144),It=s}else It=536870912;return s=Jt.current,s!==null&&(s.flags|=32),It}function Gt(s,t,a){(s===Cs&&(fs===2||fs===9)||s.cancelPendingCommit!==null)&&(xn(s,0),Dl(s,We,It,!1)),Me(s,a),((hs&2)===0||s!==Cs)&&(s===Cs&&((hs&2)===0&&(br|=a),Hs===4&&Dl(s,We,It,!1)),Da(s))}function w0(s,t,a){if((hs&6)!==0)throw Error(m(327));var l=!a&&(t&127)===0&&(t&s.expiredLanes)===0||ul(s,t),r=l?Op(s,t):Id(s,t,!0),c=l;do{if(r===0){on&&!l&&Dl(s,t,0,!1);break}else{if(a=s.current.alternate,c&&!qp(a)){r=Id(s,t,!1),c=!1;continue}if(r===2){if(c=t,s.errorRecoveryDisabledLanes&c)var u=0;else u=s.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var N=s;r=pi;var Z=N.current.memoizedState.isDehydrated;if(Z&&(xn(N,u).flags|=256),u=Id(N,u,!1),u!==2){if(Qd&&!Z){N.errorRecoveryDisabledLanes|=c,br|=c,r=4;break e}c=Bt,Bt=r,c!==null&&(Bt===null?Bt=c:Bt.push.apply(Bt,c))}r=u}if(c=!1,r!==2)continue}}if(r===1){xn(s,0),Dl(s,t,0,!0);break}e:{switch(l=s,c=r,c){case 0:case 1:throw Error(m(345));case 4:if((t&4194048)!==t)break;case 6:Dl(l,t,It,!Al);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(m(329))}if((t&62914560)===t&&(r=Rc+300-Ce(),10<r)){if(Dl(l,t,It,!Al),Fl(l,0,!0)!==0)break e;il=t,l.timeoutHandle=eh(_0.bind(null,l,a,Bt,$c,Fd,t,It,br,dn,Al,c,"Throttled",-0,0),r);break e}_0(l,a,Bt,$c,Fd,t,It,br,dn,Al,c,null,-0,0)}}break}while(!0);Da(s)}function _0(s,t,a,l,r,c,u,N,Z,ge,Ne,Se,pe,je){if(s.timeoutHandle=-1,Se=t.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ca},p0(t,c,Se);var Te=(c&62914560)===c?Rc-Ce():(c&4194048)===c?y0-Ce():0;if(Te=vf(Se,Te),Te!==null){il=c,s.cancelPendingCommit=Te(U0.bind(null,s,t,c,a,l,r,u,N,Z,Ne,Se,null,pe,je)),Dl(s,c,u,!ge);return}}U0(s,t,c,a,l,r,u,N,Z)}function qp(s){for(var t=s;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var r=a[l],c=r.getSnapshot;r=r.value;try{if(!Ft(c(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dl(s,t,a,l){t&=~Xd,t&=~br,s.suspendedLanes|=t,s.pingedLanes&=~t,l&&(s.warmLanes|=t),l=s.expirationTimes;for(var r=t;0<r;){var c=31-_t(r),u=1<<c;l[c]=-1,r&=~u}a!==0&&Gs(s,a,t)}function Bc(){return(hs&6)===0?(bi(0),!1):!0}function Wd(){if(Ze!==null){if(fs===0)var s=Ze.return;else s=Ze,Ja=or=null,hd(s),sn=null,ei=0,s=Ze;for(;s!==null;)s0(s.alternate,s),s=s.return;Ze=null}}function xn(s,t){var a=s.timeoutHandle;a!==-1&&(s.timeoutHandle=-1,tf(a)),a=s.cancelPendingCommit,a!==null&&(s.cancelPendingCommit=null,a()),il=0,Wd(),Cs=s,Ze=a=Fa(s.current,null),We=t,fs=0,Wt=null,Al=!1,on=ul(s,t),Qd=!1,dn=It=Xd=br=Tl=Hs=0,Bt=pi=null,Fd=!1,(t&8)!==0&&(t|=t&32);var l=s.entangledLanes;if(l!==0)for(s=s.entanglements,l&=t;0<l;){var r=31-_t(l),c=1<<r;t|=s[r],l&=~c}return nl=t,ic(),a}function k0(s,t){Ye=null,L.H=ci,t===en||t===gc?(t=Gx(),fs=3):t===td?(t=Gx(),fs=4):fs=t===Ad?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Wt=t,Ze===null&&(Hs=1,Ec(s,ma(t,s.current)))}function S0(){var s=Jt.current;return s===null?!0:(We&4194048)===We?ga===null:(We&62914560)===We||(We&536870912)!==0?s===ga:!1}function C0(){var s=L.H;return L.H=ci,s===null?ci:s}function z0(){var s=L.A;return L.A=Dp,s}function Gc(){Hs=4,Al||(We&4194048)!==We&&Jt.current!==null||(on=!0),(Tl&134217727)===0&&(br&134217727)===0||Cs===null||Dl(Cs,We,It,!1)}function Id(s,t,a){var l=hs;hs|=2;var r=C0(),c=z0();(Cs!==s||We!==t)&&($c=null,xn(s,t)),t=!1;var u=Hs;e:do try{if(fs!==0&&Ze!==null){var N=Ze,Z=Wt;switch(fs){case 8:Wd(),u=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(t=!0);var ge=fs;if(fs=0,Wt=null,un(s,N,Z,ge),a&&on){u=0;break e}break;default:ge=fs,fs=0,Wt=null,un(s,N,Z,ge)}}Rp(),u=Hs;break}catch(Ne){k0(s,Ne)}while(!0);return t&&s.shellSuspendCounter++,Ja=or=null,hs=l,L.H=r,L.A=c,Ze===null&&(Cs=null,We=0,ic()),u}function Rp(){for(;Ze!==null;)E0(Ze)}function Op(s,t){var a=hs;hs|=2;var l=C0(),r=z0();Cs!==s||We!==t?($c=null,Oc=Ce()+500,xn(s,t)):on=ul(s,t);e:do try{if(fs!==0&&Ze!==null){t=Ze;var c=Wt;s:switch(fs){case 1:fs=0,Wt=null,un(s,t,c,1);break;case 2:case 9:if($x(c)){fs=0,Wt=null,A0(t);break}t=function(){fs!==2&&fs!==9||Cs!==s||(fs=7),Da(s)},c.then(t,t);break e;case 3:fs=7;break e;case 4:fs=5;break e;case 7:$x(c)?(fs=0,Wt=null,A0(t)):(fs=0,Wt=null,un(s,t,c,7));break;case 5:var u=null;switch(Ze.tag){case 26:u=Ze.memoizedState;case 5:case 27:var N=Ze;if(u?gh(u):N.stateNode.complete){fs=0,Wt=null;var Z=N.sibling;if(Z!==null)Ze=Z;else{var ge=N.return;ge!==null?(Ze=ge,Vc(ge)):Ze=null}break s}}fs=0,Wt=null,un(s,t,c,5);break;case 6:fs=0,Wt=null,un(s,t,c,6);break;case 8:Wd(),Hs=6;break e;default:throw Error(m(462))}}$p();break}catch(Ne){k0(s,Ne)}while(!0);return Ja=or=null,L.H=l,L.A=r,hs=a,Ze!==null?0:(Cs=null,We=0,ic(),Hs)}function $p(){for(;Ze!==null&&!Re();)E0(Ze)}function E0(s){var t=Iu(s.alternate,s,nl);s.memoizedProps=s.pendingProps,t===null?Vc(s):Ze=t}function A0(s){var t=s,a=t.alternate;switch(t.tag){case 15:case 0:t=Xu(a,t,t.pendingProps,t.type,void 0,We);break;case 11:t=Xu(a,t,t.pendingProps,t.type.render,t.ref,We);break;case 5:hd(t);default:s0(a,t),t=Ze=zx(t,nl),t=Iu(a,t,nl)}s.memoizedProps=s.pendingProps,t===null?Vc(s):Ze=t}function un(s,t,a,l){Ja=or=null,hd(t),sn=null,ei=0;var r=t.return;try{if(Cp(s,r,t,a,We)){Hs=1,Ec(s,ma(a,s.current)),Ze=null;return}}catch(c){if(r!==null)throw Ze=r,c;Hs=1,Ec(s,ma(a,s.current)),Ze=null;return}t.flags&32768?(ts||l===1?s=!0:on||(We&536870912)!==0?s=!1:(Al=s=!0,(l===2||l===9||l===3||l===6)&&(l=Jt.current,l!==null&&l.tag===13&&(l.flags|=16384))),T0(t,s)):Vc(t)}function Vc(s){var t=s;do{if((t.flags&32768)!==0){T0(t,Al);return}s=t.return;var a=Ap(t.alternate,t,nl);if(a!==null){Ze=a;return}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=s}while(t!==null);Hs===0&&(Hs=5)}function T0(s,t){do{var a=Tp(s.alternate,s);if(a!==null){a.flags&=32767,Ze=a;return}if(a=s.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(s=s.sibling,s!==null)){Ze=s;return}Ze=s=a}while(s!==null);Hs=6,Ze=null}function U0(s,t,a,l,r,c,u,N,Z){s.cancelPendingCommit=null;do Hc();while(tt!==0);if((hs&6)!==0)throw Error(m(327));if(t!==null){if(t===s.current)throw Error(m(177));if(c=t.lanes|t.childLanes,c|=Go,us(s,a,c,u,N,Z),s===Cs&&(Ze=Cs=null,We=0),mn=t,Ml=s,il=a,Zd=c,Jd=r,v0=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Hp(De,function(){return R0(),null})):(s.callbackNode=null,s.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,r=ue.p,ue.p=2,u=hs,hs|=4;try{Up(s,t,a)}finally{hs=u,ue.p=r,L.T=l}}tt=1,M0(),D0(),L0()}}function M0(){if(tt===1){tt=0;var s=Ml,t=mn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=ue.p;ue.p=2;var r=hs;hs|=4;try{u0(t,s);var c=mm,u=jx(s.containerInfo),N=c.focusedElem,Z=c.selectionRange;if(u!==N&&N&&N.ownerDocument&&bx(N.ownerDocument.documentElement,N)){if(Z!==null&&qo(N)){var ge=Z.start,Ne=Z.end;if(Ne===void 0&&(Ne=ge),"selectionStart"in N)N.selectionStart=ge,N.selectionEnd=Math.min(Ne,N.value.length);else{var Se=N.ownerDocument||document,pe=Se&&Se.defaultView||window;if(pe.getSelection){var je=pe.getSelection(),Te=N.textContent.length,Ge=Math.min(Z.start,Te),ws=Z.end===void 0?Ge:Math.min(Z.end,Te);!je.extend&&Ge>ws&&(u=ws,ws=Ge,Ge=u);var oe=fx(N,Ge),te=fx(N,ws);if(oe&&te&&(je.rangeCount!==1||je.anchorNode!==oe.node||je.anchorOffset!==oe.offset||je.focusNode!==te.node||je.focusOffset!==te.offset)){var he=Se.createRange();he.setStart(oe.node,oe.offset),je.removeAllRanges(),Ge>ws?(je.addRange(he),je.extend(te.node,te.offset)):(he.setEnd(te.node,te.offset),je.addRange(he))}}}}for(Se=[],je=N;je=je.parentNode;)je.nodeType===1&&Se.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Se.length;N++){var _e=Se[N];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}so=!!dm,mm=dm=null}finally{hs=r,ue.p=l,L.T=a}}s.current=t,tt=2}}function D0(){if(tt===2){tt=0;var s=Ml,t=mn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=ue.p;ue.p=2;var r=hs;hs|=4;try{c0(s,t.alternate,t)}finally{hs=r,ue.p=l,L.T=a}}tt=3}}function L0(){if(tt===4||tt===3){tt=0,fe();var s=Ml,t=mn,a=il,l=v0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,mn=Ml=null,q0(s,s.pendingLanes));var r=s.pendingLanes;if(r===0&&(Ul=null),Ke(a),t=t.stateNode,ks&&typeof ks.onCommitFiberRoot=="function")try{ks.onCommitFiberRoot(dt,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=L.T,r=ue.p,ue.p=2,L.T=null;try{for(var c=s.onRecoverableError,u=0;u<l.length;u++){var N=l[u];c(N.value,{componentStack:N.stack})}}finally{L.T=t,ue.p=r}}(il&3)!==0&&Hc(),Da(s),r=s.pendingLanes,(a&261930)!==0&&(r&42)!==0?s===Pd?fi++:(fi=0,Pd=s):fi=0,bi(0)}}function q0(s,t){(s.pooledCacheLanes&=t)===0&&(t=s.pooledCache,t!=null&&(s.pooledCache=null,Wn(t)))}function Hc(){return M0(),D0(),L0(),R0()}function R0(){if(tt!==5)return!1;var s=Ml,t=Zd;Zd=0;var a=Ke(il),l=L.T,r=ue.p;try{ue.p=32>a?32:a,L.T=null,a=Jd,Jd=null;var c=Ml,u=il;if(tt=0,mn=Ml=null,il=0,(hs&6)!==0)throw Error(m(331));var N=hs;if(hs|=4,b0(c.current),g0(c,c.current,u,a),hs=N,bi(0,!1),ks&&typeof ks.onPostCommitFiberRoot=="function")try{ks.onPostCommitFiberRoot(dt,c)}catch{}return!0}finally{ue.p=r,L.T=l,q0(s,t)}}function O0(s,t,a){t=ma(a,t),t=Ed(s.stateNode,t,2),s=Sl(s,t,2),s!==null&&(Me(s,2),Da(s))}function bs(s,t,a){if(s.tag===3)O0(s,s,a);else for(;t!==null;){if(t.tag===3){O0(t,s,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ul===null||!Ul.has(l))){s=ma(a,s),a=$u(2),l=Sl(t,a,2),l!==null&&(Bu(a,l,t,s),Me(l,2),Da(l));break}}t=t.return}}function em(s,t,a){var l=s.pingCache;if(l===null){l=s.pingCache=new Lp;var r=new Set;l.set(t,r)}else r=l.get(t),r===void 0&&(r=new Set,l.set(t,r));r.has(a)||(Qd=!0,r.add(a),s=Bp.bind(null,s,t,a),t.then(s,s))}function Bp(s,t,a){var l=s.pingCache;l!==null&&l.delete(t),s.pingedLanes|=s.suspendedLanes&a,s.warmLanes&=~a,Cs===s&&(We&a)===a&&(Hs===4||Hs===3&&(We&62914560)===We&&300>Ce()-Rc?(hs&2)===0&&xn(s,0):Xd|=a,dn===We&&(dn=0)),Da(s)}function $0(s,t){t===0&&(t=p()),s=nr(s,t),s!==null&&(Me(s,t),Da(s))}function Gp(s){var t=s.memoizedState,a=0;t!==null&&(a=t.retryLane),$0(s,a)}function Vp(s,t){var a=0;switch(s.tag){case 31:case 13:var l=s.stateNode,r=s.memoizedState;r!==null&&(a=r.retryLane);break;case 19:l=s.stateNode;break;case 22:l=s.stateNode._retryCache;break;default:throw Error(m(314))}l!==null&&l.delete(t),$0(s,a)}function Hp(s,t){return xe(s,t)}var Kc=null,hn=null,sm=!1,Yc=!1,tm=!1,Ll=0;function Da(s){s!==hn&&s.next===null&&(hn===null?Kc=hn=s:hn=hn.next=s),Yc=!0,sm||(sm=!0,Yp())}function bi(s,t){if(!tm&&Yc){tm=!0;do for(var a=!1,l=Kc;l!==null;){if(s!==0){var r=l.pendingLanes;if(r===0)var c=0;else{var u=l.suspendedLanes,N=l.pingedLanes;c=(1<<31-_t(42|s)+1)-1,c&=r&~(u&~N),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,H0(l,c))}else c=We,c=Fl(l,l===Cs?c:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(c&3)===0||ul(l,c)||(a=!0,H0(l,c));l=l.next}while(a);tm=!1}}function Kp(){B0()}function B0(){Yc=sm=!1;var s=0;Ll!==0&&sf()&&(s=Ll);for(var t=Ce(),a=null,l=Kc;l!==null;){var r=l.next,c=G0(l,t);c===0?(l.next=null,a===null?Kc=r:a.next=r,r===null&&(hn=a)):(a=l,(s!==0||(c&3)!==0)&&(Yc=!0)),l=r}tt!==0&&tt!==5||bi(s),Ll!==0&&(Ll=0)}function G0(s,t){for(var a=s.suspendedLanes,l=s.pingedLanes,r=s.expirationTimes,c=s.pendingLanes&-62914561;0<c;){var u=31-_t(c),N=1<<u,Z=r[u];Z===-1?((N&a)===0||(N&l)!==0)&&(r[u]=Vi(N,t)):Z<=t&&(s.expiredLanes|=N),c&=~N}if(t=Cs,a=We,a=Fl(s,s===t?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),l=s.callbackNode,a===0||s===t&&(fs===2||fs===9)||s.cancelPendingCommit!==null)return l!==null&&l!==null&&Ae(l),s.callbackNode=null,s.callbackPriority=0;if((a&3)===0||ul(s,a)){if(t=a&-a,t===s.callbackPriority)return t;switch(l!==null&&Ae(l),Ke(a)){case 2:case 8:a=ke;break;case 32:a=De;break;case 268435456:a=gs;break;default:a=De}return l=V0.bind(null,s),a=xe(a,l),s.callbackPriority=t,s.callbackNode=a,t}return l!==null&&l!==null&&Ae(l),s.callbackPriority=2,s.callbackNode=null,2}function V0(s,t){if(tt!==0&&tt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var a=s.callbackNode;if(Hc()&&s.callbackNode!==a)return null;var l=We;return l=Fl(s,s===Cs?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),l===0?null:(w0(s,l,t),G0(s,Ce()),s.callbackNode!=null&&s.callbackNode===a?V0.bind(null,s):null)}function H0(s,t){if(Hc())return null;w0(s,t,!0)}function Yp(){af(function(){(hs&6)!==0?xe(I,Kp):B0()})}function am(){if(Ll===0){var s=Wr;s===0&&(s=Yl,Yl<<=1,(Yl&261888)===0&&(Yl=256)),Ll=s}return Ll}function K0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Wl(""+s)}function Y0(s,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,s.id&&a.setAttribute("form",s.id),t.parentNode.insertBefore(a,t),s=new FormData(s),a.parentNode.removeChild(a),s}function Qp(s,t,a,l,r){if(t==="submit"&&a&&a.stateNode===r){var c=K0((r[Rs]||null).action),u=l.submitter;u&&(t=(t=u[Rs]||null)?K0(t.formAction):u.getAttribute("formAction"),t!==null&&(c=t,u=null));var N=new tr("action","action",null,l,r);s.push({event:N,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ll!==0){var Z=u?Y0(r,u):new FormData(r);wd(a,{pending:!0,data:Z,method:r.method,action:c},null,Z)}}else typeof c=="function"&&(N.preventDefault(),Z=u?Y0(r,u):new FormData(r),wd(a,{pending:!0,data:Z,method:r.method,action:c},c,Z))},currentTarget:r}]})}}for(var lm=0;lm<Bo.length;lm++){var rm=Bo[lm],Xp=rm.toLowerCase(),Fp=rm[0].toUpperCase()+rm.slice(1);va(Xp,"on"+Fp)}va(Nx,"onAnimationEnd"),va(wx,"onAnimationIteration"),va(_x,"onAnimationStart"),va("dblclick","onDoubleClick"),va("focusin","onFocus"),va("focusout","onBlur"),va(dp,"onTransitionRun"),va(mp,"onTransitionStart"),va(xp,"onTransitionCancel"),va(kx,"onTransitionEnd"),Ha("onMouseEnter",["mouseout","mouseover"]),Ha("onMouseLeave",["mouseout","mouseover"]),Ha("onPointerEnter",["pointerout","pointerover"]),Ha("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ji));function Q0(s,t){t=(t&4)!==0;for(var a=0;a<s.length;a++){var l=s[a],r=l.event;l=l.listeners;e:{var c=void 0;if(t)for(var u=l.length-1;0<=u;u--){var N=l[u],Z=N.instance,ge=N.currentTarget;if(N=N.listener,Z!==c&&r.isPropagationStopped())break e;c=N,r.currentTarget=ge;try{c(r)}catch(Ne){nc(Ne)}r.currentTarget=null,c=Z}else for(u=0;u<l.length;u++){if(N=l[u],Z=N.instance,ge=N.currentTarget,N=N.listener,Z!==c&&r.isPropagationStopped())break e;c=N,r.currentTarget=ge;try{c(r)}catch(Ne){nc(Ne)}r.currentTarget=null,c=Z}}}}function Je(s,t){var a=t[$a];a===void 0&&(a=t[$a]=new Set);var l=s+"__bubble";a.has(l)||(X0(t,s,2,!1),a.add(l))}function nm(s,t,a){var l=0;t&&(l|=4),X0(a,s,l,t)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function im(s){if(!s[Qc]){s[Qc]=!0,En.forEach(function(a){a!=="selectionchange"&&(Zp.has(a)||nm(a,!1,s),nm(a,!0,s))});var t=s.nodeType===9?s:s.ownerDocument;t===null||t[Qc]||(t[Qc]=!0,nm("selectionchange",!1,t))}}function X0(s,t,a,l){switch(Nh(t)){case 2:var r=_f;break;case 8:r=kf;break;default:r=Nm}a=r.bind(null,t,a,s),r=void 0,!qr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),l?r!==void 0?s.addEventListener(t,a,{capture:!0,passive:r}):s.addEventListener(t,a,!0):r!==void 0?s.addEventListener(t,a,{passive:r}):s.addEventListener(t,a,!1)}function cm(s,t,a,l,r){var c=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var u=l.tag;if(u===3||u===4){var N=l.stateNode.containerInfo;if(N===r)break;if(u===4)for(u=l.return;u!==null;){var Z=u.tag;if((Z===3||Z===4)&&u.stateNode.containerInfo===r)return;u=u.return}for(;N!==null;){if(u=Ba(N),u===null)return;if(Z=u.tag,Z===5||Z===6||Z===26||Z===27){l=c=u;continue e}N=N.parentNode}}l=l.return}Gn(function(){var ge=c,Ne=Dr(a),Se=[];e:{var pe=Sx.get(s);if(pe!==void 0){var je=tr,Te=s;switch(s){case"keypress":if(er(a)===0)break e;case"keydown":case"keyup":je=Vg;break;case"focusin":Te="focus",je=Br;break;case"focusout":Te="blur",je=Br;break;case"beforeblur":case"afterblur":je=Br;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=Wi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=Yg;break;case Nx:case wx:case _x:je=sc;break;case kx:je=Xg;break;case"scroll":case"scrollend":je=Ji;break;case"wheel":je=Zg;break;case"copy":case"cut":case"paste":je=ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=ax;break;case"toggle":case"beforetoggle":je=Pg}var Ge=(t&4)!==0,ws=!Ge&&(s==="scroll"||s==="scrollend"),oe=Ge?pe!==null?pe+"Capture":null:pe;Ge=[];for(var te=ge,he;te!==null;){var _e=te;if(he=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||he===null||oe===null||(_e=pl(te,oe),_e!=null&&Ge.push(yi(te,_e,he))),ws)break;te=te.return}0<Ge.length&&(pe=new je(pe,Te,null,a,Ne),Se.push({event:pe,listeners:Ge}))}}if((t&7)===0){e:{if(pe=s==="mouseover"||s==="pointerover",je=s==="mouseout"||s==="pointerout",pe&&a!==Mr&&(Te=a.relatedTarget||a.fromElement)&&(Ba(Te)||Te[na]))break e;if((je||pe)&&(pe=Ne.window===Ne?Ne:(pe=Ne.ownerDocument)?pe.defaultView||pe.parentWindow:window,je?(Te=a.relatedTarget||a.toElement,je=ge,Te=Te?Ba(Te):null,Te!==null&&(ws=n(Te),Ge=Te.tag,Te!==ws||Ge!==5&&Ge!==27&&Ge!==6)&&(Te=null)):(je=null,Te=ge),je!==Te)){if(Ge=Kn,_e="onMouseLeave",oe="onMouseEnter",te="mouse",(s==="pointerout"||s==="pointerover")&&(Ge=ax,_e="onPointerLeave",oe="onPointerEnter",te="pointer"),ws=je==null?pe:gl(je),he=Te==null?pe:gl(Te),pe=new Ge(_e,te+"leave",je,a,Ne),pe.target=ws,pe.relatedTarget=he,_e=null,Ba(Ne)===ge&&(Ge=new Ge(oe,te+"enter",Te,a,Ne),Ge.target=he,Ge.relatedTarget=ws,_e=Ge),ws=_e,je&&Te)s:{for(Ge=Jp,oe=je,te=Te,he=0,_e=oe;_e;_e=Ge(_e))he++;_e=0;for(var $e=te;$e;$e=Ge($e))_e++;for(;0<he-_e;)oe=Ge(oe),he--;for(;0<_e-he;)te=Ge(te),_e--;for(;he--;){if(oe===te||te!==null&&oe===te.alternate){Ge=oe;break s}oe=Ge(oe),te=Ge(te)}Ge=null}else Ge=null;je!==null&&F0(Se,pe,je,Ge,!1),Te!==null&&ws!==null&&F0(Se,ws,Te,Ge,!0)}}e:{if(pe=ge?gl(ge):window,je=pe.nodeName&&pe.nodeName.toLowerCase(),je==="select"||je==="input"&&pe.type==="file")var os=mx;else if(ox(pe))if(xx)os=ip;else{os=rp;var Le=lp}else je=pe.nodeName,!je||je.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?ge&&Ur(ge.elementType)&&(os=mx):os=np;if(os&&(os=os(s,ge))){dx(Se,os,a,Ne);break e}Le&&Le(s,pe,ge),s==="focusout"&&ge&&pe.type==="number"&&ge.memoizedProps.value!=null&&Tr(pe,"number",pe.value)}switch(Le=ge?gl(ge):window,s){case"focusin":(ox(Le)||Le.contentEditable==="true")&&(Kr=Le,Ro=ge,Zn=null);break;case"focusout":Zn=Ro=Kr=null;break;case"mousedown":Oo=!0;break;case"contextmenu":case"mouseup":case"dragend":Oo=!1,yx(Se,a,Ne);break;case"selectionchange":if(op)break;case"keydown":case"keyup":yx(Se,a,Ne)}var Fe;if(Mo)e:{switch(s){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Hr?ix(s,a)&&(Ie="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(lx&&a.locale!=="ko"&&(Hr||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Hr&&(Fe=Vn()):(ja=Ne,Rr="value"in ja?ja.value:ja.textContent,Hr=!0)),Le=Xc(ge,Ie),0<Le.length&&(Ie=new ys(Ie,s,null,a,Ne),Se.push({event:Ie,listeners:Le}),Fe?Ie.data=Fe:(Fe=cx(a),Fe!==null&&(Ie.data=Fe)))),(Fe=Ig?ep(s,a):sp(s,a))&&(Ie=Xc(ge,"onBeforeInput"),0<Ie.length&&(Le=new ys("onBeforeInput","beforeinput",null,a,Ne),Se.push({event:Le,listeners:Ie}),Le.data=Fe)),Qp(Se,s,ge,a,Ne)}Q0(Se,t)})}function yi(s,t,a){return{instance:s,listener:t,currentTarget:a}}function Xc(s,t){for(var a=t+"Capture",l=[];s!==null;){var r=s,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=pl(s,a),r!=null&&l.unshift(yi(s,r,c)),r=pl(s,t),r!=null&&l.push(yi(s,r,c))),s.tag===3)return l;s=s.return}return[]}function Jp(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function F0(s,t,a,l,r){for(var c=t._reactName,u=[];a!==null&&a!==l;){var N=a,Z=N.alternate,ge=N.stateNode;if(N=N.tag,Z!==null&&Z===l)break;N!==5&&N!==26&&N!==27||ge===null||(Z=ge,r?(ge=pl(a,c),ge!=null&&u.unshift(yi(a,ge,Z))):r||(ge=pl(a,c),ge!=null&&u.push(yi(a,ge,Z)))),a=a.return}u.length!==0&&s.push({event:t,listeners:u})}var Pp=/\r\n?/g,Wp=/\u0000|\uFFFD/g;function Z0(s){return(typeof s=="string"?s:""+s).replace(Pp,`
`).replace(Wp,"")}function J0(s,t){return t=Z0(t),Z0(s)===t}function Ns(s,t,a,l,r,c){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ya(s,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ya(s,""+l);break;case"className":Jl(s,"class",l);break;case"tabIndex":Jl(s,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jl(s,a,l);break;case"style":$n(s,l,c);break;case"data":if(t!=="object"){Jl(s,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){s.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){s.removeAttribute(a);break}l=Wl(""+l),s.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){s.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&Ns(s,t,"name",r.name,r,null),Ns(s,t,"formEncType",r.formEncType,r,null),Ns(s,t,"formMethod",r.formMethod,r,null),Ns(s,t,"formTarget",r.formTarget,r,null)):(Ns(s,t,"encType",r.encType,r,null),Ns(s,t,"method",r.method,r,null),Ns(s,t,"target",r.target,r,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){s.removeAttribute(a);break}l=Wl(""+l),s.setAttribute(a,l);break;case"onClick":l!=null&&(s.onclick=ca);break;case"onScroll":l!=null&&Je("scroll",s);break;case"onScrollEnd":l!=null&&Je("scrollend",s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(m(61));if(a=l.__html,a!=null){if(r.children!=null)throw Error(m(60));s.innerHTML=a}}break;case"multiple":s.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":s.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){s.removeAttribute("xlink:href");break}a=Wl(""+l),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?s.setAttribute(a,""+l):s.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?s.setAttribute(a,""):s.removeAttribute(a);break;case"capture":case"download":l===!0?s.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?s.setAttribute(a,l):s.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?s.setAttribute(a,l):s.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?s.removeAttribute(a):s.setAttribute(a,l);break;case"popover":Je("beforetoggle",s),Je("toggle",s),Zl(s,"popover",l);break;case"xlinkActuate":ia(s,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ia(s,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ia(s,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ia(s,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ia(s,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ia(s,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ia(s,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ia(s,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ia(s,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Zl(s,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fi.get(a)||a,Zl(s,a,l))}}function om(s,t,a,l,r,c){switch(a){case"style":$n(s,l,c);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(m(61));if(a=l.__html,a!=null){if(r.children!=null)throw Error(m(60));s.innerHTML=a}}break;case"children":typeof l=="string"?Ya(s,l):(typeof l=="number"||typeof l=="bigint")&&Ya(s,""+l);break;case"onScroll":l!=null&&Je("scroll",s);break;case"onScrollEnd":l!=null&&Je("scrollend",s);break;case"onClick":l!=null&&(s.onclick=ca);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!An.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),c=s[Rs]||null,c=c!=null?c[a]:null,typeof c=="function"&&s.removeEventListener(t,c,r),typeof l=="function")){typeof c!="function"&&c!==null&&(a in s?s[a]=null:s.hasAttribute(a)&&s.removeAttribute(a)),s.addEventListener(t,l,r);break e}a in s?s[a]=l:l===!0?s.setAttribute(a,""):Zl(s,a,l)}}}function gt(s,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",s),Je("load",s);var l=!1,r=!1,c;for(c in a)if(a.hasOwnProperty(c)){var u=a[c];if(u!=null)switch(c){case"src":l=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:Ns(s,t,c,u,a,null)}}r&&Ns(s,t,"srcSet",a.srcSet,a,null),l&&Ns(s,t,"src",a.src,a,null);return;case"input":Je("invalid",s);var N=c=u=r=null,Z=null,ge=null;for(l in a)if(a.hasOwnProperty(l)){var Ne=a[l];if(Ne!=null)switch(l){case"name":r=Ne;break;case"type":u=Ne;break;case"checked":Z=Ne;break;case"defaultChecked":ge=Ne;break;case"value":c=Ne;break;case"defaultValue":N=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(m(137,t));break;default:Ns(s,t,l,Ne,a,null)}}Ln(s,c,N,Z,ge,u,r,!1);return;case"select":Je("invalid",s),l=u=c=null;for(r in a)if(a.hasOwnProperty(r)&&(N=a[r],N!=null))switch(r){case"value":c=N;break;case"defaultValue":u=N;break;case"multiple":l=N;default:Ns(s,t,r,N,a,null)}t=c,a=u,s.multiple=!!l,t!=null?Ka(s,!!l,t,!1):a!=null&&Ka(s,!!l,a,!0);return;case"textarea":Je("invalid",s),c=r=l=null;for(u in a)if(a.hasOwnProperty(u)&&(N=a[u],N!=null))switch(u){case"value":l=N;break;case"defaultValue":r=N;break;case"children":c=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(m(91));break;default:Ns(s,t,u,N,a,null)}Rn(s,l,r,c);return;case"option":for(Z in a)if(a.hasOwnProperty(Z)&&(l=a[Z],l!=null))switch(Z){case"selected":s.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ns(s,t,Z,l,a,null)}return;case"dialog":Je("beforetoggle",s),Je("toggle",s),Je("cancel",s),Je("close",s);break;case"iframe":case"object":Je("load",s);break;case"video":case"audio":for(l=0;l<ji.length;l++)Je(ji[l],s);break;case"image":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"embed":case"source":case"link":Je("error",s),Je("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in a)if(a.hasOwnProperty(ge)&&(l=a[ge],l!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:Ns(s,t,ge,l,a,null)}return;default:if(Ur(t)){for(Ne in a)a.hasOwnProperty(Ne)&&(l=a[Ne],l!==void 0&&om(s,t,Ne,l,a,void 0));return}}for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null&&Ns(s,t,N,l,a,null))}function Ip(s,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,u=null,N=null,Z=null,ge=null,Ne=null;for(je in a){var Se=a[je];if(a.hasOwnProperty(je)&&Se!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":Z=Se;default:l.hasOwnProperty(je)||Ns(s,t,je,null,l,Se)}}for(var pe in l){var je=l[pe];if(Se=a[pe],l.hasOwnProperty(pe)&&(je!=null||Se!=null))switch(pe){case"type":c=je;break;case"name":r=je;break;case"checked":ge=je;break;case"defaultChecked":Ne=je;break;case"value":u=je;break;case"defaultValue":N=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(m(137,t));break;default:je!==Se&&Ns(s,t,pe,je,l,Se)}}Ar(s,u,N,Z,ge,Ne,c,r);return;case"select":je=u=N=pe=null;for(c in a)if(Z=a[c],a.hasOwnProperty(c)&&Z!=null)switch(c){case"value":break;case"multiple":je=Z;default:l.hasOwnProperty(c)||Ns(s,t,c,null,l,Z)}for(r in l)if(c=l[r],Z=a[r],l.hasOwnProperty(r)&&(c!=null||Z!=null))switch(r){case"value":pe=c;break;case"defaultValue":N=c;break;case"multiple":u=c;default:c!==Z&&Ns(s,t,r,c,l,Z)}t=N,a=u,l=je,pe!=null?Ka(s,!!a,pe,!1):!!l!=!!a&&(t!=null?Ka(s,!!a,t,!0):Ka(s,!!a,a?[]:"",!1));return;case"textarea":je=pe=null;for(N in a)if(r=a[N],a.hasOwnProperty(N)&&r!=null&&!l.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ns(s,t,N,null,l,r)}for(u in l)if(r=l[u],c=a[u],l.hasOwnProperty(u)&&(r!=null||c!=null))switch(u){case"value":pe=r;break;case"defaultValue":je=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(m(91));break;default:r!==c&&Ns(s,t,u,r,l,c)}qn(s,pe,je);return;case"option":for(var Te in a)if(pe=a[Te],a.hasOwnProperty(Te)&&pe!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":s.selected=!1;break;default:Ns(s,t,Te,null,l,pe)}for(Z in l)if(pe=l[Z],je=a[Z],l.hasOwnProperty(Z)&&pe!==je&&(pe!=null||je!=null))switch(Z){case"selected":s.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:Ns(s,t,Z,pe,l,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in a)pe=a[Ge],a.hasOwnProperty(Ge)&&pe!=null&&!l.hasOwnProperty(Ge)&&Ns(s,t,Ge,null,l,pe);for(ge in l)if(pe=l[ge],je=a[ge],l.hasOwnProperty(ge)&&pe!==je&&(pe!=null||je!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(m(137,t));break;default:Ns(s,t,ge,pe,l,je)}return;default:if(Ur(t)){for(var ws in a)pe=a[ws],a.hasOwnProperty(ws)&&pe!==void 0&&!l.hasOwnProperty(ws)&&om(s,t,ws,void 0,l,pe);for(Ne in l)pe=l[Ne],je=a[Ne],!l.hasOwnProperty(Ne)||pe===je||pe===void 0&&je===void 0||om(s,t,Ne,pe,l,je);return}}for(var oe in a)pe=a[oe],a.hasOwnProperty(oe)&&pe!=null&&!l.hasOwnProperty(oe)&&Ns(s,t,oe,null,l,pe);for(Se in l)pe=l[Se],je=a[Se],!l.hasOwnProperty(Se)||pe===je||pe==null&&je==null||Ns(s,t,Se,pe,l,je)}function P0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ef(){if(typeof performance.getEntriesByType=="function"){for(var s=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var r=a[l],c=r.transferSize,u=r.initiatorType,N=r.duration;if(c&&N&&P0(u)){for(u=0,N=r.responseEnd,l+=1;l<a.length;l++){var Z=a[l],ge=Z.startTime;if(ge>N)break;var Ne=Z.transferSize,Se=Z.initiatorType;Ne&&P0(Se)&&(Z=Z.responseEnd,u+=Ne*(Z<N?1:(N-ge)/(Z-ge)))}if(--l,t+=8*(c+u)/(r.duration/1e3),s++,10<s)break}}if(0<s)return t/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var dm=null,mm=null;function Fc(s){return s.nodeType===9?s:s.ownerDocument}function W0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I0(s,t){if(s===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&t==="foreignObject"?0:s}function xm(s,t){return s==="textarea"||s==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var um=null;function sf(){var s=window.event;return s&&s.type==="popstate"?s===um?!1:(um=s,!0):(um=null,!1)}var eh=typeof setTimeout=="function"?setTimeout:void 0,tf=typeof clearTimeout=="function"?clearTimeout:void 0,sh=typeof Promise=="function"?Promise:void 0,af=typeof queueMicrotask=="function"?queueMicrotask:typeof sh<"u"?function(s){return sh.resolve(null).then(s).catch(lf)}:eh;function lf(s){setTimeout(function(){throw s})}function ql(s){return s==="head"}function th(s,t){var a=t,l=0;do{var r=a.nextSibling;if(s.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"||a==="/&"){if(l===0){s.removeChild(r),bn(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")vi(s.ownerDocument.documentElement);else if(a==="head"){a=s.ownerDocument.head,vi(a);for(var c=a.firstChild;c;){var u=c.nextSibling,N=c.nodeName;c[hl]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=u}}else a==="body"&&vi(s.ownerDocument.body);a=r}while(a);bn(t)}function ah(s,t){var a=s;s=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(s===0)break;s--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||s++;a=l}while(a)}function hm(s){var t=s.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),zr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}s.removeChild(a)}}function rf(s,t,a,l){for(;s.nodeType===1;){var r=a;if(s.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(l){if(!s[hl])switch(t){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(c=s.getAttribute("rel"),c==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(c!==r.rel||s.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||s.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||s.getAttribute("title")!==(r.title==null?null:r.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(c=s.getAttribute("src"),(c!==(r.src==null?null:r.src)||s.getAttribute("type")!==(r.type==null?null:r.type)||s.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(t==="input"&&s.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&s.getAttribute("name")===c)return s}else return s;if(s=pa(s.nextSibling),s===null)break}return null}function nf(s,t,a){if(t==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=pa(s.nextSibling),s===null))return null;return s}function lh(s,t){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!t||(s=pa(s.nextSibling),s===null))return null;return s}function gm(s){return s.data==="$?"||s.data==="$~"}function pm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function cf(s,t){var a=s.ownerDocument;if(s.data==="$~")s._reactRetry=t;else if(s.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),s._reactRetry=l}}function pa(s){for(;s!=null;s=s.nextSibling){var t=s.nodeType;if(t===1||t===3)break;if(t===8){if(t=s.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return s}var fm=null;function rh(s){s=s.nextSibling;for(var t=0;s;){if(s.nodeType===8){var a=s.data;if(a==="/$"||a==="/&"){if(t===0)return pa(s.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}s=s.nextSibling}return null}function nh(s){s=s.previousSibling;for(var t=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return s;t--}else a!=="/$"&&a!=="/&"||t++}s=s.previousSibling}return null}function ih(s,t,a){switch(t=Fc(a),s){case"html":if(s=t.documentElement,!s)throw Error(m(452));return s;case"head":if(s=t.head,!s)throw Error(m(453));return s;case"body":if(s=t.body,!s)throw Error(m(454));return s;default:throw Error(m(451))}}function vi(s){for(var t=s.attributes;t.length;)s.removeAttributeNode(t[0]);zr(s)}var fa=new Map,ch=new Set;function Zc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var cl=ue.d;ue.d={f:of,r:df,D:mf,C:xf,L:uf,m:hf,X:pf,S:gf,M:ff};function of(){var s=cl.f(),t=Bc();return s||t}function df(s){var t=Ga(s);t!==null&&t.tag===5&&t.type==="form"?ku(t):cl.r(s)}var gn=typeof document>"u"?null:document;function oh(s,t,a){var l=gn;if(l&&typeof t=="string"&&t){var r=At(t);r='link[rel="'+s+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),ch.has(r)||(ch.add(r),s={rel:s,crossOrigin:a,href:t},l.querySelector(r)===null&&(t=l.createElement("link"),gt(t,"link",s),Ys(t),l.head.appendChild(t)))}}function mf(s){cl.D(s),oh("dns-prefetch",s,null)}function xf(s,t){cl.C(s,t),oh("preconnect",s,t)}function uf(s,t,a){cl.L(s,t,a);var l=gn;if(l&&s&&t){var r='link[rel="preload"][as="'+At(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+At(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+At(a.imageSizes)+'"]')):r+='[href="'+At(s)+'"]';var c=r;switch(t){case"style":c=pn(s);break;case"script":c=fn(s)}fa.has(c)||(s=A({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:s,as:t},a),fa.set(c,s),l.querySelector(r)!==null||t==="style"&&l.querySelector(Ni(c))||t==="script"&&l.querySelector(wi(c))||(t=l.createElement("link"),gt(t,"link",s),Ys(t),l.head.appendChild(t)))}}function hf(s,t){cl.m(s,t);var a=gn;if(a&&s){var l=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+At(l)+'"][href="'+At(s)+'"]',c=r;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=fn(s)}if(!fa.has(c)&&(s=A({rel:"modulepreload",href:s},t),fa.set(c,s),a.querySelector(r)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wi(c)))return}l=a.createElement("link"),gt(l,"link",s),Ys(l),a.head.appendChild(l)}}}function gf(s,t,a){cl.S(s,t,a);var l=gn;if(l&&s){var r=Va(l).hoistableStyles,c=pn(s);t=t||"default";var u=r.get(c);if(!u){var N={loading:0,preload:null};if(u=l.querySelector(Ni(c)))N.loading=5;else{s=A({rel:"stylesheet",href:s,"data-precedence":t},a),(a=fa.get(c))&&bm(s,a);var Z=u=l.createElement("link");Ys(Z),gt(Z,"link",s),Z._p=new Promise(function(ge,Ne){Z.onload=ge,Z.onerror=Ne}),Z.addEventListener("load",function(){N.loading|=1}),Z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Jc(u,t,l)}u={type:"stylesheet",instance:u,count:1,state:N},r.set(c,u)}}}function pf(s,t){cl.X(s,t);var a=gn;if(a&&s){var l=Va(a).hoistableScripts,r=fn(s),c=l.get(r);c||(c=a.querySelector(wi(r)),c||(s=A({src:s,async:!0},t),(t=fa.get(r))&&jm(s,t),c=a.createElement("script"),Ys(c),gt(c,"link",s),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(r,c))}}function ff(s,t){cl.M(s,t);var a=gn;if(a&&s){var l=Va(a).hoistableScripts,r=fn(s),c=l.get(r);c||(c=a.querySelector(wi(r)),c||(s=A({src:s,async:!0,type:"module"},t),(t=fa.get(r))&&jm(s,t),c=a.createElement("script"),Ys(c),gt(c,"link",s),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(r,c))}}function dh(s,t,a,l){var r=(r=V.current)?Zc(r):null;if(!r)throw Error(m(446));switch(s){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=pn(a.href),a=Va(r).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){s=pn(a.href);var c=Va(r).hoistableStyles,u=c.get(s);if(u||(r=r.ownerDocument||r,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(s,u),(c=r.querySelector(Ni(s)))&&!c._p&&(u.instance=c,u.state.loading=5),fa.has(s)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},fa.set(s,a),c||bf(r,s,a,u.state))),t&&l===null)throw Error(m(528,""));return u}if(t&&l!==null)throw Error(m(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fn(a),a=Va(r).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(m(444,s))}}function pn(s){return'href="'+At(s)+'"'}function Ni(s){return'link[rel="stylesheet"]['+s+"]"}function mh(s){return A({},s,{"data-precedence":s.precedence,precedence:null})}function bf(s,t,a,l){s.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=s.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),gt(t,"link",a),Ys(t),s.head.appendChild(t))}function fn(s){return'[src="'+At(s)+'"]'}function wi(s){return"script[async]"+s}function xh(s,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=s.querySelector('style[data-href~="'+At(a.href)+'"]');if(l)return t.instance=l,Ys(l),l;var r=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(s.ownerDocument||s).createElement("style"),Ys(l),gt(l,"style",r),Jc(l,a.precedence,s),t.instance=l;case"stylesheet":r=pn(a.href);var c=s.querySelector(Ni(r));if(c)return t.state.loading|=4,t.instance=c,Ys(c),c;l=mh(a),(r=fa.get(r))&&bm(l,r),c=(s.ownerDocument||s).createElement("link"),Ys(c);var u=c;return u._p=new Promise(function(N,Z){u.onload=N,u.onerror=Z}),gt(c,"link",l),t.state.loading|=4,Jc(c,a.precedence,s),t.instance=c;case"script":return c=fn(a.src),(r=s.querySelector(wi(c)))?(t.instance=r,Ys(r),r):(l=a,(r=fa.get(c))&&(l=A({},a),jm(l,r)),s=s.ownerDocument||s,r=s.createElement("script"),Ys(r),gt(r,"link",l),s.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(m(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Jc(l,a.precedence,s));return t.instance}function Jc(s,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=l.length?l[l.length-1]:null,c=r,u=0;u<l.length;u++){var N=l[u];if(N.dataset.precedence===t)c=N;else if(c!==r)break}c?c.parentNode.insertBefore(s,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(s,t.firstChild))}function bm(s,t){s.crossOrigin==null&&(s.crossOrigin=t.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=t.referrerPolicy),s.title==null&&(s.title=t.title)}function jm(s,t){s.crossOrigin==null&&(s.crossOrigin=t.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=t.referrerPolicy),s.integrity==null&&(s.integrity=t.integrity)}var Pc=null;function uh(s,t,a){if(Pc===null){var l=new Map,r=Pc=new Map;r.set(a,l)}else r=Pc,l=r.get(a),l||(l=new Map,r.set(a,l));if(l.has(s))return l;for(l.set(s,null),a=a.getElementsByTagName(s),r=0;r<a.length;r++){var c=a[r];if(!(c[hl]||c[js]||s==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var u=c.getAttribute(t)||"";u=s+u;var N=l.get(u);N?N.push(c):l.set(u,[c])}}return l}function hh(s,t,a){s=s.ownerDocument||s,s.head.insertBefore(a,t==="title"?s.querySelector("head > title"):null)}function jf(s,t,a){if(a===1||t.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return s=t.disabled,typeof t.precedence=="string"&&s==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gh(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function yf(s,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var r=pn(l.href),c=t.querySelector(Ni(r));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=Wc.bind(s),t.then(s,s)),a.state.loading|=4,a.instance=c,Ys(c);return}c=t.ownerDocument||t,l=mh(l),(r=fa.get(r))&&bm(l,r),c=c.createElement("link"),Ys(c);var u=c;u._p=new Promise(function(N,Z){u.onload=N,u.onerror=Z}),gt(c,"link",l),a.instance=c}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(s.count++,a=Wc.bind(s),t.addEventListener("load",a),t.addEventListener("error",a))}}var ym=0;function vf(s,t){return s.stylesheets&&s.count===0&&eo(s,s.stylesheets),0<s.count||0<s.imgCount?function(a){var l=setTimeout(function(){if(s.stylesheets&&eo(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4+t);0<s.imgBytes&&ym===0&&(ym=62500*ef());var r=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&eo(s,s.stylesheets),s.unsuspend)){var c=s.unsuspend;s.unsuspend=null,c()}},(s.imgBytes>ym?50:800)+t);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l),clearTimeout(r)}}:null}function Wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eo(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ic=null;function eo(s,t){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ic=new Map,t.forEach(Nf,s),Ic=null,Wc.call(s))}function Nf(s,t){if(!(t.state.loading&4)){var a=Ic.get(s);if(a)var l=a.get(null);else{a=new Map,Ic.set(s,a);for(var r=s.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var u=r[c];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(a.set(u.dataset.precedence,u),l=u)}l&&a.set(null,l)}r=t.instance,u=r.getAttribute("data-precedence"),c=a.get(u)||l,c===l&&a.set(null,r),a.set(u,r),this.count++,l=Wc.bind(this),r.addEventListener("load",l),r.addEventListener("error",l),c?c.parentNode.insertBefore(r,c.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(r,s.firstChild)),t.state.loading|=4}}var _i={$$typeof:w,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function wf(s,t,a,l,r,c,u,N,Z){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=l,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function ph(s,t,a,l,r,c,u,N,Z,ge,Ne,Se){return s=new wf(s,t,a,u,Z,ge,Ne,Se,N),t=1,c===!0&&(t|=24),c=Zt(3,null,null,t),s.current=c,c.stateNode=s,t=Io(),t.refCount++,s.pooledCache=t,t.refCount++,c.memoizedState={element:l,isDehydrated:a,cache:t},ad(c),s}function fh(s){return s?(s=Xr,s):Xr}function bh(s,t,a,l,r,c){r=fh(r),l.context===null?l.context=r:l.pendingContext=r,l=kl(t),l.payload={element:a},c=c===void 0?null:c,c!==null&&(l.callback=c),a=Sl(s,l,t),a!==null&&(Gt(a,s,t),ti(a,s,t))}function jh(s,t){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<t?a:t}}function vm(s,t){jh(s,t),(s=s.alternate)&&jh(s,t)}function yh(s){if(s.tag===13||s.tag===31){var t=nr(s,67108864);t!==null&&Gt(t,s,67108864),vm(s,67108864)}}function vh(s){if(s.tag===13||s.tag===31){var t=ea();t=Zs(t);var a=nr(s,t);a!==null&&Gt(a,s,t),vm(s,t)}}var so=!0;function _f(s,t,a,l){var r=L.T;L.T=null;var c=ue.p;try{ue.p=2,Nm(s,t,a,l)}finally{ue.p=c,L.T=r}}function kf(s,t,a,l){var r=L.T;L.T=null;var c=ue.p;try{ue.p=8,Nm(s,t,a,l)}finally{ue.p=c,L.T=r}}function Nm(s,t,a,l){if(so){var r=wm(l);if(r===null)cm(s,t,l,to,a),wh(s,l);else if(Cf(r,s,t,a,l))l.stopPropagation();else if(wh(s,l),t&4&&-1<Sf.indexOf(s)){for(;r!==null;){var c=Ga(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var u=za(c.pendingLanes);if(u!==0){var N=c;for(N.pendingLanes|=2,N.entangledLanes|=2;u;){var Z=1<<31-_t(u);N.entanglements[1]|=Z,u&=~Z}Da(c),(hs&6)===0&&(Oc=Ce()+500,bi(0))}}break;case 31:case 13:N=nr(c,2),N!==null&&Gt(N,c,2),Bc(),vm(c,2)}if(c=wm(l),c===null&&cm(s,t,l,to,a),c===r)break;r=c}r!==null&&l.stopPropagation()}else cm(s,t,l,null,a)}}function wm(s){return s=Dr(s),_m(s)}var to=null;function _m(s){if(to=null,s=Ba(s),s!==null){var t=n(s);if(t===null)s=null;else{var a=t.tag;if(a===13){if(s=f(t),s!==null)return s;s=null}else if(a===31){if(s=j(t),s!==null)return s;s=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;s=null}else t!==s&&(s=null)}}return to=s,null}function Nh(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case I:return 2;case ke:return 8;case De:case Xe:return 32;case gs:return 268435456;default:return 32}default:return 32}}var km=!1,Rl=null,Ol=null,$l=null,ki=new Map,Si=new Map,Bl=[],Sf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wh(s,t){switch(s){case"focusin":case"focusout":Rl=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":$l=null;break;case"pointerover":case"pointerout":ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(t.pointerId)}}function Ci(s,t,a,l,r,c){return s===null||s.nativeEvent!==c?(s={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:c,targetContainers:[r]},t!==null&&(t=Ga(t),t!==null&&yh(t)),s):(s.eventSystemFlags|=l,t=s.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),s)}function Cf(s,t,a,l,r){switch(t){case"focusin":return Rl=Ci(Rl,s,t,a,l,r),!0;case"dragenter":return Ol=Ci(Ol,s,t,a,l,r),!0;case"mouseover":return $l=Ci($l,s,t,a,l,r),!0;case"pointerover":var c=r.pointerId;return ki.set(c,Ci(ki.get(c)||null,s,t,a,l,r)),!0;case"gotpointercapture":return c=r.pointerId,Si.set(c,Ci(Si.get(c)||null,s,t,a,l,r)),!0}return!1}function _h(s){var t=Ba(s.target);if(t!==null){var a=n(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){s.blockedOn=t,Ms(s.priority,function(){vh(a)});return}}else if(t===31){if(t=j(a),t!==null){s.blockedOn=t,Ms(s.priority,function(){vh(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ao(s){if(s.blockedOn!==null)return!1;for(var t=s.targetContainers;0<t.length;){var a=wm(s.nativeEvent);if(a===null){a=s.nativeEvent;var l=new a.constructor(a.type,a);Mr=l,a.target.dispatchEvent(l),Mr=null}else return t=Ga(a),t!==null&&yh(t),s.blockedOn=a,!1;t.shift()}return!0}function kh(s,t,a){ao(s)&&a.delete(t)}function zf(){km=!1,Rl!==null&&ao(Rl)&&(Rl=null),Ol!==null&&ao(Ol)&&(Ol=null),$l!==null&&ao($l)&&($l=null),ki.forEach(kh),Si.forEach(kh)}function lo(s,t){s.blockedOn===t&&(s.blockedOn=null,km||(km=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zf)))}var ro=null;function Sh(s){ro!==s&&(ro=s,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ro===s&&(ro=null);for(var t=0;t<s.length;t+=3){var a=s[t],l=s[t+1],r=s[t+2];if(typeof l!="function"){if(_m(l||a)===null)continue;break}var c=Ga(a);c!==null&&(s.splice(t,3),t-=3,wd(c,{pending:!0,data:r,method:a.method,action:l},l,r))}}))}function bn(s){function t(Z){return lo(Z,s)}Rl!==null&&lo(Rl,s),Ol!==null&&lo(Ol,s),$l!==null&&lo($l,s),ki.forEach(t),Si.forEach(t);for(var a=0;a<Bl.length;a++){var l=Bl[a];l.blockedOn===s&&(l.blockedOn=null)}for(;0<Bl.length&&(a=Bl[0],a.blockedOn===null);)_h(a),a.blockedOn===null&&Bl.shift();if(a=(s.ownerDocument||s).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var r=a[l],c=a[l+1],u=r[Rs]||null;if(typeof c=="function")u||Sh(a);else if(u){var N=null;if(c&&c.hasAttribute("formAction")){if(r=c,u=c[Rs]||null)N=u.formAction;else if(_m(r)!==null)continue}else N=u.action;typeof N=="function"?a[l+1]=N:(a.splice(l,3),l-=3),Sh(a)}}}function Ch(){function s(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(u){return r=u})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,r=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Sm(s){this._internalRoot=s}no.prototype.render=Sm.prototype.render=function(s){var t=this._internalRoot;if(t===null)throw Error(m(409));var a=t.current,l=ea();bh(a,l,s,t,null,null)},no.prototype.unmount=Sm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var t=s.containerInfo;bh(s.current,2,null,s,null,null),Bc(),t[na]=null}};function no(s){this._internalRoot=s}no.prototype.unstable_scheduleHydration=function(s){if(s){var t=rs();s={blockedOn:null,target:s,priority:t};for(var a=0;a<Bl.length&&t!==0&&t<Bl[a].priority;a++);Bl.splice(a,0,s),a===0&&_h(s)}};var zh=d.version;if(zh!=="19.2.3")throw Error(m(527,zh,"19.2.3"));ue.findDOMNode=function(s){var t=s._reactInternals;if(t===void 0)throw typeof s.render=="function"?Error(m(188)):(s=Object.keys(s).join(","),Error(m(268,s)));return s=z(t),s=s!==null?_(s):null,s=s===null?null:s.stateNode,s};var Ef={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{dt=io.inject(Ef),ks=io}catch{}}return zi.createRoot=function(s,t){if(!x(s))throw Error(m(299));var a=!1,l="",r=Lu,c=qu,u=Ru;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=ph(s,1,!1,null,null,a,l,null,r,c,u,Ch),s[na]=t.current,im(s),new Sm(t)},zi.hydrateRoot=function(s,t,a){if(!x(s))throw Error(m(299));var l=!1,r="",c=Lu,u=qu,N=Ru,Z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(u=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.formState!==void 0&&(Z=a.formState)),t=ph(s,1,!0,t,a??null,l,r,Z,c,u,N,Ch),t.context=fh(null),a=t.current,l=ea(),l=Zs(l),r=kl(l),r.callback=null,Sl(a,r,l),a=l,t.current.lanes=a,Me(t,a),Da(t),s[na]=t.current,im(s),new no(t)},zi.version="19.2.3",zi}var Rh;function Db(){if(Rh)return Cm.exports;Rh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(d){console.error(d)}}return i(),Cm.exports=Mb(),Cm.exports}var Lb=Db();window.EM={init:function(i){return console.log("EmailJS dummy init called with key:",i),Promise.resolve()},send:function(i,d,o){return console.log("EmailJS dummy send called:",{serviceId:i,templateId:d,templateParams:o}),Promise.resolve({status:200,text:"OK"})},sendForm:function(i,d,o){return console.log("EmailJS dummy sendForm called:",{serviceId:i,templateId:d,form:o}),Promise.resolve({status:200,text:"OK"})}};window.emailjs=window.EM;const qb="https://vluqhvuhykncicgvkosd.supabase.co",Rb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZsdXFodnVoeWtuY2ljZ3Zrb3NkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyNjg2MzAsImV4cCI6MjA3Njg0NDYzMH0.ikEqdx6Le54YJUP-NROKg6EmeHJ4TbKkQ76pw29OQG8",Ob=()=>typeof window<"u"?window.location.origin:"http://localhost:5173",se=ub(qb,Rb,{auth:{redirectTo:`${Ob()}/auth/callback`,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"x-my-custom-header":"cnec-platform"}},realtime:{params:{eventsPerSecond:10}},db:{schema:"public"},fetch:(i,d={})=>fetch(i,{...d,signal:AbortSignal.timeout(3e4)})}),as=async(i,d=3)=>{for(let o=0;o<d;o++)try{return await i()}catch(m){if(console.warn(`  ${o+1}/${d} :`,m.message),m.message.includes("permission denied")||m.message.includes("RLS"))return console.warn("     "),[];if(o===d-1)throw m;await new Promise(x=>setTimeout(x,1e3*(o+1)))}},Be={campaigns:{async getAll(){return as(async()=>{console.log("Supabase campaigns.getAll() ");const{data:i,error:d}=await se.from("campaigns").select("*").order("created_at",{ascending:!1});if(d)throw console.error("Campaigns getAll error:",d),d;return console.log("Campaigns   :",(i==null?void 0:i.length)||0,""),i||[]})},async getActive(){return as(async()=>{const{data:i,error:d}=await se.from("campaigns").select("*").eq("status","active").order("created_at",{ascending:!1});if(d)throw d;return i})},async getById(i){return as(async()=>{const{data:d,error:o}=await se.from("campaigns").select("*").eq("id",i).single();if(o)throw o;return d})},async create(i){return as(async()=>{const{data:d,error:o}=await se.from("campaigns").insert([i]).select().single();if(o)throw o;return d})},async update(i,d){return as(async()=>{const{data:o,error:m}=await se.from("campaigns").update(d).eq("id",i).select().single();if(m)throw m;return o})},async delete(i){return as(async()=>{const{error:d}=await se.from("campaigns").delete().eq("id",i);if(d)throw d})}},applications:{async getAll(){return as(async()=>{console.log("Applications getAll()  - applications   ");try{const{data:i,error:d}=await se.from("applications").select("*").order("created_at",{ascending:!1});if(d){if(console.error("Applications   :",d),d.message.includes("permission denied"))return[];throw d}if(!i||i.length===0)return console.log("Applications   "),[];console.log("Applications   :",i.length,"");const{data:o}=await se.from("user_profiles").select("*"),{data:m}=await se.from("campaigns").select("id, title");return i.map(n=>{const f=o==null?void 0:o.find(g=>g.user_id===n.user_id),j=m==null?void 0:m.find(g=>g.id===n.campaign_id);return{...n,user_name:(f==null?void 0:f.name)||n.applicant_name||"-",user_email:(f==null?void 0:f.email)||"-",user_age:(f==null?void 0:f.age)||n.age||"-",user_skin_type:(f==null?void 0:f.skin_type)||n.skin_type||"-",user_instagram_url:(f==null?void 0:f.instagram_url)||n.instagram_url||"",user_tiktok_url:(f==null?void 0:f.tiktok_url)||n.tiktok_url||"",user_youtube_url:(f==null?void 0:f.youtube_url)||n.youtube_url||"",user_bio:(f==null?void 0:f.bio)||n.bio||"",campaign_title:(j==null?void 0:j.title)||"  "}})}catch(i){return console.error("Applications getAll  :",i),[]}})},async getByUser(i){return as(async()=>{console.log("getByUser  -  ID:",i);try{const{data:d,error:o}=await se.from("applications").select("*").eq("user_id",i).order("created_at",{ascending:!1});if(!o&&d&&Array.isArray(d)&&d.length>0){console.log("Applications   :",d.length,"");const m=Array.from(new Set(d.map(x=>x.campaign_id).filter(Boolean)));if(m.length>0){const{data:x,error:n}=await se.from("campaigns").select("id, title").in("id",m);if(!n&&x)return d.map(j=>{const g=x.find(z=>z.id===j.campaign_id);return{...j,campaign_title:g?g.title:"Unknown Campaign"}})}return d}console.log("Applications    , Campaign Applications  ");try{const{data:m,error:x}=await se.from("campaign_applications").select("*").eq("user_id",i).order("created_at",{ascending:!1});if(!x&&m&&Array.isArray(m)&&m.length>0){console.log("Campaign Applications   :",m.length,"");const n=Array.from(new Set(m.map(z=>z.campaign_id).filter(Boolean))),{data:f,error:j}=await se.from("campaigns").select("id, title").in("id",n);return j?(console.error("Error fetching campaigns:",j),m):m.map(z=>{const _=f.find(A=>A.id===z.campaign_id);return{...z,campaign_title:_?_.title:"Unknown Campaign"}})}}catch(m){console.warn("Campaign Applications   :",m)}return console.log("     "),[]}catch(d){return console.error("getByUser  :",d),[]}})},async getByCampaign(i){return as(async()=>{console.log("getByCampaign  -  ID:",i);try{const{data:d,error:o}=await se.from("applications").select("*").eq("campaign_id",i).order("created_at",{ascending:!1});if(!o&&d&&d.length>0){console.log("Applications  :",d.length,"");const n=[...new Set(d.map(g=>g.user_id).filter(Boolean))];let f=[];if(n.length>0){const{data:g,error:z}=await se.from("user_profiles").select("*").in("id",n);!z&&g&&(f=g)}return d.map(g=>{const z=f.find(_=>_.id===g.user_id);return{...g,applicant_name:(z==null?void 0:z.name)||g.applicant_name||"-",age:(z==null?void 0:z.age)||g.age||"-",skin_type:(z==null?void 0:z.skin_type)||g.skin_type||"-",instagram_url:(z==null?void 0:z.instagram_url)||g.instagram_url||"",tiktok_url:(z==null?void 0:z.tiktok_url)||g.tiktok_url||"",youtube_url:(z==null?void 0:z.youtube_url)||g.youtube_url||"",blog_url:(z==null?void 0:z.blog_url)||g.blog_url||"",user_profiles:z}})}console.log("Applications   , Campaign Applications  ");const{data:m,error:x}=await se.from("campaign_applications").select("*").eq("campaign_id",i).order("created_at",{ascending:!1});if(!x&&m&&m.length>0)return console.log("Campaign Applications  :",m.length,""),m;if(o&&x){if(console.error("    :",{appsError:o,campaignAppsError:x}),o.message.includes("permission denied")||x.message.includes("permission denied"))return[];throw o}return console.log("    "),[]}catch(d){return console.error("getByCampaign  :",d),[]}})},async getByUserAndCampaign(i,d){return as(async()=>{console.log("getByUserAndCampaign  - applications  :",{userId:i,campaignId:d});const{data:o,error:m}=await se.from("applications").select("*").eq("user_id",i).eq("campaign_id",d).order("created_at",{ascending:!1}).limit(1);if(m)return console.error("getByUserAndCampaign :",m),null;const x=o&&o.length>0?o[0]:null;return console.log("   :",x),x})},async create(i){return as(async()=>{console.log("Application   - applications  :",i);const{data:d,error:o}=await se.from("applications").insert([i]).select().single();if(o)throw console.error("Application  :",o),o;return console.log("Application  :",d),d})},async updateStatus(i,d){return as(async()=>{console.log("  :",i,d);const o={status:d,updated_at:new Date().toISOString()};d==="virtual_selected"?o.virtual_selected_at=new Date().toISOString():d==="approved"?o.approved_at=new Date().toISOString():d==="rejected"?o.rejected_at=new Date().toISOString():d==="pending"&&(o.virtual_selected_at=null,o.approved_at=null,o.rejected_at=null);let{data:m,error:x}=await se.from("applications").update(o).eq("id",i).select();if(x||!m||m.length===0){console.log("applications   , campaign_applications  ");const n=await se.from("campaign_applications").update(o).eq("id",i).select();m=n.data,x=n.error}if(x)throw console.error("  :",x),x;return console.log("  :",m),m&&m.length>0?m[0]:null})},async update(i,d){return as(async()=>{console.log("  :",i,d);let{data:o,error:m}=await se.from("applications").update({...d,updated_at:new Date().toISOString()}).eq("id",i).select();if(m||!o||o.length===0){console.log("applications   , campaign_applications  ");const x=await se.from("campaign_applications").update({...d,updated_at:new Date().toISOString()}).eq("id",i).select();o=x.data,m=x.error}if(m)throw console.error("  :",m),m;return console.log("  :",o),o&&o.length>0?o[0]:null})},async requestPoints(i){return as(async()=>{const{data:d,error:o}=await se.from("campaign_applications").update({points_requested:!0,updated_at:new Date().toISOString()}).eq("id",i).select();if(o)throw o;return d&&d.length>0?d[0]:null})},async getByCampaign(i){return as(async()=>{console.log("  :",i);const{data:d,error:o}=await se.from("campaign_applications").select("*").eq("campaign_id",i).order("created_at",{ascending:!1});if(o)throw console.error("   :",o),o;console.log("   :",(d==null?void 0:d.length)||0,"");const{data:m}=await se.from("user_profiles").select("*");return(d||[]).map(n=>{const f=m==null?void 0:m.find(j=>j.user_id===n.user_id);return{...n,applicant_name:(f==null?void 0:f.name)||n.applicant_name||"-",age:(f==null?void 0:f.age)||n.age||"-",skin_type:(f==null?void 0:f.skin_type)||n.skin_type||"-",instagram_url:(f==null?void 0:f.instagram_url)||n.instagram_url||"",tiktok_url:(f==null?void 0:f.tiktok_url)||n.tiktok_url||"",youtube_url:(f==null?void 0:f.youtube_url)||n.youtube_url||"",blog_url:(f==null?void 0:f.blog_url)||n.blog_url||""}})})}},userProfiles:{async get(i){return as(async()=>{const{data:d,error:o}=await se.from("user_profiles").select("*").eq("id",i).single();if(o&&o.code!=="PGRST116")throw o;return d})},async getById(i){return as(async()=>{const{data:d,error:o}=await se.from("user_profiles").select("*").eq("id",i).single();if(o&&o.code!=="PGRST116")throw o;return d})},async getAll(){return as(async()=>{console.log("UserProfiles getAll() ");const{data:i,error:d}=await se.from("user_profiles").select("*").order("created_at",{ascending:!1});if(d){if(console.error("UserProfiles getAll error:",d),d.message.includes("permission denied")||d.message.includes("RLS"))return console.warn("     "),[];throw d}return console.log("UserProfiles   :",(i==null?void 0:i.length)||0,""),i||[]})},async upsert(i){return as(async()=>{if(console.log("Upsert :",i),!i.id)throw new Error("  id( ID) ");const d={id:i.id,role:i.role||"creator",name:i.name||null,email:i.email||null,phone:i.phone||null,age:i.age!=null?i.age:null,skin_type:i.skin_type||null,category:i.category||null,channel_name:i.channel_name||null,followers:i.followers!=null?i.followers:null,avg_views:i.avg_views!=null?i.avg_views:null,target_audience:i.target_audience||null,address:i.address||null,detail_address:i.detail_address||null,postcode:i.postcode||null,instagram_url:i.instagram_url||null,youtube_url:i.youtube_url||null,tiktok_url:i.tiktok_url||null,blog_url:i.blog_url||null,instagram_followers:i.instagram_followers!=null?i.instagram_followers:null,youtube_subscribers:i.youtube_subscribers!=null?i.youtube_subscribers:null,tiktok_followers:i.tiktok_followers!=null?i.tiktok_followers:null,bio:i.bio||null,skin_tone:i.skin_tone||null,hair_type:i.hair_type||null,primary_interest:i.primary_interest||null,editing_level:i.editing_level||null,shooting_level:i.shooting_level||null,follower_range:i.follower_range||null,upload_frequency:i.upload_frequency||null,gender:i.gender||null,job_visibility:i.job_visibility||null,job:i.job||null,child_appearance:i.child_appearance||null,family_appearance:i.family_appearance||null,offline_visit:i.offline_visit||null,offline_region:i.offline_region||null,linktree_available:i.linktree_available||null,nail_usage:i.nail_usage||null,circle_lens_usage:i.circle_lens_usage||null,glasses_usage:i.glasses_usage||null,mirroring_available:i.mirroring_available||null,smartstore_purchase:i.smartstore_purchase||null,video_length_style:i.video_length_style||null,shortform_tempo:i.shortform_tempo||null,skin_concerns:i.skin_concerns||[],hair_concerns:i.hair_concerns||[],diet_concerns:i.diet_concerns||[],content_formats:i.content_formats||[],collaboration_preferences:i.collaboration_preferences||[],video_styles:i.video_styles||[],children:i.children||[],family_members:i.family_members||[],offline_locations:i.offline_locations||[],languages:i.languages||[],linktree_channels:i.linktree_channels||[],mirroring_channels:i.mirroring_channels||[],ai_profile_text:i.ai_profile_text||null,updated_at:new Date().toISOString()},{data:o}=await se.from("user_profiles").select("id").eq("id",d.id).single();if(o){console.log("  ");const{data:m,error:x}=await se.from("user_profiles").update(d).eq("id",d.id).select().single();if(x)throw x;return m}else{console.log("  ");const{data:m,error:x}=await se.from("user_profiles").insert([{...d,created_at:new Date().toISOString()}]).select().single();if(x)throw x;return m}})},async update(i,d){return as(async()=>{console.log("  :",{userId:i,updateData:d});let{data:o,error:m}=await se.from("user_profiles").update({...d,updated_at:new Date().toISOString()}).eq("id",i).select();if(m||!o||o.length===0){console.log("user_id  , id :",m);const x=await se.from("user_profiles").update({...d,updated_at:new Date().toISOString()}).eq("id",i).select();o=x.data,m=x.error}if(m)throw console.error("   :",m),m;return console.log("  :",o),o&&o.length>0?o[0]:null})}},users:{async getAll(){return console.log("Supabase users.getAll()  (user_profiles )"),Be.userProfiles.getAll()}},emailTemplates:{async getAll(){return as(async()=>{const{data:i,error:d}=await se.from("email_templates").select("*").order("template_type",{ascending:!0});if(d)throw d;return i||[]})},async getById(i){return as(async()=>{const{data:d,error:o}=await se.from("email_templates").select("*").eq("id",i).single();if(o)throw o;return d})},async create(i){return as(async()=>{const{data:d,error:o}=await se.from("email_templates").insert([i]).select().single();if(o)throw o;return d})},async upsert(i){return as(async()=>{const{data:d,error:o}=await se.from("email_templates").upsert([i]).select().single();if(o)throw o;return d})},async update(i,d){return as(async()=>{const{data:o,error:m}=await se.from("email_templates").update(d).eq("id",i).select().single();if(m)throw m;return o})},async delete(i){return as(async()=>{const{error:d}=await se.from("email_templates").delete().eq("id",i);if(d)throw d})},async getByCategory(i){return as(async()=>{const{data:d,error:o}=await se.from("email_templates").select("*").eq("template_type",i);if(o)throw o;return d||[]})}},withdrawals:{async getAll(){return as(async()=>{const{data:i,error:d}=await se.from("withdrawal_requests").select(`
            *,
            user_profiles!withdrawal_requests_user_id_fkey(name, email)
          `).order("created_at",{ascending:!1});if(d)throw d;return i||[]})},async getByUser(i){return as(async()=>{const{data:d,error:o}=await se.from("withdrawal_requests").select("*").eq("user_id",i).order("created_at",{ascending:!1});if(o)throw o;return d||[]})},async create(i){return as(async()=>{var k;console.log("  :",i);const{data:d,error:o}=await se.from("user_profiles").select("points").eq("id",i.user_id).single();if(o)throw console.error("  :",o),new Error("  ");const m=(d==null?void 0:d.points)||0,x=parseInt(i.amount);if(isNaN(x)||x<=0)throw new Error("   ");if(m<x)throw new Error(`  . : ${m.toLocaleString()}, : ${x.toLocaleString()}`);const n=m-x,{data:f,error:j}=await se.from("user_profiles").update({points:n,updated_at:new Date().toISOString()}).eq("id",i.user_id).gte("points",x).select();if(j)throw console.error("  :",j),new Error("  ");if(!f||f.length===0)throw new Error("  .  .");const g={user_id:i.user_id,amount:x,withdrawal_method:"paypal",paypal_email:i.paypal_email,paypal_name:i.paypal_name,reason:i.reason||"",status:"pending"};console.log(" :",g);const{data:z,error:_}=await se.from("withdrawal_requests").insert([g]).select();if(_)throw console.error("   :",_),await se.from("user_profiles").update({points:m}).eq("id",i.user_id),_;const{error:A}=await se.from("point_transactions").insert([{user_id:i.user_id,amount:-x,transaction_type:"withdraw",description:`[] ${x.toLocaleString()} | PayPal: ${i.paypal_email}`,related_withdrawal_id:((k=z==null?void 0:z[0])==null?void 0:k.id)||null}]);return A&&console.error("point_transactions  :",A),console.log("  :",z),z&&z.length>0?z[0]:null})},async updateStatus(i,d,o=null,m=null){return as(async()=>{const x={status:d,updated_at:new Date().toISOString()};(d==="completed"||d==="rejected")&&(x.processed_at=new Date().toISOString(),o&&(x.processed_by=o)),m&&(x.notes=m);const{data:n,error:f}=await se.from("withdrawal_requests").update(x).eq("id",i).select();if(f)throw f;return n&&n.length>0?n[0]:null})}},userPoints:{async getUserTotalPoints(i){return as(async()=>{console.log("   -  ID:",i);const{data:d,error:o}=await se.from("point_transactions").select("amount").eq("user_id",i);if(o)throw console.error("  :",o),o;console.log("  :",d);const m=(d||[]).reduce((x,n)=>x+(n.amount||0),0);return console.log(" :",m),m})},async getUserPoints(i){return as(async()=>{console.log("   -  ID:",i);const{data:d,error:o}=await se.from("point_transactions").select("*").eq("user_id",i).order("created_at",{ascending:!1});if(o)throw console.error("   :",o),o;return console.log(" :",d),d||[]})},async deductPoints(i,d,o=""){return as(async()=>{console.log(" :",{userId:i,amount:d,reason:o});const{data:m,error:x}=await se.from("point_transactions").insert([{user_id:i,amount:-d,type:"withdraw",description:o,created_at:new Date().toISOString()}]).select();if(x)throw console.error("  :",x),x;return console.log("  :",m),m&&m.length>0?m[0]:null})},async requestWithdrawal({user_id:i,amount:d,bank_name:o,bank_account_number:m,bank_account_holder:x,resident_number_encrypted:n}){return as(async()=>{var O;console.log(" :",{user_id:i,amount:d,bank_name:o});const f=parseInt(d);if(isNaN(f)||f<=0)throw new Error("   ");if(!n)throw new Error(" ");const{data:j,error:g}=await se.from("user_profiles").select("points").eq("id",i).single();if(g)throw g;const z=(j==null?void 0:j.points)||0;if(z<f)throw new Error(`  . : ${z.toLocaleString()}, : ${f.toLocaleString()}`);const _=z-f,{data:A,error:k}=await se.from("user_profiles").update({points:_,updated_at:new Date().toISOString()}).eq("id",i).gte("points",f).select();if(k)throw k;if(!A||A.length===0)throw new Error("  .  .");const{data:C,error:b}=await se.from("withdrawals").insert([{user_id:i,amount:f,bank_name:o,bank_account_number:m,bank_account_holder:x,resident_number_encrypted:n,status:"pending",platform_region:"KR",country_code:"KR"}]).select();if(b)throw await se.from("user_profiles").update({points:z}).eq("id",i),b;const J=`[] ${f.toLocaleString()} | ${o} ${m} (${x})`,{data:K,error:T}=await se.from("point_transactions").insert([{user_id:i,amount:-f,transaction_type:"withdraw",description:J,related_withdrawal_id:((O=C==null?void 0:C[0])==null?void 0:O.id)||null}]).select();return T&&console.error("point_transactions  :",T),console.log("  :",{withdrawal:C,transaction:K}),{success:!0,withdrawal:C&&C.length>0?C[0]:null,transaction:K&&K.length>0?K[0]:null,newPoints:_}})}}},co=se.storage,ug=h.createContext(),$b=({children:i})=>{const[d,o]=h.useState(null),[m,x]=h.useState(null),[n,f]=h.useState(!0);h.useEffect(()=>{(async()=>{var w;try{const{data:{session:H},error:y}=await se.auth.getSession();y?(console.error("Error getting session:",y),o(null)):(console.log("Session loaded:",(w=H==null?void 0:H.user)==null?void 0:w.email),o((H==null?void 0:H.user)??null),H!=null&&H.user&&j(H.user.id))}catch(H){console.error("Error in getSession catch:",H),o(null)}finally{f(!1)}})();const{data:O}=se.auth.onAuthStateChange(async(w,H)=>{var y;console.log("Auth state changed:",w,(y=H==null?void 0:H.user)==null?void 0:y.email),w==="SIGNED_IN"&&(H!=null&&H.user)?(o(H.user),setTimeout(async()=>{var G;try{await j(H.user.id);const{data:D,error:$}=await se.from("user_profiles").select("*").eq("id",H.user.id).single();if($&&$.code==="PGRST116"){const{error:ie}=await se.from("user_profiles").insert({id:H.user.id,email:H.user.email,name:((G=H.user.user_metadata)==null?void 0:G.full_name)||H.user.email});ie?console.error("Error creating profile:",ie):(console.log("Profile created successfully"),j(H.user.id))}}catch(D){console.error("Error handling user profile:",D)}},0)):w==="SIGNED_OUT"?(o(null),x(null),z()):(w==="TOKEN_REFRESHED"&&console.log("Token refreshed successfully"),o((H==null?void 0:H.user)??null))});return()=>{O==null||O.subscription.unsubscribe()}},[]);const j=async T=>{try{const O=await Be.userProfiles.get(T);return x(O),O}catch(O){return console.error("Error loading user profile:",O),null}},g=async T=>{try{if(!d)throw new Error("User not authenticated");const O=await Be.userProfiles.update(d.id,T);return x(O),O}catch(O){throw console.error("Error updating profile:",O),O}},z=()=>{try{document.cookie.split(";").forEach(T=>{const O=T.indexOf("="),w=O>-1?T.substr(0,O).trim():T.trim();if(w){document.cookie=`${w}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`,document.cookie=`${w}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=${window.location.hostname}`;const H=window.location.hostname.split(".").slice(-2).join(".");document.cookie=`${w}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=.${H}`}}),localStorage.clear(),sessionStorage.clear(),console.log("All cookies and storage cleared")}catch(T){console.error("Error clearing cookies:",T)}},K={user:d,userProfile:m,loading:n,signInWithEmail:async(T,O)=>{try{const{data:w,error:H}=await se.auth.signInWithPassword({email:T,password:O});if(H)throw console.error("Email sign in error:",H),H;return w}catch(w){throw console.error("Sign in error:",w),w}},signUpWithEmail:async(T,O,w)=>{try{const{data:H,error:y}=await se.auth.signUp({email:T,password:O,options:{data:{name:w},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(y)throw console.error("Email sign up error:",y),y;return H}catch(H){throw console.error("Sign up error:",H),H}},signInWithGoogle:async()=>{try{const{data:T,error:O}=await se.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(O)throw console.error("Google sign in error:",O),O;return T}catch(T){throw console.error("Sign in error:",T),T}},signOut:async()=>{try{z();const{error:T}=await se.auth.signOut();if(T)throw console.error("Sign out error:",T),T;o(null),x(null),setTimeout(()=>{window.location.href="/"},100)}catch(T){throw console.error("Sign out error:",T),z(),o(null),x(null),T}},updateProfile:g,loadUserProfile:j,resetPassword:async T=>{try{const{data:O,error:w}=await se.auth.resetPasswordForEmail(T,{redirectTo:`${window.location.origin}/reset-password`});if(w)throw console.error("Password reset error:",w),w;return O}catch(O){throw console.error("Reset password error:",O),O}},updatePassword:async T=>{try{const{data:O,error:w}=await se.auth.updateUser({password:T});if(w)throw console.error("Update password error:",w),w;return O}catch(O){throw console.error("Update password error:",O),O}}};return e.jsx(ug.Provider,{value:K,children:i})},xs=()=>{const i=h.useContext(ug);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},hg=h.createContext({}),xl=()=>{const i=h.useContext(hg);return i||{language:"ko",changeLanguage:()=>{},t:d=>d,isKorean:!0,isJapanese:!1}},Bb={ko:{loading:" ...",error:" ",success:"",cancel:"",confirm:"",save:"",edit:"",delete:"",create:"",update:"",home:"",campaigns:"",mypage:"",login:"",register:"",logout:"",admin:"",dashboard:"",campaignManagement:" ",creatorManagement:" ",withdrawalManagement:" ",campaignTitle:" ",brand:"",description:"",reward:"",status:"",active:"",inactive:"",draft:"",completed:"",apply:"",application:"",applications:" ",applicant:"",totalCampaigns:" ",totalApplications:" ",totalUsers:" ",totalRewards:" ",loginRequired:" ",adminRequired:"  ",noData:" ",loadingFailed:"  "}},Gb=({children:i})=>{const[d]=h.useState("ko"),x={language:"ko",changeLanguage:()=>{},t:n=>Bb.ko[n]||n,isKorean:!0,isJapanese:!1};return e.jsx(hg.Provider,{value:x,children:i})},gg=h.createContext({}),Oh="cnec-pc-view-mode",Vb=1024,qt=()=>{const i=h.useContext(gg);return i||{isPCView:!1,togglePCView:()=>{},isDesktop:!1,expandedContent:null,setExpandedContent:()=>{}}},Hb=({children:i})=>{const[d,o]=h.useState(()=>{try{return localStorage.getItem(Oh)==="true"}catch{return!1}}),[m,x]=h.useState(!1),[n,f]=h.useState(null);h.useEffect(()=>{const z=window.matchMedia(`(min-width: ${Vb}px)`),_=()=>x(z.matches);return z.addEventListener("change",_),x(z.matches),()=>z.removeEventListener("change",_)},[]),h.useEffect(()=>{try{localStorage.setItem(Oh,d.toString())}catch{}},[d]);const j=h.useCallback(()=>{o(z=>!z)},[]),g=d&&m;return e.jsx(gg.Provider,{value:{isPCView:g,togglePCView:j,isDesktop:m,rawPCView:d,expandedContent:n,setExpandedContent:f},children:i})};class Kb{constructor(){this.isRunning=!1}start(){this.isRunning||(this.isRunning=!0,console.log("  "),this.scheduleDaily(),this.checkAndSendReminders())}stop(){this.interval&&clearInterval(this.interval),this.isRunning=!1,console.log("  ")}scheduleDaily(){this.interval=setInterval(()=>{this.checkAndSendReminders()},1440*60*1e3)}async checkAndSendReminders(){try{console.log("   ...");const o=(await Be.campaigns.getAll()).filter(m=>m.status==="active");for(const m of o)await this.processCampaignReminders(m);console.log("   ")}catch(d){console.error("    :",d)}}async processCampaignReminders(d){try{const o=new Date(d.end_date),x=Math.ceil((o-new Date)/(1e3*60*60*24));console.log(` "${d.title}"  ${x}`);let n=null;if(x===3?n="campaign_deadline_3days":x===2?n="campaign_deadline_2days":x===1?n="campaign_deadline_1day":x===0&&(n="campaign_deadline_today"),!n)return;const j=(await Be.applications.getByCampaignId(d.id)).filter(g=>g.status==="approved");for(const g of j)await this.sendReminderIfNeeded(d,g,n)}catch(o){console.error(` ${d.id}    :`,o)}}async sendReminderIfNeeded(d,o,m){try{if(await this.checkVideoSubmission(o)){console.log(` ${o.user_id}      `);return}if(await this.checkIfAlreadySent(o.user_id,d.id,m)){console.log(` ${o.user_id}  ${m}  `);return}const f=await Be.users.getById(o.user_id);if(!f)return;await this.sendReminderEmail(f,d,o,m),await this.recordEmailSent(f.id,d.id,m)}catch(x){console.error("    :",x)}}async checkVideoSubmission(d){try{return!!(d.video_url||d.submission_status==="submitted")}catch(o){return console.error("    :",o),!1}}async checkIfAlreadySent(d,o,m){try{const x=new Date().toISOString().split("T")[0],{data:n,error:f}=await Be.supabase.from("email_logs").select("*").eq("user_id",d).eq("campaign_id",o).eq("template_id",m).gte("sent_at",x).limit(1);return f&&f.code!=="PGRST116"?(console.error("    :",f),!1):n&&n.length>0}catch(x){return console.error("     :",x),!1}}async sendReminderEmail(d,o,m,x){try{const n=await this.getEmailTemplate(x);if(!n){console.error(` ${x}   `);return}const f=this.replaceTemplateVariables(n.content,{name:d.name||d.email,campaign_title:o.title,brand_name:o.brand,reward_amount:o.reward_amount,deadline:this.formatDate(o.end_date),requirements:o.requirements||"  ",upload_folder:o.upload_folder||"Google Drive  ",guidelines_url:o.guidelines_url||"#"}),j=this.replaceTemplateVariables(n.subject,{campaign_title:o.title});await this.sendEmail({to:d.email,subject:j,content:f}),console.log(`${x}  ${d.email} `)}catch(n){console.error("    :",n)}}async getEmailTemplate(d){try{const{data:o,error:m}=await Be.supabase.from("email_templates").select("*").eq("template_id",d).eq("is_active",!0).limit(1).single();return m?(console.error("  :",m),null):o}catch(o){return console.error("   :",o),null}}replaceTemplateVariables(d,o){let m=d;return Object.keys(o).forEach(x=>{const n=new RegExp(`{{${x}}}`,"g");m=m.replace(n,o[x]||"")}),m}formatDate(d){return new Date(d).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}async sendEmail({to:d,subject:o,content:m}){console.log(" :",{to:d,subject:o}),console.log(":",m)}async recordEmailSent(d,o,m){try{const{error:x}=await Be.supabase.from("email_logs").insert({user_id:d,campaign_id:o,template_id:m,sent_at:new Date().toISOString()});x&&x.code!=="PGRST116"&&console.error("   :",x)}catch(x){console.error("     :",x)}}}const $h=new Kb;function Yb(){const{isPCView:i,togglePCView:d,isDesktop:o}=qt();return o?e.jsx("button",{onClick:d,className:"fixed bottom-6 right-6 z-[100] flex items-center gap-2 bg-white border border-gray-200 shadow-lg rounded-full px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:shadow-xl transition-all",title:i?"  ":"PC  ",children:i?e.jsxs(e.Fragment,{children:[e.jsx(Bm,{size:16}),e.jsx("span",{children:" "})]}):e.jsxs(e.Fragment,{children:[e.jsx(Eo,{size:16}),e.jsx("span",{children:"PC "})]})}):null}const Qb=["/dashboard","/campaigns-manage","/campaign-create","/applications-manage","/applications-report","/confirmed-creators","/sns-uploads","/campaign-report","/email-templates","/user-approval","/withdrawals-manage","/system-settings","/email-settings","/secret-admin-login","/test-admin-login"],Bh={"/":"","/campaigns":" ","/mypage":"","/my/applications":" ","/my/grade":" ","/my/points":"","/my/ai-guide":"AI ","/guide":" ","/profile":" ","/profile-settings":" ","/settings/notifications":" ","/login":"","/signup":"","/welcome":""};function Xb(i){return Bh[i]?Bh[i]:i.startsWith("/campaign/")&&i.endsWith("/apply")?" ":i.startsWith("/campaign/")?" ":i.startsWith("/submit-video/")?" ":i.startsWith("/submit-oliveyoung-video/")?"  ":i.startsWith("/submit-4week-video/")?"4   ":i.startsWith("/company-report/")?" ":""}function Fb(){const{expandedContent:i}=qt(),d=zn(),o=Xb(d.pathname);return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"border-b border-gray-100 px-8 py-5 bg-white flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-purple-100 p-2 rounded-xl",children:e.jsx(hb,{size:20,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o}),e.jsx("p",{className:"text-sm text-gray-500",children:"PC  "})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:i?e.jsx("div",{className:"max-w-4xl",children:i}):e.jsx(Zb,{pageTitle:o})})]})}function Zb({pageTitle:i}){return e.jsx("div",{className:"max-w-2xl",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-2xl p-8 border border-purple-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Eo,{size:24,className:"text-purple-600"}),e.jsx("h3",{className:"text-lg font-bold text-purple-900",children:"PC  "})]}),e.jsxs("p",{className:"text-sm text-purple-800 leading-relaxed mb-6",children:[" ",e.jsx("span",{className:"font-bold",children:i}),"   .     ,     ."]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-xl p-4 border border-purple-100",children:[e.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:e.jsx(Bm,{size:16,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:" "}),e.jsx("p",{className:"text-xs text-gray-500",children:"     "})]})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-xl p-4 border border-purple-100",children:[e.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:e.jsx(et,{size:16,className:"text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:" "}),e.jsx("p",{className:"text-xs text-gray-500",children:"    "})]})]})]})]})})}function Jb({children:i}){const{isPCView:d}=qt(),o=zn(),m=Qb.some(x=>o.pathname.startsWith(x));return!d||m?i:e.jsxs("div",{className:"flex h-screen bg-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"flex-shrink-0 w-[480px] flex flex-col items-center py-6 px-4",children:[e.jsxs("div",{className:"text-xs font-medium text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Bm,{size:14})," "]}),e.jsxs("div",{className:"w-[448px] bg-white rounded-3xl shadow-2xl border border-gray-200 relative flex flex-col overflow-hidden",style:{height:"calc(100vh - 100px)"},children:[e.jsx("div",{className:"flex-shrink-0 h-7 bg-white relative z-50",children:e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-36 h-6 bg-black rounded-b-2xl"})}),e.jsx("div",{className:"flex-1 overflow-y-auto pc-view-mobile-frame relative",children:i})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden bg-white border-l border-gray-200 shadow-inner",children:e.jsx(Fb,{})})]})}const Cn="/assets/cnec-logo-final-DW13sudU.png",To=({children:i})=>{const{user:d,signOut:o}=xs(),{isPCView:m}=qt(),x=Qe(),n=zn(),[f,j]=h.useState(!1),[g,z]=h.useState([]),[_,A]=h.useState("C"),C=(()=>{const b=n.pathname;return b==="/campaigns"?"search":b==="/mypage"||b.startsWith("/my/")?"my":"home"})();return h.useEffect(()=>{var b;(b=d==null?void 0:d.user_metadata)!=null&&b.name?A(d.user_metadata.name.charAt(0).toUpperCase()):d!=null&&d.email&&A(d.email.charAt(0).toUpperCase())},[d]),m?e.jsxs("div",{className:"bg-white h-full flex flex-col relative",children:[e.jsxs("header",{className:"bg-white px-6 py-4 flex-shrink-0 flex justify-between items-center shadow-sm z-30",children:[e.jsxs("button",{onClick:()=>x("/"),className:"text-xl font-extrabold text-purple-600 tracking-tighter hover:opacity-80 transition-opacity",children:["CNEC ",e.jsx("span",{className:"text-xs text-gray-400 font-normal ml-1",children:"Creator"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>j(!f),className:"relative",children:[e.jsx(xo,{className:"text-gray-400",size:24}),g.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"})]}),e.jsx("button",{onClick:()=>x("/profile"),className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 font-bold text-sm hover:bg-purple-200 transition-colors",children:_})]})]}),f&&e.jsxs("div",{className:"absolute top-16 right-4 w-72 bg-white rounded-2xl shadow-xl border border-gray-100 z-40 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-bold text-gray-900",children:""})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:g.length===0?e.jsx("div",{className:"p-6 text-center text-gray-400 text-sm",children:"  "}):g.map((b,J)=>e.jsxs("div",{className:"p-4 border-b border-gray-50 hover:bg-gray-50",children:[e.jsx("p",{className:"text-sm text-gray-700",children:b.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:b.time})]},J))})]}),e.jsx("main",{className:"flex-1 overflow-y-auto pb-20",children:i}),e.jsx("nav",{className:"flex-shrink-0 w-full bg-white border-t border-gray-100 z-30",children:e.jsxs("div",{className:"flex justify-between items-center py-3 px-8 pb-6",children:[e.jsxs("button",{onClick:()=>x("/"),className:`flex flex-col items-center gap-1 transition-colors ${C==="home"?"text-gray-900":"text-gray-300"}`,children:[e.jsx(yr,{size:24,strokeWidth:C==="home"?2.5:2}),e.jsx("span",{className:"text-[10px] font-bold",children:""})]}),e.jsxs("button",{onClick:()=>x("/campaigns"),className:`flex flex-col items-center gap-1 transition-colors ${C==="search"?"text-gray-900":"text-gray-300"}`,children:[e.jsx(_a,{size:24,strokeWidth:C==="search"?2.5:2}),e.jsx("span",{className:"text-[10px] font-bold",children:""})]}),e.jsxs("button",{onClick:()=>x("/mypage"),className:`flex flex-col items-center gap-1 transition-colors ${C==="my"?"text-purple-600":"text-gray-300"}`,children:[e.jsx(st,{size:24,strokeWidth:C==="my"?2.5:2}),e.jsx("span",{className:"text-[10px] font-bold",children:""})]})]})}),f&&e.jsx("div",{className:"absolute inset-0 z-35",onClick:()=>j(!1)})]}):e.jsx("div",{className:"flex justify-center bg-gray-100 min-h-screen font-sans",children:e.jsxs("div",{className:"w-full max-w-md bg-white min-h-screen shadow-2xl relative overflow-hidden",children:[e.jsxs("header",{className:"bg-white px-6 py-4 sticky top-0 z-30 flex justify-between items-center shadow-sm",children:[e.jsxs("button",{onClick:()=>x("/"),className:"text-xl font-extrabold text-purple-600 tracking-tighter hover:opacity-80 transition-opacity",children:["CNEC ",e.jsx("span",{className:"text-xs text-gray-400 font-normal ml-1",children:"Creator"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>j(!f),className:"relative",children:[e.jsx(xo,{className:"text-gray-400",size:24}),g.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"})]}),e.jsx("button",{onClick:()=>x("/profile"),className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 font-bold text-sm hover:bg-purple-200 transition-colors",children:_})]})]}),f&&e.jsxs("div",{className:"absolute top-16 right-4 w-72 bg-white rounded-2xl shadow-xl border border-gray-100 z-40 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsx("h3",{className:"font-bold text-gray-900",children:""})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:g.length===0?e.jsx("div",{className:"p-6 text-center text-gray-400 text-sm",children:"  "}):g.map((b,J)=>e.jsxs("div",{className:"p-4 border-b border-gray-50 hover:bg-gray-50",children:[e.jsx("p",{className:"text-sm text-gray-700",children:b.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:b.time})]},J))})]}),e.jsx("main",{className:"pb-24 min-h-[calc(100vh-140px)]",children:i}),e.jsx("nav",{className:"fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-md bg-white border-t border-gray-100 z-30",children:e.jsxs("div",{className:"flex justify-between items-center py-3 px-8 pb-6",children:[e.jsxs("button",{onClick:()=>x("/"),className:`flex flex-col items-center gap-1 transition-colors ${C==="home"?"text-gray-900":"text-gray-300"}`,children:[e.jsx(yr,{size:24,strokeWidth:C==="home"?2.5:2}),e.jsx("span",{className:"text-[10px] font-bold",children:""})]}),e.jsxs("button",{onClick:()=>x("/campaigns"),className:`flex flex-col items-center gap-1 transition-colors ${C==="search"?"text-gray-900":"text-gray-300"}`,children:[e.jsx(_a,{size:24,strokeWidth:C==="search"?2.5:2}),e.jsx("span",{className:"text-[10px] font-bold",children:""})]}),e.jsxs("button",{onClick:()=>x("/mypage"),className:`flex flex-col items-center gap-1 transition-colors ${C==="my"?"text-purple-600":"text-gray-300"}`,children:[e.jsx(st,{size:24,strokeWidth:C==="my"?2.5:2}),e.jsx("span",{className:"text-[10px] font-bold",children:""})]})]})}),f&&e.jsx("div",{className:"fixed inset-0 z-35",onClick:()=>j(!1)})]})})},Dt={1:{name:"FRESH",label:" ",color:"#10B981",bgGradient:"from-emerald-500 to-teal-600",minScore:0,minCampaigns:0,benefit:"1     "},2:{name:"GLOW",label:"  ",color:"#3B82F6",bgGradient:"from-blue-500 to-indigo-600",minScore:40,minCampaigns:3,benefit:" "},3:{name:"BLOOM",label:"  ",color:"#8B5CF6",bgGradient:"from-violet-500 to-purple-600",minScore:60,minCampaigns:10,benefit:"      "},4:{name:"ICONIC",label:"   ",color:"#EC4899",bgGradient:"from-pink-500 to-rose-600",minScore:80,minCampaigns:30,benefit:"      "},5:{name:"MUSE",label:"  ",color:"#F59E0B",bgGradient:"from-amber-400 to-orange-500",minScore:95,minCampaigns:50,benefit:"      ,  "}},pg=i=>{const{completedCampaigns:d,avgRating:o=4.5,recollabRate:m=0,guidelineRate:x=100,deadlineRate:n=100,avgResponseTime:f=2,revisionCount:j=0,engagementRate:g=5,qualityScore:z=4,brandFeedback:_=4,followerGrowth:A=10,engagementChange:k=0,monthsActive:C=1,communityActivity:b=0}=i,J=o/5*15,K=Math.min(m/50*15,15),T=x/100*10,O=J+K+T,w=z*2,H=Math.min(g/10*10,10),y=_/5*5,G=w+H+y,D=n/100*10;let $=1;f<=2?$=5:f<=6?$=4:f<=12?$=3:f<=24&&($=2);const ie=Math.max(5-j,0),be=D+$+ie,M=Math.min(A/20*5,5),le=2.5+Math.min(Math.max(k*5,-2.5),2.5),X=M+le,B=Math.min(C/12*3,3),ne=Math.min(b/10*2,2),L=B+ne,ue=O+G+be+X+L;return{brandTrustScore:Math.round(O*10)/10,contentQualityScore:Math.round(G*10)/10,professionalismScore:Math.round(be*10)/10,growthScore:Math.round(X*10)/10,contributionScore:Math.round(L*10)/10,totalScore:Math.round(ue*10)/10}},fg=(i,d,o=0)=>i>=80&&d>=30&&o>=30?Dt[4]:i>=60&&d>=10?Dt[3]:i>=40&&d>=3?Dt[2]:Dt[1],bg=(i,d,o)=>{const m=Object.keys(Dt).find(f=>Dt[f].name===i.name),x=parseInt(m)+1;if(x>4)return null;const n=Dt[x];return{...n,scoreGap:Math.max(0,n.minScore-d),campaignGap:Math.max(0,n.minCampaigns-o)}},Pb=({onCampaignClick:i,onViewAllCampaigns:d})=>{const{user:o}=xs(),{isPCView:m,setExpandedContent:x}=qt(),n=Qe(),[f,j]=h.useState(!0),[g,z]=h.useState(null),[_,A]=h.useState(!0),[k,C]=h.useState({pendingEarnings:0,activeCampaigns:0,urgentCampaigns:0,completedCampaigns:0,totalPoints:0,totalScore:0}),[b,J]=h.useState(null),[K,T]=h.useState([]),[O,w]=h.useState([]);h.useEffect(()=>{o&&H()},[o]);const H=async()=>{try{j(!0);const{data:M}=await se.from("user_profiles").select("*").eq("id",o.id).single();z(M);const{data:le,error:X}=await se.from("applications").select("*").eq("user_id",o.id).order("created_at",{ascending:!1});X&&console.error("Applications  :",X);let B=le||[];if(B.length>0){const ve=[...new Set(B.map(de=>de.campaign_id).filter(Boolean))];if(ve.length>0){const{data:de}=await se.from("campaigns").select("id, title, brand, brand_id, image_url, reward_points, creator_points_override, application_deadline, content_submission_deadline, campaign_type, category").in("id",ve);B=B.map(Y=>({...Y,campaigns:(de==null?void 0:de.find(we=>we.id===Y.campaign_id))||null}))}}w(B);const ne=(B==null?void 0:B.filter(ve=>ve.status==="approved"||ve.status==="selected"))||[],L=(B==null?void 0:B.filter(ve=>ve.status==="completed"||ve.status==="paid"))||[],ue=new Date,re=new Date(ue.getTime()+4320*60*1e3),me=ne.filter(ve=>{var we;const de=(we=ve.campaigns)==null?void 0:we.content_submission_deadline;if(!de)return!1;const Y=new Date(de);return Y<=re&&Y>ue}),S=ne.reduce((ve,de)=>{var Y,we;return ve+(((Y=de.campaigns)==null?void 0:Y.creator_points_override)||((we=de.campaigns)==null?void 0:we.reward_points)||0)},0),W=L.map(ve=>{var de;return(de=ve.campaigns)==null?void 0:de.brand_id}).filter(Boolean),v=[...new Set(W)],R=v.filter(ve=>W.filter(de=>de===ve).length>=2),ae=v.length>0?R.length/v.length*100:0,Q=M!=null&&M.created_at?new Date(M.created_at):ue,V=Math.max(1,Math.floor((ue-Q)/(720*60*60*1e3))),P={completedCampaigns:L.length,avgRating:(M==null?void 0:M.avg_rating)||4.5,recollabRate:ae,guidelineRate:100,deadlineRate:L.length>0?95:100,avgResponseTime:(M==null?void 0:M.avg_response_time)||2,revisionCount:0,engagementRate:5,qualityScore:4,brandFeedback:4,followerGrowth:10,engagementChange:0,monthsActive:V,communityActivity:0},ce=pg(P);let U;M!=null&&M.cnec_grade_level&&Dt[M.cnec_grade_level]?U=Dt[M.cnec_grade_level]:U=fg(ce.totalScore,L.length,ae);const q=bg(U,ce.totalScore,L.length);J({current:U,next:q}),C({pendingEarnings:S,activeCampaigns:ne.length,urgentCampaigns:me.length,completedCampaigns:L.length,totalPoints:(M==null?void 0:M.points)||0,totalScore:ce.totalScore});const F=await Be.campaigns.getAll(),ye=(F==null?void 0:F.filter(ve=>{if(ve.status!=="active"||ve.approval_status==="pending_approval"||(B==null?void 0:B.some(Y=>Y.campaign_id===ve.id)))return!1;if(ve.application_deadline){const Y=new Date(ve.application_deadline);if(Y.setHours(23,59,59,999),ue>Y)return!1}return!(typeof ve.remaining_slots=="number"&&ve.remaining_slots<=0)}))||[];T(ye.slice(0,6))}catch(M){console.error("   :",M)}finally{j(!1)}};h.useEffect(()=>{if(!m||f){x(null);return}return x(e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-700 rounded-2xl p-6 text-white",children:[e.jsx("h3",{className:"text-2xl font-extrabold mb-1",children:""}),e.jsxs("p",{className:"text-white/70",children:[(g==null?void 0:g.name)||"","  "]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:k.activeCampaigns}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" "})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:k.completedCampaigns}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" "})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 text-center",children:[e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[k.totalPoints.toLocaleString(),"P"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" "})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(b==null?void 0:b.name)||"FRESH"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" "})]})]}),K.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:" "}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:K.slice(0,4).map(M=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>n(`/campaign/${M.id}`),children:[e.jsx("p",{className:"font-bold text-gray-900",children:M.title}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:M.brand})]},M.id))})]})]})),()=>x(null)},[m,f,k,b,g,K]);const y=M=>M?`${M.toLocaleString()}P`:"0P",G=M=>{switch(M){case"oliveyoung":return"bg-green-100 text-green-700";case"4week_challenge":return"bg-purple-100 text-purple-700";case"planned":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},D=M=>{switch(M){case"oliveyoung":return"";case"4week_challenge":return"4";case"planned":return"";default:return""}};if(f)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-purple-600"})});const $=(b==null?void 0:b.current)||Dt[1],ie=b==null?void 0:b.next,be=ie?Math.min(100,k.totalScore/ie.minScore*100):100;return e.jsxs("div",{className:"px-5 pt-5 pb-8",children:[_&&!(g!=null&&g.profile_image)&&e.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl p-4 mb-5 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-6 -right-6 w-24 h-24 bg-white/10 rounded-full blur-xl"}),e.jsx("button",{onClick:()=>A(!1),className:"absolute top-3 right-3 p-1 hover:bg-white/20 rounded-full transition-colors",children:e.jsx(Fs,{size:18})}),e.jsxs("div",{className:"flex items-center gap-3 pr-6",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Nr,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-base",children:"   ?"}),e.jsx("p",{className:"text-sm text-white/90 mt-0.5",children:" 300%  ,   !"})]})]}),e.jsx("button",{onClick:()=>n("/profile"),className:"mt-3 w-full py-2.5 bg-white text-orange-600 font-bold text-sm rounded-xl hover:bg-white/90 transition-colors",children:"  "})]}),e.jsxs("div",{className:`bg-gradient-to-br ${$.bgGradient} rounded-3xl p-6 text-white shadow-xl mb-6 relative overflow-hidden cursor-pointer active:scale-[0.98] transition-transform`,onClick:()=>n("/my/grade"),children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-2xl pointer-events-none"}),e.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-white/5 rounded-full blur-2xl pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(bt,{size:14,className:"text-white/70"}),e.jsx("span",{className:"text-sm font-medium text-white/70",children:"Current Grade"})]}),e.jsx("h2",{className:"text-3xl font-extrabold tracking-tight mb-1",children:$.name}),e.jsx("p",{className:"text-sm text-white/60",children:$.label}),e.jsxs("div",{className:"mt-5 mb-4",children:[e.jsxs("div",{className:"flex items-end justify-between mb-2",children:[e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("span",{className:"text-4xl font-extrabold tracking-tighter",children:k.totalScore}),e.jsx("span",{className:"text-base font-medium text-white/50 mb-1",children:"/ 100"})]}),ie&&e.jsxs("span",{className:"text-xs text-white/70",children:["  ",e.jsxs("span",{className:"font-bold text-white",children:[ie.scoreGap,""]})]})]}),e.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white/80 rounded-full transition-all duration-500",style:{width:`${be}%`}})})]}),ie&&e.jsxs("p",{className:"text-sm text-white/80 mb-4",children:[e.jsx("span",{className:"font-bold text-white",children:ie.campaignGap>0?`${ie.campaignGap}  `:`${ie.scoreGap}  `})," ",e.jsxs("span",{className:"font-bold text-white",children:["'",ie.name,"'"]})," "]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-white/90 bg-white/10 px-3 py-1.5 rounded-lg",children:["  ",e.jsx(et,{size:16})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white border border-gray-100 p-5 rounded-2xl shadow-sm hover:shadow-md transition-shadow cursor-pointer active:bg-gray-50",onClick:()=>n("/my/points"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-500 text-sm font-medium",children:[e.jsx(Kl,{size:16,className:"text-blue-500"})," "]}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:y(k.pendingEarnings)})]}),e.jsx(et,{size:18,className:"text-gray-300"})]})}),e.jsx("div",{className:"bg-white border border-gray-100 p-5 rounded-2xl shadow-sm hover:shadow-md transition-shadow cursor-pointer active:bg-gray-50",onClick:()=>n("/my/applications"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-500 text-sm font-medium",children:[e.jsx(it,{size:16,className:"text-green-500"})," "]}),e.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[k.activeCampaigns,"",k.urgentCampaigns>0&&e.jsx("span",{className:"text-xs font-normal text-red-500 bg-red-50 px-1.5 py-0.5 rounded ml-1",children:""})]})]}),e.jsx(et,{size:18,className:"text-gray-300"})]})})]}),k.activeCampaigns>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:"  "}),e.jsxs("button",{onClick:()=>n("/my/applications"),className:"text-xs text-purple-600 font-medium flex items-center gap-0.5",children:[" ",e.jsx(et,{size:14})]})]}),e.jsx("div",{className:"space-y-2",children:O.filter(M=>M.status==="approved"||M.status==="selected").slice(0,2).map((M,le)=>{var X,B,ne;return e.jsxs("div",{className:"bg-white border border-gray-100 p-4 rounded-2xl flex items-center gap-3 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>n("/my/applications"),children:[(X=M.campaigns)!=null&&X.image_url?e.jsx("img",{src:M.campaigns.image_url,alt:"",className:"w-12 h-12 rounded-xl object-cover flex-shrink-0"}):e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl flex-shrink-0 flex items-center justify-center",children:e.jsx(ft,{size:20,className:"text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:(B=M.campaigns)==null?void 0:B.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${M.status==="approved"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:M.status==="approved"?"":""}),((ne=M.campaigns)==null?void 0:ne.content_submission_deadline)&&e.jsxs("span",{className:"text-[10px] text-gray-400",children:[new Date(M.campaigns.content_submission_deadline).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})," "]})]})]}),e.jsx(et,{size:18,className:"text-gray-300"})]},le)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:" "}),e.jsx("button",{onClick:()=>n("/campaigns"),className:"text-sm text-gray-400 font-medium cursor-pointer hover:text-gray-600",children:""})]}),K.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(ft,{size:40,className:"mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:"    "})]}):e.jsx("div",{className:"space-y-4",children:K.map((M,le)=>e.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-gray-100 flex gap-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>n(`/campaign/${M.id}`),children:[M.image_url?e.jsx("img",{src:M.image_url,alt:M.title,className:"w-20 h-20 rounded-2xl object-cover flex-shrink-0"}):e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-2xl flex-shrink-0 flex items-center justify-center text-gray-400",children:e.jsx(Yt,{size:24})}),e.jsxs("div",{className:"flex-1 py-1 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-2 mb-1.5",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400",children:M.brand}),e.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-md ${G(M.campaign_type)}`,children:D(M.campaign_type)})]}),e.jsx("h4",{className:"font-bold text-gray-900 leading-tight text-base mb-1 line-clamp-2",children:M.title})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"font-extrabold text-gray-900 text-lg",children:y(M.creator_points_override||M.reward_points)}),e.jsx("button",{className:"px-4 py-2 bg-gray-900 text-white text-xs font-bold rounded-xl hover:bg-black transition-colors",children:""})]})]})]},le))})]})]})},Am=10,Wb=({onCampaignClick:i})=>{const{user:d}=xs(),o=Qe(),{isPCView:m,setExpandedContent:x}=qt(),[n,f]=h.useState(!0),[j,g]=h.useState(!1),[z,_]=h.useState([]),[A,k]=h.useState([]),[C,b]=h.useState([]),[J,K]=h.useState([]),[T,O]=h.useState(!0),[w,H]=h.useState([]),y=h.useRef(null),G=h.useRef(null),[D,$]=h.useState(""),[ie,be]=h.useState("all"),[M,le]=h.useState("latest"),[X,B]=h.useState(!1),ne=[{id:"all",label:""},{id:"planned",label:""},{id:"oliveyoung",label:""},{id:"4week_challenge",label:"4"}];h.useEffect(()=>{if(d){const P=`cnec_wishlist_${d.id}`,ce=localStorage.getItem(P);ce&&H(JSON.parse(ce))}},[d]);const L=(P,ce)=>{if(P.stopPropagation(),!d){o("/login");return}const U=`cnec_wishlist_${d.id}`;let q;w.includes(ce)?q=w.filter(F=>F!==ce):q=[...w,ce],H(q),localStorage.setItem(U,JSON.stringify(q))};h.useEffect(()=>{re()},[d]),h.useEffect(()=>{me()},[z,D,ie,M,J,X]),h.useEffect(()=>{b(A.slice(0,Am)),O(A.length>Am)},[A]),h.useEffect(()=>(y.current&&y.current.disconnect(),y.current=new IntersectionObserver(P=>{P[0].isIntersecting&&T&&!j&&!n&&ue()},{threshold:.1}),G.current&&y.current.observe(G.current),()=>{y.current&&y.current.disconnect()}),[T,j,n,C.length]);const ue=h.useCallback(()=>{j||!T||(g(!0),setTimeout(()=>{const P=C.length,ce=A.slice(P,P+Am);ce.length>0?(b(U=>[...U,...ce]),O(P+ce.length<A.length)):O(!1),g(!1)},300))},[j,T,C.length,A]),re=async()=>{try{if(f(!0),d){const{data:q}=await se.from("applications").select("campaign_id").eq("user_id",d.id);K((q==null?void 0:q.map(F=>F.campaign_id))||[])}const P=await Be.campaigns.getAll(),ce=new Date;console.log("===    ==="),console.log("  :",P==null?void 0:P.length);const U=(P==null?void 0:P.filter(q=>{const F={title:q.title,status:q.status,approval_status:q.approval_status,remaining_slots:q.remaining_slots,application_deadline:q.application_deadline,reason:null};if(q.status!=="active")return F.reason="status active ",console.log(":",F),!1;if(q.approval_status==="pending_approval")return F.reason="approval_status pending_approval",console.log(":",F),!1;if(q.application_deadline){const ye=new Date(q.application_deadline);if(ye.setHours(23,59,59,999),ce>ye)return F.reason=" ",console.log(":",F),!1}return typeof q.remaining_slots=="number"&&q.remaining_slots<=0?(F.reason="remaining_slots 0 ",console.log(":",F),!1):(console.log(":",q.title),!0)}))||[];_(U)}catch(P){console.error("  :",P)}finally{f(!1)}},me=()=>{let P=[...z];if(D.trim()){const ce=D.toLowerCase();P=P.filter(U=>{var q,F,ye;return((q=U.title)==null?void 0:q.toLowerCase().includes(ce))||((F=U.brand)==null?void 0:F.toLowerCase().includes(ce))||((ye=U.description)==null?void 0:ye.toLowerCase().includes(ce))})}switch(ie!=="all"&&(P=P.filter(ce=>ce.campaign_type===ie)),X&&(P=P.filter(ce=>{const U=ae(ce.application_deadline);return U===null||U>3})),M){case"reward_high":P.sort((ce,U)=>{const q=ce.creator_points_override||ce.reward_points||0;return(U.creator_points_override||U.reward_points||0)-q});break;case"deadline":P.sort((ce,U)=>{const q=ce.application_deadline?new Date(ce.application_deadline):new Date("2099-12-31"),F=U.application_deadline?new Date(U.application_deadline):new Date("2099-12-31");return q-F});break;case"latest":default:P.sort((ce,U)=>new Date(U.created_at)-new Date(ce.created_at));break}k(P)},S=P=>{const ce=ae(P);return ce===null||ce<0?null:ce===0?{text:"D-DAY",style:"bg-red-500 text-white"}:ce===1?{text:"D-1",style:"bg-red-500 text-white"}:ce===2?{text:"D-2",style:"bg-orange-500 text-white"}:ce===3?{text:"D-3",style:"bg-orange-400 text-white"}:ce<=7?{text:"",style:"bg-amber-400 text-white"}:null},W=P=>P?`${P.toLocaleString()}P`:"0P",v=P=>{switch(P){case"oliveyoung":return"";case"4week_challenge":return"4";case"planned":return"";case"jasaMall":return"";default:return""}},R=P=>{switch(P){case"oliveyoung":return"bg-emerald-500 text-white";case"4week_challenge":return"bg-violet-500 text-white";case"planned":return"bg-blue-500 text-white";case"jasaMall":return"bg-cyan-500 text-white";default:return"bg-blue-500 text-white"}},ae=P=>{if(!P)return null;const ce=new Date,U=new Date(P);return Math.ceil((U-ce)/(1e3*60*60*24))},Q=P=>{const ce=ae(P);return ce!==null&&ce<=3&&ce>=0},V=P=>{if(!P)return"";const ce=new Date(P);return`${ce.getMonth()+1}/${ce.getDate()}`};return h.useEffect(()=>{if(!m){x(null);return}return C.length>0&&x(e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["  (",A.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:C.map(P=>{const ce=P.creator_points_override||P.reward_points||0;return e.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow cursor-pointer bg-white",onClick:()=>o(`/campaign/${P.id}`),children:[P.image_url?e.jsx("img",{src:P.image_url,alt:P.title,className:"w-full h-48 object-cover"}):e.jsx("div",{className:"w-full h-48 bg-gray-100 flex items-center justify-center",children:e.jsx(Yt,{size:40,className:"text-gray-300"})}),e.jsxs("div",{className:"p-4",children:[P.brand&&e.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:P.brand}),e.jsx("h4",{className:"text-sm font-bold text-gray-900 line-clamp-2 mb-2",children:P.title}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-violet-600",children:W(ce)}),P.application_deadline&&e.jsxs("span",{className:"text-xs text-gray-400",children:["~",V(P.application_deadline)]})]})]})]},P.id)})})]})),()=>x(null)},[m,C,A.length]),e.jsxs("div",{className:"pb-20",children:[e.jsx("div",{className:"border-b border-gray-200 bg-white sticky top-0 z-10",children:e.jsx("div",{className:"flex justify-between px-4",children:ne.map(P=>e.jsx("button",{onClick:()=>be(P.id),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${ie===P.id?"text-gray-900 border-gray-900":"text-gray-400 border-transparent hover:text-gray-600"}`,children:P.label},P.id))})}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:X,onChange:P=>B(P.target.checked),className:"w-4 h-4 rounded border-gray-300 text-violet-600 focus:ring-violet-500"}),"  "]}),e.jsxs("select",{value:M,onChange:P=>le(P.target.value),className:"text-sm text-gray-600 bg-transparent border-none focus:outline-none cursor-pointer",children:[e.jsx("option",{value:"latest",children:""}),e.jsx("option",{value:"reward_high",children:" "}),e.jsx("option",{value:"deadline",children:""})]})]}),e.jsxs("div",{className:"divide-y divide-gray-100",children:[n?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-blue-600"})}):A.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(ft,{size:48,className:"mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-gray-500",children:"   "})]}):C.map((P,ce)=>{const U=J.includes(P.id),q=P.creator_points_override||P.reward_points||0;P.product_price||q*1.5;const F=S(P.application_deadline),ye=w.includes(P.id);return e.jsxs("div",{className:`flex gap-3 p-4 bg-white ${U?"opacity-60":"active:bg-gray-50 cursor-pointer"}`,onClick:()=>!U&&o(`/campaign/${P.id}`),children:[e.jsxs("div",{className:"relative flex-shrink-0 w-32 h-32 rounded-lg overflow-hidden bg-gray-100",children:[P.image_url?e.jsx("img",{src:P.image_url,alt:P.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Yt,{size:32,className:"text-gray-300"})}),F&&e.jsx("div",{className:`absolute top-2 left-2 px-2 py-1 rounded-md text-xs font-bold shadow-sm ${F.style}`,children:F.text}),e.jsx("button",{className:`absolute top-2 right-2 w-7 h-7 rounded-full flex items-center justify-center transition-colors ${ye?"bg-red-500":"bg-white/80"}`,onClick:ve=>L(ve,P.id),children:e.jsx(Ai,{size:16,className:ye?"text-white fill-white":"text-gray-400"})})]}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded ${R(P.campaign_type)}`,children:v(P.campaign_type)})}),(Q(P.application_deadline)||P.remaining_slots)&&e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Q(P.application_deadline)&&e.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-orange-500",children:[e.jsx(gb,{size:12,className:"text-orange-500"}),""]}),P.remaining_slots&&e.jsxs("span",{className:"text-xs text-orange-500 font-medium",children:[" ",P.remaining_slots," "]})]}),e.jsx("h4",{className:"text-sm font-medium text-gray-900 line-clamp-2 mb-2 leading-snug",children:P.title}),e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("span",{className:"text-lg font-bold text-violet-600",children:W(q)})}),P.application_deadline&&e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["~",V(P.application_deadline),""]}),U&&e.jsx("span",{className:"mt-2 text-xs text-gray-500 font-medium",children:""})]})]},P.id||ce)}),e.jsxs("div",{ref:G,className:"py-4",children:[j&&e.jsx("div",{className:"flex items-center justify-center py-4",children:e.jsx(Ue,{className:"w-5 h-5 animate-spin text-blue-600"})}),!T&&C.length>0&&e.jsx("p",{className:"text-center text-xs text-gray-400 py-4",children:"  "})]})]})]})},Gh={1:{name:"FRESH",label:" ",color:"#10B981",bgGradient:"from-emerald-500 to-teal-600"},2:{name:"GLOW",label:"  ",color:"#3B82F6",bgGradient:"from-blue-500 to-indigo-600"},3:{name:"BLOOM",label:"  ",color:"#8B5CF6",bgGradient:"from-violet-500 to-purple-600"},4:{name:"ICONIC",label:"  ",color:"#EC4899",bgGradient:"from-pink-500 to-rose-600"},5:{name:"MUSE",label:"  ",color:"#F59E0B",bgGradient:"from-amber-400 to-orange-500"}},Ib=()=>{const{user:i,signOut:d}=xs(),o=Qe(),m=zn(),{isPCView:x,setExpandedContent:n}=qt(),[f,j]=h.useState(!0),[g,z]=h.useState(null),[_,A]=h.useState([]),[k,C]=h.useState("dashboard"),[b,J]=h.useState(!1),[K,T]=h.useState(""),[O,w]=h.useState(""),[H,y]=h.useState(!1),[G,D]=h.useState({}),[$,ie]=h.useState(!1),[be,M]=h.useState(""),[le,X]=h.useState(""),[B,ne]=h.useState(!1),[L,ue]=h.useState(!1),[re,me]=h.useState(!1),[S,W]=h.useState(""),[v,R]=h.useState([]),[ae,Q]=h.useState(!1),V=["KB","","","NH","","IBK","SC","","KDB","","","","","","","","",""];h.useEffect(()=>{i&&P()},[i]),h.useEffect(()=>{if(!x||!g){n(null);return}const I=Gh[g.grade||1],ke=_.filter(Xe=>Xe.status==="completed"||Xe.status==="sns_uploaded").length,De=_.filter(Xe=>["approved","selected","filming","submitted"].includes(Xe.status)).length;return n(e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:`bg-gradient-to-br ${I.bgGradient} rounded-2xl p-8 text-white shadow-xl`,children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(ka,{size:32,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white/70 text-sm",children:" "}),e.jsx("h3",{className:"text-3xl font-extrabold",children:I.name}),e.jsx("p",{className:"text-white/80 text-sm",children:I.label})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-5 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:_.length}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" "})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-5 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:De}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-5 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:ke}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(uo,{size:20,className:"text-violet-600"})," "]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-violet-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-violet-600 font-medium mb-1",children:" "}),e.jsxs("p",{className:"text-2xl font-bold text-violet-700",children:[(g.points||0).toLocaleString(),"P"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:" "}),e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[(g.total_earned_points||0).toLocaleString(),"P"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:" "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ra,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:i==null?void 0:i.email})]}),g.phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ao,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:g.phone})]}),g.instagram_url&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(zt,{size:16,className:"text-pink-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:g.instagram_url})]}),g.youtube_url&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(jt,{size:16,className:"text-red-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:g.youtube_url})]})]})]})]})),()=>n(null)},[x,g,_]),h.useEffect(()=>{var I;(I=m.state)!=null&&I.section&&C(m.state.section)},[m.state]);const P=async()=>{try{j(!0);const{data:I}=await se.from("user_profiles").select("*").eq("id",i.id).single();z({...I,bank_name:(I==null?void 0:I.bank_name)||"",account_number:(I==null?void 0:I.bank_account_number)||"",account_holder:(I==null?void 0:I.bank_account_holder)||""}),D({name:(I==null?void 0:I.name)||"",phone:(I==null?void 0:I.phone)||"",bio:(I==null?void 0:I.bio)||"",age:(I==null?void 0:I.age)||"",postcode:(I==null?void 0:I.postcode)||"",address:(I==null?void 0:I.address)||"",detail_address:(I==null?void 0:I.detail_address)||"",skin_type:(I==null?void 0:I.skin_type)||"",instagram_url:(I==null?void 0:I.instagram_url)||"",tiktok_url:(I==null?void 0:I.tiktok_url)||"",youtube_url:(I==null?void 0:I.youtube_url)||"",bank_name:(I==null?void 0:I.bank_name)||"",account_number:(I==null?void 0:I.bank_account_number)||"",account_holder:(I==null?void 0:I.bank_account_holder)||""});const{data:ke,error:De}=await se.from("applications").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});De&&console.error("Applications  :",De);let Xe=ke||[];if(Xe.length>0){const gs=[...new Set(Xe.map(cs=>cs.campaign_id).filter(Boolean))];if(gs.length>0){const{data:cs}=await se.from("campaigns").select("*").in("id",gs);Xe=Xe.map(Qt=>({...Qt,campaigns:(cs==null?void 0:cs.find(dt=>dt.id===Qt.campaign_id))||null}))}}A(Xe)}catch(I){console.error("  :",I)}finally{j(!1)}},ce=async()=>{if(i)try{Q(!0);const I=`cnec_wishlist_${i.id}`,ke=localStorage.getItem(I);if(ke){const De=JSON.parse(ke);if(De.length>0){const{data:Xe}=await se.from("campaigns").select("id, title, brand, image_url, reward_points, creator_points_override, application_deadline, campaign_type").in("id",De);R(Xe||[])}else R([])}}catch(I){console.error("   :",I)}finally{Q(!1)}},U=I=>{const ke=`cnec_wishlist_${i.id}`,De=localStorage.getItem(ke);if(De){const Xe=JSON.parse(De).filter(gs=>gs!==I);localStorage.setItem(ke,JSON.stringify(Xe)),R(gs=>gs.filter(cs=>cs.id!==I))}},q=async()=>{try{J(!0);const I={name:G.name,phone:G.phone,bio:G.bio,age:G.age?parseInt(G.age):null,postcode:G.postcode,address:G.address,detail_address:G.detail_address,skin_type:G.skin_type,instagram_url:G.instagram_url,tiktok_url:G.tiktok_url,youtube_url:G.youtube_url,updated_at:new Date().toISOString()},{error:ke}=await se.from("user_profiles").update(I).eq("id",i.id);if(ke)throw ke;z(De=>({...De,...I})),y(!1),C("dashboard"),w(" "),setTimeout(()=>w(""),3e3)}catch(I){console.error("  :",I),T("  ")}finally{J(!1)}},F=async()=>{try{if(ue(!0),T(""),me(!1),W(""),!G.bank_name||!G.account_number){T("  "),ue(!1);return}if(!G.account_holder||G.account_holder.trim()===""){T(" "),ue(!1);return}const ke=await(await fetch("/.netlify/functions/verify-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bankName:G.bank_name,accountNumber:G.account_number.replace(/-/g,"")})})).json();if(console.log("  :",ke),ke.success&&ke.accountName){const De=ke.accountName.trim();W(De),me(!0),w(`  ! : ${De}`),setTimeout(()=>w(""),3e3)}else T(ke.error||"  ")}catch(I){console.error("  :",I),T("    ")}finally{ue(!1)}},ye=async()=>{try{if(J(!0),!re){T("   "),J(!1);return}const I={bank_name:G.bank_name,bank_account_number:G.account_number,bank_account_holder:S||G.account_holder,updated_at:new Date().toISOString()},{error:ke}=await se.from("user_profiles").update(I).eq("id",i.id);if(ke){console.error("   :",ke),T("   ");return}z(De=>({...De,bank_name:G.bank_name,account_number:G.account_number,account_holder:S||G.account_holder})),C("dashboard"),me(!1),W(""),w("  "),setTimeout(()=>w(""),3e3)}catch(I){console.error("   :",I),T("   ")}finally{J(!1)}},ve=async I=>{try{const ke="default-key-change-this",{data:De,error:Xe}=await se.rpc("encrypt_resident_number",{resident_number:I,encryption_key:ke});return Xe?(console.error(" :",Xe),null):De}catch(ke){return console.error(" :",ke),null}},de=I=>{const ke=I.replace(/-/g,"");return!(ke.length!==13||!/^\d{13}$/.test(ke))},Y=async(I,ke,De,Xe)=>{try{const cs=await(await fetch("/.netlify/functions/send-alimtalk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateCode:I,receiverNum:ke.replace(/-/g,""),receiverName:De,variables:Xe})})).json();return console.log("  :",cs),cs}catch(gs){return console.error("  :",gs),{success:!1,error:gs.message}}},we=async()=>{try{ne(!0),T("");const I=parseInt(be.replace(/[^0-9]/g,""));if(!I||I<1e4){T("   10,000P"),ne(!1);return}if(I>((g==null?void 0:g.points)||0)){T("      "),ne(!1);return}if(!de(le)){T("    (13)"),ne(!1);return}if(!(g!=null&&g.bank_name)||!(g!=null&&g.account_number)){T("   "),ne(!1);return}const ke=await ve(le.replace(/-/g,"")),De=new Date,Xe=`${De.getFullYear()}-${String(De.getMonth()+1).padStart(2,"0")}-${String(De.getDate()).padStart(2,"0")}`;if(!(await Be.userPoints.requestWithdrawal({user_id:i.id,amount:I,bank_name:g.bank_name,bank_account_number:g.account_number,bank_account_holder:g.account_holder,resident_number_encrypted:ke})).success)throw new Error("   ");try{if(g!=null&&g.phone&&await Y("025100001019",g.phone,g.name||"",{:g.name||"",:I.toLocaleString(),:Xe}),g!=null&&g.email){const cs=De.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});await fetch("/.netlify/functions/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:g.email,subject:"[CNEC]    ",html:`
                <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
                  <h2 style="color: #1f2937;">  </h2>
                  <p>${g.name||""},   .</p>
                  <div style="background: #f3f4f6; padding: 20px; border-radius: 8px; margin: 20px 0;">
                    <p><strong> :</strong> ${I.toLocaleString()}</p>
                    <p><strong>:</strong> ${cs}</p>
                    <p><strong> :</strong> ${g.bank_name} ${g.account_number}</p>
                  </div>
                  <p>    .</p>
                  <p style="color: #6b7280;"> :  </p>
                  <p style="color: #6b7280;">: 1833-6025</p>
                </div>
              `})})}}catch(cs){console.error("   (   ):",cs)}ie(!1),M(""),X(""),w("  .   3-5  ."),setTimeout(()=>w(""),5e3),P()}catch(I){console.error("  :",I),T("  .  .")}finally{ne(!1)}},E=async()=>{try{await d(),o("/login")}catch(I){console.error(" :",I)}},ee=I=>I?`${I.toLocaleString()}`:"0",ze=()=>!!(g!=null&&g.skin_type&&(g!=null&&g.address)&&(g!=null&&g.instagram_url||g!=null&&g.youtube_url||g!=null&&g.tiktok_url)),xe=()=>({pending:_.filter(I=>I.status==="pending").length,approved:_.filter(I=>["approved","selected","virtual_selected"].includes(I.status)).length,inProgress:_.filter(I=>["filming","video_submitted","sns_uploaded"].includes(I.status)).length,completed:_.filter(I=>["completed","paid"].includes(I.status)).length}),Ae=I=>{const ke=I.campaigns;if(!ke)return null;if(I.guide_group&&ke.guide_group_data){let De=ke.guide_group_data;if(typeof De=="string")try{De=JSON.parse(De)}catch{De=null}if(De&&De[I.guide_group])return{type:"group",groupName:I.guide_group,guideData:De[I.guide_group]}}if(ke.campaign_type==="planned"){if(ke.guide_delivery_mode==="external"&&(ke.external_guide_url||ke.external_guide_file_url))return{type:"planned_external"};if(I.personalized_guide)return{type:"planned_personalized"}}if(ke.campaign_type==="oliveyoung"){const De=ke.step1_guide_mode==="external"||ke.step2_guide_mode==="external"||ke.step3_guide_mode==="external",Xe=ke.oliveyoung_step1_guide_ai||ke.oliveyoung_step1_guide||ke.oliveyoung_step2_guide_ai||ke.oliveyoung_step2_guide||ke.oliveyoung_step3_guide_ai||ke.oliveyoung_step3_guide;if(De||Xe)return{type:"oliveyoung"}}if(ke.campaign_type==="4week_challenge"){const De=ke.week1_guide_mode==="external"||ke.week2_guide_mode==="external"||ke.week3_guide_mode==="external"||ke.week4_guide_mode==="external",Xe=ke.challenge_weekly_guides_ai;if(De||Xe)return{type:"4week_challenge"}}return ke.ai_generated_guide?{type:"general"}:null},Re=xe(),fe=(g==null?void 0:g.cnec_grade_level)||1,Ce=Gh[fe],Pe=(g==null?void 0:g.total_score)||0;return f?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-violet-600"})}):e.jsxs("div",{className:"pb-8 bg-gray-50 min-h-screen",children:[(K||O)&&e.jsx("div",{className:`mx-5 mt-4 p-3 rounded-xl text-sm font-medium ${K?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:K||O}),k==="dashboard"&&e.jsxs(e.Fragment,{children:[!ze()&&e.jsx("div",{className:"mx-5 mt-5",children:e.jsx("div",{className:"bg-gradient-to-r from-violet-500 to-purple-600 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold mb-1",children:" !"}),e.jsx("p",{className:"text-sm text-white/80",children:"SNS   "})]}),e.jsx("button",{onClick:()=>o("/profile"),className:"px-4 py-2 bg-white text-violet-600 rounded-xl font-bold text-sm",children:""})]})})}),e.jsx("div",{className:"mx-5 mt-5",children:e.jsxs("div",{className:`bg-gradient-to-br ${Ce.bgGradient} rounded-3xl p-5 text-white relative overflow-hidden`,children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2"}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-white/20 border-2 border-white/30 cursor-pointer",onClick:()=>o("/profile"),children:g!=null&&g.profile_image?e.jsx("img",{src:g.profile_image,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(st,{size:24,className:"text-white/60"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm",children:(g==null?void 0:g.name)||""}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl font-bold",children:Ce.name}),e.jsx("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded-full",children:Ce.label})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/70 text-xs mb-1",children:" "}),e.jsxs("p",{className:"text-2xl font-bold",children:[Pe,""]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-white/70 text-xs mb-1",children:" "}),e.jsxs("p",{className:"text-2xl font-bold",children:[Re.completed,""]})]})]})]})}),e.jsxs("div",{className:"mx-5 mt-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:" "}),e.jsxs("button",{onClick:()=>o("/my/applications"),className:"text-sm text-violet-600 font-medium flex items-center gap-1",children:[" ",e.jsx(et,{size:16})]})]}),e.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>o("/my/applications"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Re.pending}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsx("div",{className:"text-gray-300",children:e.jsx(Ct,{size:16})}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("p",{className:"text-2xl font-bold text-violet-600",children:Re.approved}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsx("div",{className:"text-gray-300",children:e.jsx(Ct,{size:16})}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-500",children:Re.inProgress}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsx("div",{className:"text-gray-300",children:e.jsx(Ct,{size:16})}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("p",{className:"text-2xl font-bold text-emerald-500",children:Re.completed}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]})]})})]}),e.jsx("div",{className:"mx-5 mt-5",children:e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(uo,{size:20,className:"text-violet-600"}),e.jsx("span",{className:"font-bold text-gray-900",children:" "})]}),e.jsx("p",{className:"text-2xl font-bold text-violet-600",children:ee((g==null?void 0:g.points)||0)})]}),e.jsx("button",{onClick:()=>C("points"),className:"w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold text-sm hover:bg-gray-200 transition-colors",children:" "})]})}),e.jsxs("div",{className:"mx-5 mt-6",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-2 px-1",children:" "}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[e.jsxs("button",{onClick:()=>o("/guide"),className:"w-full px-4 py-4 flex items-center justify-between border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 bg-purple-100 rounded-xl flex items-center justify-center",children:e.jsx(La,{size:18,className:"text-purple-600"})}),e.jsx("span",{className:"text-[15px] text-gray-900",children:" "})]}),e.jsx(et,{size:18,className:"text-gray-300"})]}),e.jsxs("button",{onClick:()=>o("/my/applications"),className:"w-full px-4 py-4 flex items-center justify-between border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 bg-violet-100 rounded-xl flex items-center justify-center",children:e.jsx(it,{size:18,className:"text-violet-600"})}),e.jsx("span",{className:"text-[15px] text-gray-900",children:" "})]}),e.jsx(et,{size:18,className:"text-gray-300"})]}),e.jsxs("button",{onClick:()=>{C("wishlist"),ce()},className:"w-full px-4 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 bg-red-100 rounded-xl flex items-center justify-center",children:e.jsx(Ai,{size:18,className:"text-red-500"})}),e.jsx("span",{className:"text-[15px] text-gray-900",children:" "})]}),e.jsx(et,{size:18,className:"text-gray-300"})]})]})]}),fe===5&&e.jsxs("div",{className:"mx-5 mt-6",children:[e.jsxs("p",{className:"text-xs text-amber-600 font-medium mb-2 px-1 flex items-center gap-1",children:[e.jsx(ka,{size:12}),"MUSE  "]}),e.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl shadow-sm overflow-hidden border border-amber-200",children:e.jsxs("button",{onClick:()=>o("/my/ai-guide"),className:"w-full px-4 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl flex items-center justify-center",children:e.jsx(bt,{size:18,className:"text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"text-[15px] text-gray-900 font-medium block",children:"AI  "}),e.jsx("span",{className:"text-xs text-amber-600",children:" ,  ,  "})]})]}),e.jsx(et,{size:18,className:"text-amber-400"})]})})]}),e.jsxs("div",{className:"mx-5 mt-6",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-2 px-1",children:"  "}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[e.jsxs("button",{onClick:()=>o("/profile"),className:"w-full px-4 py-4 flex items-center justify-between border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx(st,{size:18,className:"text-blue-600"})}),e.jsx("span",{className:"text-[15px] text-gray-900",children:" "})]}),e.jsx(et,{size:18,className:"text-gray-300"})]}),e.jsxs("button",{onClick:()=>C("account"),className:"w-full px-4 py-4 flex items-center justify-between border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 bg-emerald-100 rounded-xl flex items-center justify-center",children:e.jsx(Ti,{size:18,className:"text-emerald-600"})}),e.jsx("span",{className:"text-[15px] text-gray-900",children:"  "})]}),e.jsx(et,{size:18,className:"text-gray-300"})]}),e.jsxs("button",{onClick:()=>o("/settings/notifications"),className:"w-full px-4 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 bg-pink-100 rounded-xl flex items-center justify-center",children:e.jsx(xo,{size:18,className:"text-pink-500"})}),e.jsx("span",{className:"text-[15px] text-gray-900",children:" "})]}),e.jsx(et,{size:18,className:"text-gray-300"})]})]})]}),e.jsxs("div",{className:"mx-5 mt-6 mb-8",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-2 px-1",children:""}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[e.jsxs("button",{onClick:()=>window.open("https://pf.kakao.com/_TjhGG","_blank"),className:"w-full px-4 py-4 flex items-center justify-between border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 bg-gray-100 rounded-xl flex items-center justify-center",children:e.jsx(ag,{size:18,className:"text-gray-600"})}),e.jsx("span",{className:"text-[15px] text-gray-900",children:""})]}),e.jsx(et,{size:18,className:"text-gray-300"})]}),e.jsxs("button",{onClick:E,className:"w-full px-4 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 bg-red-50 rounded-xl flex items-center justify-center",children:e.jsx(Ui,{size:18,className:"text-red-400"})}),e.jsx("span",{className:"text-[15px] text-gray-900",children:""})]}),e.jsx(et,{size:18,className:"text-gray-300"})]})]})]})]}),k==="profile"&&H&&e.jsxs("div",{className:"px-5 pt-5 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>{C("dashboard"),y(!1)},className:"p-2 -ml-2",children:e.jsx(Ct,{size:20,className:"text-gray-700 rotate-180"})}),e.jsx("h2",{className:"font-bold text-lg",children:" "}),e.jsx("div",{className:"w-10"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:" "}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),e.jsx("input",{type:"text",value:G.name,onChange:I=>D({...G,name:I.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),e.jsx("input",{type:"tel",value:G.phone,onChange:I=>D({...G,phone:I.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),e.jsxs("select",{value:G.skin_type,onChange:I=>D({...G,skin_type:I.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",children:[e.jsx("option",{value:"",children:""}),["","","","",""].map(I=>e.jsx("option",{value:I,children:I},I))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),e.jsx("input",{type:"text",value:G.address,onChange:I=>D({...G,address:I.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:" "})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"SNS  ( 1)"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(zt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-500"}),e.jsx("input",{type:"url",value:G.instagram_url,onChange:I=>D({...G,instagram_url:I.target.value}),className:"w-full pl-12 pr-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:" URL"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(jt,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-red-500"}),e.jsx("input",{type:"url",value:G.youtube_url,onChange:I=>D({...G,youtube_url:I.target.value}),className:"w-full pl-12 pr-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:" URL"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ot,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-700"}),e.jsx("input",{type:"url",value:G.tiktok_url,onChange:I=>D({...G,tiktok_url:I.target.value}),className:"w-full pl-12 pr-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:" URL"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:" "}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),e.jsxs("select",{value:G.bank_name,onChange:I=>D({...G,bank_name:I.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",children:[e.jsx("option",{value:"",children:" "}),V.map(I=>e.jsx("option",{value:I,children:I},I))]})]}),e.jsx("input",{type:"text",value:G.account_number,onChange:I=>D({...G,account_number:I.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:" ('-' )"}),e.jsx("input",{type:"text",value:G.account_holder,onChange:I=>D({...G,account_holder:I.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:""})]})]}),e.jsx("button",{onClick:q,disabled:b,className:"w-full py-4 bg-violet-600 text-white rounded-2xl font-bold text-base hover:bg-violet-700 disabled:opacity-50 transition-colors",children:b?" ...":" "})]}),k==="applications"&&e.jsxs("div",{className:"px-5 pt-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>C("dashboard"),className:"p-2 -ml-2",children:e.jsx(Ct,{size:20,className:"text-gray-700 rotate-180"})}),e.jsx("h2",{className:"font-bold text-lg",children:" "}),e.jsx("div",{className:"w-10"})]}),e.jsx("div",{className:"space-y-3",children:_.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl",children:[e.jsx(it,{size:40,className:"mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-gray-500",children:"   "})]}):_.map((I,ke)=>{var cs,Qt,dt,ks,wt;const Xe={pending:{color:"bg-yellow-100 text-yellow-700",label:""},approved:{color:"bg-green-100 text-green-700",label:""},selected:{color:"bg-blue-100 text-blue-700",label:""},virtual_selected:{color:"bg-blue-100 text-blue-700",label:""},rejected:{color:"bg-red-100 text-red-700",label:""},filming:{color:"bg-orange-100 text-orange-700",label:""},video_submitted:{color:"bg-purple-100 text-purple-700",label:""},completed:{color:"bg-gray-100 text-gray-700",label:""},paid:{color:"bg-green-100 text-green-700",label:""}}[I.status]||{color:"bg-gray-100 text-gray-600",label:I.status},gs=["approved","selected","virtual_selected","filming","video_submitted","sns_uploaded","completed","paid"].includes(I.status)?Ae(I):null;return e.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[e.jsxs("div",{className:"flex gap-3",children:[(cs=I.campaigns)!=null&&cs.image_url?e.jsx("img",{src:I.campaigns.image_url,alt:"",className:"w-16 h-16 rounded-xl object-cover flex-shrink-0"}):e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-xl flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-bold text-gray-900 text-sm truncate",children:(Qt=I.campaigns)==null?void 0:Qt.title}),e.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:(dt=I.campaigns)==null?void 0:dt.brand}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${Xe.color}`,children:Xe.label}),e.jsx("span",{className:"text-[10px] text-gray-400",children:new Date(I.created_at).toLocaleDateString("ko-KR")})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-bold text-gray-900",children:ee(((ks=I.campaigns)==null?void 0:ks.creator_points_override)||((wt=I.campaigns)==null?void 0:wt.reward_points))})})]}),gs&&e.jsx("div",{className:"mt-3",children:e.jsxs("button",{onClick:()=>o("/my/applications"),className:`w-full py-2.5 rounded-xl text-xs font-bold flex items-center justify-center gap-1.5 transition-colors ${gs.type==="group"?"bg-violet-600 text-white hover:bg-violet-700":gs.type==="oliveyoung"?"bg-green-600 text-white hover:bg-green-700":gs.type==="4week_challenge"?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:[e.jsx(La,{size:14}),gs.type==="group"?`   (${gs.groupName})`:"  "]})})]},ke)})})]}),k==="points"&&e.jsxs("div",{className:"px-5 pt-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>C("dashboard"),className:"p-2 -ml-2",children:e.jsx(Ct,{size:20,className:"text-gray-700 rotate-180"})}),e.jsx("h2",{className:"font-bold text-lg",children:" / "}),e.jsx("div",{className:"w-10"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-violet-600 to-indigo-600 rounded-2xl p-5 text-white mb-4",children:[e.jsx("p",{className:"text-sm text-violet-200 mb-1",children:" "}),e.jsx("p",{className:"text-3xl font-bold",children:ee((g==null?void 0:g.points)||0)})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:" "}),g!=null&&g.bank_name&&(g!=null&&g.account_number)?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsxs("p",{className:"font-medium text-gray-900",children:[g.bank_name," ",g.account_number]}),e.jsx("p",{className:"text-sm text-gray-600",children:g.account_holder})]}),e.jsx("button",{onClick:()=>ie(!0),className:"w-full py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-black transition-colors",children:" "})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(Ti,{size:32,className:"mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-gray-500 text-sm mb-3",children:"   "}),e.jsx("button",{onClick:()=>C("account"),className:"px-4 py-2 bg-violet-600 text-white rounded-lg text-sm font-medium",children:" "})]})]})]}),k==="account"&&e.jsxs("div",{className:"px-5 pt-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>{C("dashboard"),me(!1),W("")},className:"p-2 -ml-2",children:e.jsx(Ct,{size:20,className:"text-gray-700 rotate-180"})}),e.jsx("h2",{className:"font-bold text-lg",children:" "}),e.jsx("div",{className:"w-10"})]}),e.jsx("div",{className:"bg-blue-50 rounded-xl p-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(yn,{size:18,className:"text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-blue-700",children:"      .      ."})]})}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),e.jsxs("select",{value:G.bank_name,onChange:I=>{D({...G,bank_name:I.target.value}),me(!1),W("")},disabled:L,className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500 disabled:opacity-50",children:[e.jsx("option",{value:"",children:" "}),V.map(I=>e.jsx("option",{value:I,children:I},I))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),e.jsx("input",{type:"text",value:G.account_number,onChange:I=>{D({...G,account_number:I.target.value.replace(/[^0-9]/g,"")}),me(!1),W("")},disabled:L,className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500 disabled:opacity-50",placeholder:"'-'   "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" *"}),e.jsx("input",{type:"text",value:G.account_holder,onChange:I=>{D({...G,account_holder:I.target.value}),me(!1),W("")},disabled:L,className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500 disabled:opacity-50",placeholder:"  "})]}),e.jsx("button",{onClick:F,disabled:L||!G.bank_name||!G.account_number||!G.account_holder,className:"w-full py-3 bg-gray-900 text-white rounded-xl font-medium text-sm hover:bg-black disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:L?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{size:16,className:"animate-spin"}),"  ..."]}):" "}),re&&S&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{size:18,className:"text-green-600"}),e.jsxs("span",{className:"font-medium text-green-700",children:["   - ",S]})]})}),e.jsx("button",{onClick:ye,disabled:b||!re,className:"w-full py-4 bg-violet-600 text-white rounded-2xl font-bold text-base hover:bg-violet-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?" ...":re?"  ":"    "})]}),(g==null?void 0:g.bank_name)&&(g==null?void 0:g.account_number)&&e.jsxs("div",{className:"mt-4 bg-gray-50 rounded-2xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"  "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pb,{size:16,className:"text-gray-400"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[g.bank_name," ",g.account_number]}),g.verified&&e.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:""})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[": ",g.account_holder]})]})]}),k==="wishlist"&&e.jsxs("div",{className:"px-5 pt-5 pb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>C("dashboard"),className:"p-2 -ml-2",children:e.jsx(Ct,{size:20,className:"text-gray-700 rotate-180"})}),e.jsx("h2",{className:"font-bold text-lg",children:" "}),e.jsx("div",{className:"w-10"})]}),ae?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-violet-600"})}):v.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl",children:[e.jsx(Ai,{size:48,className:"mx-auto mb-4 text-gray-200"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"  "}),e.jsx("p",{className:"text-sm text-gray-400",children:"    "}),e.jsx("button",{onClick:()=>o("/campaigns"),className:"mt-4 px-4 py-2 bg-violet-600 text-white rounded-xl text-sm font-medium",children:" "})]}):e.jsx("div",{className:"space-y-3",children:v.map(I=>{const ke=I.creator_points_override||I.reward_points||0;return e.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm flex gap-3 cursor-pointer active:bg-gray-50",onClick:()=>o(`/campaign/${I.id}`),children:[e.jsx("div",{className:"relative flex-shrink-0 w-20 h-20 rounded-xl overflow-hidden bg-gray-100",children:I.image_url?e.jsx("img",{src:I.image_url,alt:I.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Yt,{size:24,className:"text-gray-300"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm line-clamp-2 mb-1",children:I.title}),e.jsx("p",{className:"text-xs text-gray-400 mb-2",children:I.brand}),e.jsxs("p",{className:"text-base font-bold text-violet-600",children:[ke.toLocaleString(),"P"]})]}),e.jsx("button",{onClick:De=>{De.stopPropagation(),U(I.id)},className:"flex-shrink-0 w-8 h-8 flex items-center justify-center",children:e.jsx(Ai,{size:20,className:"text-red-500 fill-red-500"})})]},I.id)})})]}),$&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-end justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white w-full max-w-lg rounded-t-3xl p-6 animate-in slide-in-from-bottom",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:" "}),e.jsx("button",{onClick:()=>{ie(!1),M(""),X(""),T("")},className:"p-2 -mr-2",children:e.jsx(Fs,{size:24,className:"text-gray-400"})})]}),K&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-xl text-sm",children:K}),e.jsxs("div",{className:"bg-violet-50 rounded-xl p-4 mb-4",children:[e.jsx("p",{className:"text-sm text-violet-600 mb-1",children:"  "}),e.jsx("p",{className:"text-2xl font-bold text-violet-700",children:ee((g==null?void 0:g.points)||0)})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsxs("p",{className:"font-medium text-gray-900",children:[g==null?void 0:g.bank_name," ",g==null?void 0:g.account_number]}),e.jsx("p",{className:"text-sm text-gray-600",children:g==null?void 0:g.account_holder})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:be,onChange:I=>{const ke=I.target.value.replace(/[^0-9]/g,"");M(ke?parseInt(ke).toLocaleString("ko-KR"):"")},placeholder:" 10,000P",className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-lg font-medium focus:outline-none focus:ring-2 focus:ring-violet-500"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"P"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"*   : 10,000P"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(yn,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"password",name:"resident-number-field",id:"resident-number-field",value:le,onChange:I=>{const ke=I.target.value.replace(/[^0-9-]/g,"");ke.length===6&&!ke.includes("-")?X(ke+"-"):ke.length<=14&&X(ke)},placeholder:"000000-0000000",maxLength:14,autoComplete:"new-password",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false","data-lpignore":"true","data-form-type":"other","data-1p-ignore":"true",className:"w-full pl-12 pr-4 py-3 bg-gray-50 rounded-xl text-lg tracking-wider focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[e.jsx(yn,{size:12}),"   ,   "]})]}),e.jsx("div",{className:"bg-amber-50 rounded-xl p-4 mb-6",children:e.jsxs("p",{className:"text-xs text-amber-700 leading-relaxed",children:["      3~5  ",e.jsx("br",{})," (3.3%)   ",e.jsx("br",{}),"        "]})}),e.jsx("button",{onClick:we,disabled:B||!be||!le,className:"w-full py-4 bg-violet-600 text-white rounded-2xl font-bold text-base hover:bg-violet-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:B?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{size:20,className:"animate-spin"})," ..."]}):" "})]})})]})},ej=()=>{const i=Qe(),d=[{icon:es,title:"CNEC REELS",description:"    !    .",color:"bg-violet-500",iconBg:"bg-violet-100"},{icon:ka,title:"CNEC SELECT",description:"  !      .",color:"bg-amber-500",iconBg:"bg-amber-100"},{icon:lg,title:"CNEC LINK",description:"  !    .",color:"bg-blue-500",iconBg:"bg-blue-100"}];return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"px-5 py-6",children:e.jsx("img",{src:Cn,alt:"CNEC",className:"h-6"})}),e.jsxs("div",{className:"flex-1 px-5 pb-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-violet-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-5",children:e.jsx(bt,{size:36,className:"text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"!"}),e.jsx("p",{className:"text-gray-500",children:"  ."})]}),e.jsx("div",{className:"space-y-4 mb-8",children:d.map((o,m)=>e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 ${o.iconBg} rounded-xl flex items-center justify-center flex-shrink-0`,children:e.jsx(o.icon,{size:24,className:o.color.replace("bg-","text-")})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:o.title}),e.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:o.description})]})]},m))}),e.jsxs("div",{className:"bg-gradient-to-r from-violet-500 to-purple-600 rounded-2xl p-5 text-white mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Yt,{size:20}),e.jsx("span",{className:"font-bold",children:"  !"})]}),e.jsxs("p",{className:"text-sm text-white/90 leading-relaxed",children:["      ",e.jsx("span",{className:"font-bold",children:"+10%"}),"  !"]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"  "}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(Ee,{size:18,className:"text-green-500"}),e.jsx("span",{className:"text-gray-600",children:" "})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("div",{className:"w-[18px] h-[18px] border-2 border-gray-300 rounded-full"}),e.jsx("span",{className:"text-gray-400",children:"   (, )"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("div",{className:"w-[18px] h-[18px] border-2 border-gray-300 rounded-full"}),e.jsx("span",{className:"text-gray-400",children:"SNS  "})]})]})]})]}),e.jsx("div",{className:"p-5 pb-8 bg-white border-t border-gray-100",children:e.jsxs("button",{onClick:()=>i("/creator"),className:"w-full py-4 bg-gray-900 text-white rounded-2xl font-bold text-base flex items-center justify-center gap-2 hover:bg-black transition-colors",children:["",e.jsx(Ct,{size:18})]})})]})},sj=()=>{const{user:i}=xs(),d=Qe(),{isPCView:o,setExpandedContent:m}=qt(),[x,n]=h.useState(!0),[f,j]=h.useState(null),[g,z]=h.useState({brandTrustScore:0,contentQualityScore:0,professionalismScore:0,growthScore:0,contributionScore:0,totalScore:0}),[_,A]=h.useState({avgRating:null,deadlineRate:null,completedCampaigns:0}),[k,C]=h.useState(null),[b,J]=h.useState(null);h.useEffect(()=>{i&&K()},[i]);const K=async()=>{try{n(!0);const{data:y}=await se.from("user_profiles").select("*").eq("id",i.id).single();j(y);const{data:G,error:D}=await se.from("applications").select("*").eq("user_id",i.id);D&&console.error("Applications  :",D);let $=G||[];if($.length>0){const v=[...new Set($.map(R=>R.campaign_id).filter(Boolean))];if(v.length>0){const{data:R}=await se.from("campaigns").select("id, brand_id, content_submission_deadline").in("id",v);$=$.map(ae=>({...ae,campaigns:(R==null?void 0:R.find(Q=>Q.id===ae.campaign_id))||null}))}}const ie=($==null?void 0:$.filter(v=>v.status==="completed"||v.status==="paid"))||[],be=ie.map(v=>{var R;return(R=v.campaigns)==null?void 0:R.brand_id}).filter(Boolean),M=[...new Set(be)],le=M.filter(v=>be.filter(R=>R===v).length>=2),X=M.length>0?le.length/M.length*100:0,B=ie.length>0?95:null,ne=new Date,L=y!=null&&y.created_at?new Date(y.created_at):ne,ue=Math.max(1,Math.floor((ne-L)/(720*60*60*1e3))),re={completedCampaigns:ie.length,avgRating:(y==null?void 0:y.avg_rating)||null,recollabRate:X,guidelineRate:100,deadlineRate:B||100,avgResponseTime:(y==null?void 0:y.avg_response_time)||2,revisionCount:0,engagementRate:5,qualityScore:4,brandFeedback:4,followerGrowth:10,engagementChange:0,monthsActive:ue,communityActivity:0},me=pg(re);let S;y!=null&&y.cnec_grade_level&&Dt[y.cnec_grade_level]?S=Dt[y.cnec_grade_level]:S=fg(me.totalScore,ie.length,X);const W=bg(S,me.totalScore,ie.length);z(me),C({current:S,next:W}),A({avgRating:(y==null?void 0:y.avg_rating)||null,deadlineRate:B,completedCampaigns:ie.length})}catch(y){console.error("   :",y)}finally{n(!1)}},T=[{icon:"",tip:"     UP"},{icon:"",tip:"     UP"},{icon:"",tip:"    UP"},{icon:"",tip:"     !"}];if(h.useEffect(()=>{if(!o||!k){m(null);return}return m(e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"  "}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4",children:"  "}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-purple-600 mb-1",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-purple-700",children:g.brandTrustScore})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:g.contentQualityScore})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-green-600 mb-1",children:""}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:g.professionalismScore})]}),e.jsxs("div",{className:"bg-amber-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-amber-600 mb-1",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-amber-700",children:g.totalScore})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4",children:"  "}),e.jsx("div",{className:"space-y-3",children:Object.entries(Dt).map(([y,G])=>e.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl border ${Number(y)===((f==null?void 0:f.grade)||1)?"border-purple-300 bg-purple-50":"border-gray-100 bg-gray-50"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br ${G.bgGradient} flex items-center justify-center`,children:e.jsx(Ra,{size:16,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:G.name}),e.jsx("p",{className:"text-xs text-gray-500",children:G.label})]}),Number(y)===((f==null?void 0:f.grade)||1)&&e.jsx("span",{className:"text-xs font-bold text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:""})]},y))})]})]})),()=>m(null)},[o,k,g,f]),x)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-purple-600"})});const O=(k==null?void 0:k.current)||Dt[1],w=k==null?void 0:k.next,H=w?Math.min(100,g.totalScore/w.minScore*100):100;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center",children:[e.jsx("button",{onClick:()=>d("/mypage"),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full",children:e.jsx(Ks,{size:20,className:"text-gray-700"})}),e.jsx("h1",{className:"flex-1 text-center font-bold text-gray-900",children:" "}),e.jsx("div",{className:"w-10"})]})}),e.jsxs("div",{className:"max-w-md mx-auto px-5 py-6 space-y-6",children:[e.jsxs("div",{className:`bg-gradient-to-br ${O.bgGradient} rounded-3xl p-6 text-white relative overflow-hidden`,children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(bt,{size:16,className:"text-white/70"}),e.jsx("span",{className:"text-sm text-white/70",children:"Current Grade"})]}),e.jsx("h2",{className:"text-4xl font-extrabold mb-1",children:O.name}),e.jsx("p",{className:"text-white/70 text-sm mb-4",children:O.label}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-end justify-between mb-2",children:[e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("span",{className:"text-5xl font-extrabold",children:g.totalScore}),e.jsx("span",{className:"text-lg text-white/50 mb-2",children:"/ 100"})]}),w&&e.jsxs("span",{className:"text-sm text-white/80",children:["  ",e.jsxs("span",{className:"font-bold",children:[w.scoreGap,""]})]})]}),e.jsx("div",{className:"h-3 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white/80 rounded-full transition-all",style:{width:`${H}%`}})})]}),w&&e.jsx("div",{className:"bg-white/10 rounded-xl p-3",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-bold",children:w.name}),"  :",e.jsxs("span",{className:"ml-2",children:[w.minScore," "]}),e.jsx("span",{className:"mx-1",children:"+"}),e.jsxs("span",{children:[w.minCampaigns," "]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:" "}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(Ra,{size:20,className:"text-yellow-500"})}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:_.avgRating!==null?_.avgRating:"-"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" "})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(Lt,{size:20,className:"text-green-500"})}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:_.deadlineRate!==null?`${_.deadlineRate}%`:"-"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" "})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(Ee,{size:20,className:"text-blue-500"})}),e.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[_.completedCampaigns,""]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" "})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:" "}),e.jsx("div",{className:"space-y-2",children:Object.entries(Dt).map(([y,G])=>{const D=G.name===O.name,$=b===y;return e.jsxs("div",{className:`border rounded-xl overflow-hidden ${D?"border-purple-300 bg-purple-50":"border-gray-100"}`,children:[e.jsxs("button",{onClick:()=>J($?null:y),className:"w-full px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-sm",style:{backgroundColor:G.color},children:y}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-bold text-gray-900",children:G.name}),e.jsx("p",{className:"text-xs text-gray-500",children:G.label})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[D&&e.jsx("span",{className:"text-xs bg-purple-600 text-white px-2 py-0.5 rounded-full",children:""}),$?e.jsx(Oi,{size:18,className:"text-gray-400"}):e.jsx(Sa,{size:18,className:"text-gray-400"})]})]}),$&&e.jsx("div",{className:"px-4 pb-4 border-t border-gray-100 pt-3",children:e.jsx("div",{className:"text-sm",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(bt,{size:14,className:"text-purple-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-900",children:G.benefit})]})})})]},y)})})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ag,{size:18,className:"text-purple-600"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"   !"})]}),e.jsx("div",{className:"space-y-3",children:T.map((y,G)=>e.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-xl p-3",children:[e.jsx("span",{className:"text-xl",children:y.icon}),e.jsx("p",{className:"text-sm text-gray-700",children:y.tip})]},G))})]})]})]})},tj=()=>{const{user:i}=xs(),d=Qe(),{isPCView:o,setExpandedContent:m}=qt(),[x,n]=h.useState(!0),[f,j]=h.useState(null),[g,z]=h.useState({totalPoints:0,pendingPoints:0,withdrawablePoints:0}),[_,A]=h.useState("points"),[k,C]=h.useState([]),[b,J]=h.useState([]),[K,T]=h.useState(!1),[O,w]=h.useState(""),[H,y]=h.useState(""),[G,D]=h.useState(!1),[$,ie]=h.useState(!1),[be,M]=h.useState(""),[le,X]=h.useState("");h.useEffect(()=>{i&&B()},[i]);const B=async()=>{try{n(!0);const{data:me}=await se.from("user_profiles").select("*").eq("id",i.id).single();j({...me,account_number:(me==null?void 0:me.bank_account_number)||"",account_holder:(me==null?void 0:me.bank_account_holder)||""});const{data:S}=await se.from("applications").select("*").eq("user_id",i.id);let W=S||[];if(W.length>0){const q=[...new Set(W.map(F=>F.campaign_id).filter(Boolean))];if(q.length>0){const{data:F}=await se.from("campaigns").select("id, title, reward_points, creator_points_override").in("id",q);W=W.map(ye=>({...ye,campaigns:(F==null?void 0:F.find(ve=>ve.id===ye.campaign_id))||null}))}}const R=((W==null?void 0:W.filter(q=>q.status==="approved"||q.status==="selected"))||[]).reduce((q,F)=>{var ye,ve;return q+(((ye=F.campaigns)==null?void 0:ye.creator_points_override)||((ve=F.campaigns)==null?void 0:ve.reward_points)||0)},0),{data:ae}=await se.from("point_transactions").select("*").eq("user_id",i.id).eq("transaction_type","withdraw").order("created_at",{ascending:!1}),Q=0,V=(me==null?void 0:me.points)||0,P=Math.max(0,V-Q);z({totalPoints:V,pendingPoints:R,withdrawablePoints:P});const{data:ce}=await se.from("point_transactions").select("*").eq("user_id",i.id).order("created_at",{ascending:!1}).limit(50),U=(ce||[]).map(q=>({id:q.id,type:q.amount>0?"credit":"debit",amount:Math.abs(q.amount),description:q.description||(q.type==="earn"?" ":q.type==="withdraw"?"":q.type),date:q.created_at}));C(U),J(ae||[])}catch(me){console.error("   :",me)}finally{n(!1)}},ne=async(me,S,W,v)=>{try{const ae=await(await fetch("/.netlify/functions/send-alimtalk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateCode:me,receiverNum:S.replace(/-/g,""),receiverName:W,variables:v})})).json();return console.log("  :",ae),ae}catch(R){return console.error("  :",R),{success:!1,error:R.message}}},L=async()=>{var W;const me=parseInt(O);if(!me||me<=0){M("  ");return}if(me<1e4){M("   10,000");return}if(me>g.withdrawablePoints){M("   ");return}try{const{data:v,error:R}=await se.from("user_profiles").select("points").eq("id",i.id).single();if(R){M("  .  .");return}const ae=(v==null?void 0:v.points)||0;if(me>ae){M(`  .  : ${ae.toLocaleString()}`),z(Q=>({...Q,totalPoints:ae,withdrawablePoints:ae}));return}}catch{M("    .");return}if(!(f!=null&&f.bank_name)||!(f!=null&&f.account_number)){M("   ");return}if(!H||!/^\d{6}-?\d{7}$/.test(H)){M("   (: 123456-1234567)");return}try{ie(!0),M("");const v="default-key-change-this",{data:R,error:ae}=await se.rpc("encrypt_resident_number",{resident_number:H.replace(/-/g,""),encryption_key:v});if(ae){console.error(" :",ae),M("    "),ie(!1);return}const Q=await Be.userPoints.requestWithdrawal({user_id:i.id,amount:me,bank_name:f.bank_name,bank_account_number:f.account_number,bank_account_holder:f.account_holder,resident_number_encrypted:R});if(!Q.success)throw new Error(((W=Q.error)==null?void 0:W.message)||"   ");try{const V=new Date,P=V.toISOString().split("T")[0];if(f!=null&&f.phone&&await ne("025100001019",f.phone,f.name||"",{:f.name||"",:me.toLocaleString(),:P}),f!=null&&f.email){const ce=V.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});await fetch("/.netlify/functions/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:f.email,subject:"[CNEC]    ",html:`
                <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
                  <h2 style="color: #1f2937;">  </h2>
                  <p>${f.name||""},   .</p>
                  <div style="background: #f3f4f6; padding: 20px; border-radius: 8px; margin: 20px 0;">
                    <p><strong> :</strong> ${me.toLocaleString()}</p>
                    <p><strong>:</strong> ${ce}</p>
                    <p><strong> :</strong> ${f.bank_name} ${f.account_number}</p>
                  </div>
                  <p>    .</p>
                  <p style="color: #6b7280;"> :  </p>
                  <p style="color: #6b7280;">: 1833-6025</p>
                </div>
              `})})}}catch(V){console.error("   (   ):",V)}X("  .   3-5  ."),T(!1),w(""),y(""),B(),setTimeout(()=>X(""),5e3)}catch(v){console.error("  :",v),M(v.message||"    ")}finally{ie(!1)}},ue=me=>me?`${me.toLocaleString()}`:"0",re=me=>me?new Date(me).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}):"";return h.useEffect(()=>{if(!o||!f){m(null);return}return m(e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-violet-50 rounded-2xl p-6 border border-violet-100",children:[e.jsx("p",{className:"text-sm text-violet-600 mb-2",children:" "}),e.jsxs("p",{className:"text-3xl font-bold text-violet-700",children:[(g.totalPoints||0).toLocaleString(),"P"]})]}),e.jsxs("div",{className:"bg-amber-50 rounded-2xl p-6 border border-amber-100",children:[e.jsx("p",{className:"text-sm text-amber-600 mb-2",children:" "}),e.jsxs("p",{className:"text-3xl font-bold text-amber-700",children:[(g.pendingPoints||0).toLocaleString(),"P"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-2xl p-6 border border-green-100",children:[e.jsx("p",{className:"text-sm text-green-600 mb-2",children:" "}),e.jsxs("p",{className:"text-3xl font-bold text-green-700",children:[(g.withdrawablePoints||0).toLocaleString(),"P"]})]})]}),k.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4",children:" "}),e.jsx("div",{className:"space-y-3",children:k.slice(0,20).map((me,S)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:me.description||me.campaign_title||""}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(me.created_at).toLocaleDateString("ko-KR")})]}),e.jsxs("span",{className:`text-sm font-bold ${me.amount>0?"text-green-600":"text-red-600"}`,children:[me.amount>0?"+":"",(me.amount||0).toLocaleString(),"P"]})]},S))})]}),b.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4",children:" "}),e.jsx("div",{className:"space-y-3",children:b.slice(0,10).map((me,S)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[(me.amount||0).toLocaleString(),"P "]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(me.created_at).toLocaleDateString("ko-KR")})]}),e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${getStatusBadge(me.status).color}`,children:getStatusBadge(me.status).label})]},S))})]})]})),()=>m(null)},[o,f,g,k,b]),x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-purple-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center",children:[e.jsx("button",{onClick:()=>d("/mypage"),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full",children:e.jsx(Ks,{size:20,className:"text-gray-700"})}),e.jsx("h1",{className:"flex-1 text-center font-bold text-gray-900",children:" / "}),e.jsx("div",{className:"w-10"})]})}),e.jsxs("div",{className:"max-w-md mx-auto px-5 py-6 space-y-5",children:[(be||le)&&e.jsx("div",{className:`p-4 rounded-xl text-sm font-medium ${be?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:be||le}),e.jsxs("div",{className:"bg-gradient-to-r from-violet-600 to-indigo-600 rounded-2xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(uo,{size:18}),e.jsx("span",{className:"text-sm text-violet-200",children:" "})]}),e.jsx("p",{className:"text-4xl font-bold mb-4",children:ue(g.totalPoints)}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white/10 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-violet-200 mb-1",children:" "}),e.jsx("p",{className:"text-lg font-bold",children:ue(g.pendingPoints)})]}),e.jsxs("div",{className:"bg-white/10 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-violet-200 mb-1",children:" "}),e.jsx("p",{className:"text-lg font-bold",children:ue(g.withdrawablePoints)})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:" "}),f!=null&&f.bank_name&&(f!=null&&f.account_number)?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsxs("p",{className:"font-medium text-gray-900",children:[f.bank_name," ",f.account_number]}),e.jsx("p",{className:"text-sm text-gray-600",children:f.account_holder})]}),e.jsx("button",{onClick:()=>d("/mypage",{state:{section:"account"}}),className:"text-sm text-violet-600 font-medium",children:""})]})}),e.jsx("button",{onClick:()=>T(!0),disabled:g.withdrawablePoints<=0,className:"w-full py-3.5 bg-gray-900 text-white rounded-xl font-bold hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:" "})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(Ti,{size:36,className:"mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"   "}),e.jsx("button",{onClick:()=>d("/mypage",{state:{section:"account"}}),className:"px-6 py-2.5 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700",children:" "})]})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1",children:[e.jsx("button",{onClick:()=>A("points"),className:`flex-1 py-2.5 text-sm font-medium rounded-lg transition-colors ${_==="points"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:" "}),e.jsx("button",{onClick:()=>A("withdrawals"),className:`flex-1 py-2.5 text-sm font-medium rounded-lg transition-colors ${_==="withdrawals"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:" "})]}),_==="points"&&e.jsx("div",{className:"space-y-3",children:k.length===0?e.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-sm",children:[e.jsx(Kl,{size:40,className:"mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-gray-500",children:"  "})]}):k.map((me,S)=>e.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${me.type==="credit"?"bg-green-100":"bg-red-100"}`,children:me.type==="credit"?e.jsx(fb,{size:18,className:"text-green-600"}):e.jsx(bb,{size:18,className:"text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:me.description}),e.jsx("p",{className:"text-xs text-gray-400",children:re(me.date)})]}),e.jsxs("p",{className:`font-bold ${me.type==="credit"?"text-green-600":"text-red-600"}`,children:[me.type==="credit"?"+":"-",ue(me.amount)]})]},S))}),_==="withdrawals"&&e.jsx("div",{className:"space-y-3",children:b.length===0?e.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-sm",children:[e.jsx(uo,{size:40,className:"mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-gray-500",children:"  "})]}):b.map((me,S)=>{const W=Math.abs(me.amount||0);return e.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded bg-green-100 text-green-700",children:""}),e.jsx("span",{className:"text-xs text-gray-400",children:re(me.created_at)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("p",{className:"text-sm text-gray-600 truncate max-w-[180px]",children:me.description||""})}),e.jsx("p",{className:"font-bold text-gray-900",children:ue(W)})]})]},S)})})]}),K&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-end justify-center",children:e.jsxs("div",{className:"w-full max-w-lg bg-white rounded-t-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:" "}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:O,onChange:me=>w(me.target.value),placeholder:"0",className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-lg font-bold text-right pr-12 focus:outline-none focus:ring-2 focus:ring-violet-500"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500",children:""})]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[" : ",ue(g.withdrawablePoints)]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsxs("p",{className:"font-medium text-gray-900",children:[f==null?void 0:f.bank_name," ",f==null?void 0:f.account_number]}),e.jsx("p",{className:"text-sm text-gray-600",children:f==null?void 0:f.account_holder})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:G?"text":"password",value:H,onChange:me=>{const S=me.target.value.replace(/[^0-9-]/g,"");S.length===6&&!S.includes("-")?y(S+"-"):S.length<=14&&y(S)},placeholder:"123456-1234567",maxLength:14,autoComplete:"new-password",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",name:"resident-number-field",id:"resident-number-points","data-lpignore":"true","data-form-type":"other","data-1p-ignore":"true",className:"w-full px-4 py-3 bg-gray-50 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500 pr-12"}),e.jsx("button",{type:"button",onClick:()=>D(!G),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:G?e.jsx(rg,{size:20}):e.jsx(lt,{size:20})})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"   ,   ."})]}),be&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-xl",children:be}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{T(!1),w(""),y(""),M("")},className:"flex-1 py-3.5 border border-gray-200 text-gray-700 rounded-xl font-bold",children:""}),e.jsx("button",{onClick:L,disabled:$,className:"flex-1 py-3.5 bg-violet-600 text-white rounded-xl font-bold disabled:opacity-50",children:$?" ...":""})]})]})})]})};function oo(i){return i?i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""}function aj(){const i=[];return document.querySelectorAll("style").forEach(d=>{i.push(d.outerHTML)}),document.querySelectorAll('link[rel="stylesheet"]').forEach(d=>{const o=d.cloneNode(!0);o.href=d.href,i.push(o.outerHTML)}),i.join(`
`)}const Vh={planned:"",oliveyoung:"","4week_challenge":"4 ",general:""},lj={instagram:" Instagram",youtube:" YouTube",tiktok:" TikTok"};function rj(i,d="",o={}){const{brand:m,campaignTitle:x,type:n,channel:f}=o,j=window.open("","_blank");if(!j){alert(" .   .");return}const g=aj(),z=i.innerHTML,_=n&&Vh[n]?`<span class="doc-badge">${Vh[n]}</span>`:"",A=f?`<span class="doc-badge">${lj[f.toLowerCase()]||oo(f)}</span>`:"",k=new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});j.document.write(`<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>${oo(d)}</title>
${g}
<style>
/* ===== Document PDF Styles ===== */
*, *::before, *::after {
  -webkit-print-color-adjust: exact !important;
  print-color-adjust: exact !important;
}

html, body {
  margin: 0;
  padding: 0;
  background: white !important;
  color: #1a1a1a;
  font-size: 14px;
  line-height: 1.6;
}

body {
  max-width: 680px;
  margin: 0 auto;
  padding: 40px 28px;
}

/* --- Document Header --- */
.doc-header {
  text-align: center;
  padding: 36px 28px 32px;
  margin-bottom: 28px;
  background: linear-gradient(135deg, #7c3aed 0%, #4338ca 100%) !important;
  border-radius: 20px;
  color: white;
}
.doc-header .doc-brand {
  font-size: 13px;
  font-weight: 500;
  opacity: 0.75;
  margin: 0 0 6px;
}
.doc-header h1 {
  font-size: 24px;
  font-weight: 800;
  margin: 0 0 4px;
  letter-spacing: -0.02em;
}
.doc-header .doc-campaign {
  font-size: 15px;
  font-weight: 600;
  opacity: 0.9;
  margin: 0;
}
.doc-header .doc-badges {
  margin-top: 16px;
  display: flex;
  justify-content: center;
  gap: 8px;
  flex-wrap: wrap;
}
.doc-header .doc-badge {
  display: inline-block;
  padding: 4px 14px;
  background: rgba(255,255,255,0.18) !important;
  border-radius: 10px;
  font-size: 12px;
  font-weight: 600;
}

/* --- Content Area --- */
.doc-content {
  overflow: visible !important;
  max-height: none !important;
}
.doc-content > * + * {
  margin-top: 1.5rem;
}
.doc-content > * {
  overflow: visible !important;
}

/* Hide interactive elements in print */
.doc-content button,
.doc-content [role="button"] {
  display: none !important;
}

/* Remove backdrop-blur (doesn't print well) */
.doc-content [class*="backdrop-blur"] {
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
}

/* --- Footer --- */
.doc-footer {
  margin-top: 40px;
  padding-top: 16px;
  border-top: 1px solid #e5e7eb;
  text-align: center;
  font-size: 11px;
  color: #9ca3af;
}

/* --- Print Settings --- */
@page {
  margin: 12mm 10mm;
  size: A4;
}

@media print {
  body { padding: 0; }
  .doc-header { break-after: avoid; }
  .doc-footer { break-before: avoid; }

  /* Avoid breaking inside content cards */
  [class*="rounded-2xl"],
  [class*="rounded-3xl"],
  [class*="rounded-xl"] {
    break-inside: avoid;
  }
}
</style>
</head>
<body>
  <div class="doc-header">
    ${m?`<p class="doc-brand">${oo(m)}</p>`:""}
    <h1> </h1>
    ${x?`<p class="doc-campaign">${oo(x)}</p>`:""}
    ${_||A?`<div class="doc-badges">${_}${A}</div>`:""}
  </div>

  <div class="doc-content">
    ${z}
  </div>

  <div class="doc-footer">
    ${k} 
  </div>

  <script>
    window.addEventListener('load', function() {
      setTimeout(function() { window.print(); }, 400);
    });
    window.addEventListener('afterprint', function() {
      window.close();
    });
  <\/script>
</body>
</html>`),j.document.close()}function Hh({guides:i,individualMessages:d,currentWeek:o,basicGuides:m,commonMessage:x}){const[n,f]=h.useState(o||"week1");if(!i)return null;let j=i;if(typeof i=="string")try{j=JSON.parse(i)}catch(C){return console.error("Failed to parse guides:",C),null}if(Array.isArray(j)){const C={};j.forEach((b,J)=>{C[`week${J+1}`]=b}),j=C}let g=m;if(typeof m=="string")try{g=JSON.parse(m)}catch{g=null}let z=d||{};if(typeof d=="string")try{z=JSON.parse(d)}catch{z={}}let _=j[n];const A=z[n],k=g==null?void 0:g[n];return typeof _=="string"&&k?_={ai_description:_,mission:k.mission,required_dialogue:k.required_dialogue,required_scenes:k.required_scenes,reference:k.reference,hashtags:k.hashtags||[]}:typeof _=="string"&&(_={ai_description:_}),_?e.jsxs("div",{className:"space-y-4",children:[x&&e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h5",{className:"text-sm font-bold text-blue-800",children:"    "})]}),e.jsx("div",{className:"bg-white rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:x})})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["week1","week2","week3","week4"].map((C,b)=>e.jsxs("button",{onClick:()=>f(C),className:`px-4 py-2 rounded-lg font-medium text-sm whitespace-nowrap transition-colors ${n===C?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[b+1,""]},C))}),A&&e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("h5",{className:"text-sm font-bold text-yellow-800",children:[" ",n.replace("week",""),"  "]})]}),e.jsx("div",{className:"bg-white rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:A})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),e.jsxs("h5",{className:"text-sm font-semibold text-purple-800",children:[" ",n.replace("week",""),"  "]})]}),e.jsxs("div",{className:"space-y-4",children:[_.ai_description&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-cyan-100 border-2 border-blue-300 rounded-lg p-4",children:[e.jsx("h6",{className:"text-sm font-semibold text-blue-800 mb-2",children:" AI  "}),e.jsx("p",{className:"text-sm text-blue-900 font-medium whitespace-pre-wrap",children:_.ai_description})]}),_.product_info&&e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-gray-800 mb-2",children:"  "}),e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:_.product_info})]}),_.mission&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-300 rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-purple-800 mb-2",children:"   "}),e.jsx("p",{className:"text-sm text-purple-900 font-medium whitespace-pre-wrap",children:_.mission})]}),_.required_dialogue&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-yellow-800 mb-2",children:"  "}),e.jsx("p",{className:"text-sm text-yellow-900 font-medium whitespace-pre-wrap",children:_.required_dialogue})]}),_.required_scenes&&e.jsxs("div",{className:"bg-green-50 border border-green-300 rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-green-800 mb-2",children:"   "}),e.jsx("p",{className:"text-sm text-green-900 whitespace-pre-wrap",children:_.required_scenes})]}),_.reference&&e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-gray-800 mb-2",children:"  "}),e.jsx("a",{href:_.reference,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline break-all",children:_.reference})]}),_.hashtags&&_.hashtags.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-gray-800 mb-2",children:"#  "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:_.hashtags.map((C,b)=>e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:["#",C.replace("#","")]},b))})]}),_.required_dialogues&&_.required_dialogues.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-gray-800 mb-2",children:"  "}),e.jsx("ul",{className:"space-y-2",children:_.required_dialogues.map((C,b)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-6 h-6 rounded-full bg-purple-500 text-white text-xs flex items-center justify-center mt-0.5 mr-2 flex-shrink-0",children:b+1}),e.jsx("span",{className:"text-sm text-gray-700 leading-relaxed",children:C})]},b))})]}),_.required_scenes&&Array.isArray(_.required_scenes)&&_.required_scenes.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-gray-800 mb-2",children:"   "}),e.jsx("ul",{className:"space-y-2",children:_.required_scenes.map((C,b)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-6 h-6 rounded-full bg-green-500 text-white text-xs flex items-center justify-center mt-0.5 mr-2 flex-shrink-0",children:b+1}),e.jsx("span",{className:"text-sm text-gray-700 leading-relaxed",children:C})]},b))})]}),_.cautions&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-amber-800 mb-2",children:" "}),e.jsx("p",{className:"text-sm text-amber-800 whitespace-pre-wrap",children:_.cautions})]}),_.reference_urls&&_.reference_urls.length>0&&_.reference_urls.some(C=>C)&&e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-gray-800 mb-2",children:"  "}),e.jsx("ul",{className:"space-y-2",children:_.reference_urls.filter(C=>C).map((C,b)=>e.jsx("li",{children:e.jsx("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline break-all",children:C})},b))})]})]})]})]}):null}const ml=({guideType:i,guideUrl:d,fileUrl:o,title:m,fileName:x,className:n=""})=>{const f=(g,z)=>{if(z){if(z.includes("docs.google.com/document"))return{label:"Google ",color:"bg-blue-600 hover:bg-blue-700"};if(z.includes("docs.google.com/spreadsheets")||z.includes("sheets.google.com"))return{label:"Google ",color:"bg-green-600 hover:bg-green-700"};if(z.includes("docs.google.com/presentation"))return{label:"Google ",color:"bg-yellow-600 hover:bg-yellow-700"}}switch(g){case"google_docs":return{label:"Google ",color:"bg-blue-600 hover:bg-blue-700"};case"google_sheets":return{label:"Google ",color:"bg-green-600 hover:bg-green-700"};case"google_slides":return{label:"Google ",color:"bg-yellow-600 hover:bg-yellow-700"};default:return{label:"Google ",color:"bg-blue-600 hover:bg-blue-700"}}},j=g=>g?g.includes("docs.google.com")||g.includes("sheets.google.com")||g.includes("drive.google.com"):!1;if(o){const g=i==="pdf"||(x==null?void 0:x.toLowerCase().endsWith(".pdf"))||o.toLowerCase().includes(".pdf"),z=x||m||(g?"PDF ":" ");return e.jsxs("div",{className:`bg-gray-50 border border-gray-200 rounded-xl p-4 ${n}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`w-10 h-10 ${g?"bg-red-100":"bg-blue-100"} rounded-lg flex items-center justify-center`,children:e.jsx(it,{size:20,className:g?"text-red-600":"text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:m||z}),x&&e.jsx("p",{className:"text-xs text-gray-500 truncate",children:x})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-2.5 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-black transition-colors flex items-center justify-center gap-2",children:[e.jsx(ns,{size:14}),""]}),e.jsxs("a",{href:o,download:x||(g?"guide.pdf":"guide"),className:`flex-1 py-2.5 ${g?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2`,children:[e.jsx(Sr,{size:14}),""]})]})]})}if(d&&(i!=null&&i.startsWith("google_")||j(d))){const g=f(i,d);return e.jsxs("div",{className:`bg-gray-50 border border-gray-200 rounded-xl p-4 ${n}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(jb,{size:20,className:"text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:m||g.label}),e.jsx("p",{className:"text-xs text-gray-500",children:g.label})]})]}),e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:`w-full py-2.5 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2 ${g.color}`,children:[e.jsx(ns,{size:14}),g.label," "]})]})}return d?e.jsxs("div",{className:`bg-gray-50 border border-gray-200 rounded-xl p-4 ${n}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-violet-100 rounded-lg flex items-center justify-center",children:e.jsx(ns,{size:20,className:"text-violet-600"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:m||" "})})]}),e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"w-full py-2.5 bg-violet-600 text-white rounded-lg text-sm font-medium hover:bg-violet-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(ns,{size:14})," "]})]}):null};function jr({guide:i,individualMessage:d}){if(!i)return null;let o=i;if(typeof i=="string")try{o=JSON.parse(i)}catch{o={text_guide:i}}return e.jsxs("div",{className:"space-y-4",children:[d&&e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h5",{className:"text-sm font-bold text-yellow-800",children:"  "})]}),e.jsx("div",{className:"bg-white rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:d})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),e.jsx("h5",{className:"text-sm font-semibold text-purple-800",children:"    "})]}),e.jsxs("div",{className:"space-y-4",children:[o.text_guide&&e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-gray-800 mb-2",children:"  "}),e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:o.text_guide})]}),o.product_info&&e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-gray-800 mb-2",children:"  "}),e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:o.product_info})]}),o.hashtags&&o.hashtags.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-gray-800 mb-2",children:"#  "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.hashtags.map((m,x)=>e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:["#",m.replace("#","")]},x))})]}),o.required_dialogues&&o.required_dialogues.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-gray-800 mb-2",children:"  "}),e.jsx("ul",{className:"space-y-2",children:o.required_dialogues.map((m,x)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-6 h-6 rounded-full bg-purple-500 text-white text-xs flex items-center justify-center mt-0.5 mr-2 flex-shrink-0",children:x+1}),e.jsx("span",{className:"text-sm text-gray-700 leading-relaxed",children:m})]},x))})]}),o.required_scenes&&o.required_scenes.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-gray-800 mb-2",children:"   "}),e.jsx("ul",{className:"space-y-2",children:o.required_scenes.map((m,x)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"inline-block w-6 h-6 rounded-full bg-green-500 text-white text-xs flex items-center justify-center mt-0.5 mr-2 flex-shrink-0",children:x+1}),e.jsx("span",{className:"text-sm text-gray-700 leading-relaxed",children:m})]},x))})]}),o.cautions&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-amber-800 mb-2",children:" "}),e.jsx("p",{className:"text-sm text-amber-800 whitespace-pre-wrap",children:o.cautions})]}),o.reference_urls&&o.reference_urls.length>0&&o.reference_urls.some(m=>m)&&e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("h6",{className:"text-sm font-semibold text-gray-800 mb-2",children:"  "}),e.jsx("ul",{className:"space-y-2",children:o.reference_urls.filter(m=>m).map((m,x)=>e.jsx("li",{children:e.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline break-all",children:m})},x))})]})]})]})]})}function nj({guide:i,campaign:d}){var K;const[o,m]=h.useState("essential");if(!i&&!d)return null;let x=i;if(typeof i=="string")try{x=JSON.parse(i)}catch{x=null}x=x||{};const n=x.shooting_scenes&&x.shooting_scenes.length>0,f=x.hookingPoint||x.coreMessage||x.missions,j={beforeAfter:"Before & After ",productCloseup:"   ",productTexture:"  ",storeVisit:"   ",weeklyReview:"7   ",priceInfo:"/  ",purchaseLink:"  "},g={competitorMention:"   ",exaggeratedClaims:" /  ",medicalMisrepresentation:"   ",priceOutOfSale:"     ",negativeExpression:"   ",other:""},z={"15sec":"15 ","30sec":"30 ","45sec":"45 ","60sec":"60 "},_={fast:" ",normal:"",slow:""},A=()=>x.missions?Object.entries(x.missions).filter(([T,O])=>O===!0).map(([T])=>j[T]||T):[],k=()=>{if(!x.prohibitions)return[];const T=Object.entries(x.prohibitions).filter(([O,w])=>w===!0&&O!=="other").map(([O])=>g[O]||O);return x.prohibitions.other&&x.prohibitionOtherText&&T.push(`: ${x.prohibitionOtherText}`),T},C=[{id:"essential",label:"  "},{id:"mission",label:"  "},{id:"prohibited",label:"  "},{id:"settings",label:"  "}],b=T=>{var O;switch(T){case"essential":return e.jsxs("div",{className:"space-y-4",children:[x.hookingPoint&&e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-semibold text-purple-800 mb-2 flex items-center gap-2",children:[e.jsx("span",{children:""})," 1  "]}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:e.jsxs("p",{className:"text-base text-purple-900 font-medium",children:['"',x.hookingPoint,'"']})})]}),x.coreMessage&&e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm font-semibold text-indigo-800 mb-2 flex items-center gap-2",children:[e.jsx("span",{children:""}),"  "]}),e.jsx("div",{className:"bg-indigo-50 rounded-lg p-4 border border-indigo-200",children:e.jsx("p",{className:"text-sm text-indigo-900 leading-relaxed",children:x.coreMessage})})]}),!x.hookingPoint&&!x.coreMessage&&e.jsx("p",{className:"text-sm text-gray-500 italic",children:"    ."})]});case"mission":const w=A();return e.jsx("div",{className:"space-y-3",children:w.length>0?e.jsxs("div",{children:[e.jsx("h6",{className:"text-sm font-semibold text-green-800 mb-3",children:"    "}),e.jsx("ul",{className:"space-y-2",children:w.map((y,G)=>e.jsxs("li",{className:"flex items-center bg-green-50 rounded-lg p-3 border border-green-200",children:[e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-green-500 text-white text-xs font-bold mr-3",children:G+1}),e.jsx("span",{className:"text-sm text-green-900",children:y})]},G))})]}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"   ."})});case"prohibited":const H=k();return e.jsxs("div",{className:"space-y-3",children:[H.length>0?e.jsxs("div",{children:[e.jsx("h6",{className:"text-sm font-semibold text-red-800 mb-3",children:"     "}),e.jsx("ul",{className:"space-y-2",children:H.map((y,G)=>e.jsxs("li",{className:"flex items-center bg-red-50 rounded-lg p-3 border border-red-200",children:[e.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-500 mr-3"}),e.jsx("span",{className:"text-sm text-red-900",children:y})]},G))})]}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"   ."}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mt-4",children:[e.jsx("h6",{className:"text-sm font-semibold text-amber-800 mb-3",children:"   "}),e.jsxs("ol",{className:"space-y-2 list-decimal list-inside",children:[e.jsxs("li",{className:"text-sm text-amber-900",children:[e.jsx("span",{className:"font-medium",children:" :"}),"      ."]}),e.jsxs("li",{className:"text-sm text-amber-900",children:[e.jsx("span",{className:"font-medium",children:"  :"}),"       ."]}),e.jsxs("li",{className:"text-sm text-amber-900",children:[e.jsx("span",{className:"font-medium",children:" :"}),"     ."]})]})]})]});case"settings":return e.jsxs("div",{className:"space-y-4",children:[x.hashtags&&x.hashtags.filter(y=>y).length>0&&e.jsxs("div",{children:[e.jsx("h6",{className:"text-sm font-semibold text-blue-800 mb-2",children:" "}),e.jsx("div",{className:"flex flex-wrap gap-2 bg-blue-50 rounded-lg p-3 border border-blue-200",children:x.hashtags.filter(y=>y).map((y,G)=>e.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800 border border-blue-300",children:y.startsWith("#")?y:`#${y}`},G))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.videoLength&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 border border-purple-200",children:[e.jsx("h6",{className:"text-xs font-semibold text-purple-800 mb-1",children:"  "}),e.jsx("p",{className:"text-sm font-medium text-purple-900",children:z[x.videoLength]||x.videoLength})]}),x.videoTempo&&e.jsxs("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:[e.jsx("h6",{className:"text-xs font-semibold text-green-800 mb-1",children:"  "}),e.jsx("p",{className:"text-sm font-medium text-green-900",children:_[x.videoTempo]||x.videoTempo})]}),x.hasNarration!==void 0&&x.hasNarration!==null&&e.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 border border-orange-200",children:[e.jsx("h6",{className:"text-xs font-semibold text-orange-800 mb-1",children:" "}),e.jsx("p",{className:"text-sm font-medium text-orange-900",children:x.hasNarration?"":""})]}),x.needsPartnershipCode!==void 0&&x.needsPartnershipCode!==null&&e.jsxs("div",{className:"bg-pink-50 rounded-lg p-3 border border-pink-200",children:[e.jsx("h6",{className:"text-xs font-semibold text-pink-800 mb-1",children:"   "}),e.jsx("p",{className:"text-sm font-medium text-pink-900",children:x.needsPartnershipCode?"":""})]})]}),x.referenceUrl&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[e.jsx("h6",{className:"text-xs font-semibold text-gray-800 mb-1",children:"  "}),e.jsx("a",{href:x.referenceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline break-all",children:x.referenceUrl})]}),!((O=x.hashtags)!=null&&O.filter(y=>y).length)&&!x.videoLength&&!x.videoTempo&&x.hasNarration===void 0&&!x.referenceUrl&&e.jsx("p",{className:"text-sm text-gray-500 italic",children:"   ."})]});default:return null}};return f||n||x.videoLength||((K=x.hashtags)==null?void 0:K.filter(T=>T).length)>0?e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-200 rounded-lg p-3 md:p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),e.jsx("h5",{className:"text-sm font-semibold text-purple-800",children:"  "})]}),e.jsx("p",{className:"text-xs text-purple-700 mb-4",children:"     .     ."}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4",children:C.map(T=>e.jsx("button",{onClick:()=>m(T.id),className:`px-3 py-2.5 text-xs md:text-sm font-medium rounded-lg transition-all ${o===T.id?"bg-purple-600 text-white shadow-md":"bg-white text-gray-700 border border-purple-200 hover:bg-purple-50 hover:border-purple-400"}`,children:T.label},T.id))}),e.jsx("div",{className:"bg-white rounded-lg p-3 md:p-4",children:b(o)})]}):null}const vr=i=>i==null?"":typeof i=="string"?i:typeof i=="number"||typeof i=="boolean"?String(i):Array.isArray(i)?i.map(d=>vr(d)).join(`
 `):typeof i=="object"?Object.entries(i).map(([d,o])=>`${d}: ${vr(o)}`).join(`
`):String(i),po=({scenes:i})=>!i||!Array.isArray(i)||i.length===0?null:e.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-purple-50 to-violet-50 border border-purple-100 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"bg-purple-600 p-1.5 rounded-lg",children:e.jsx(es,{size:14,className:"text-white"})}),e.jsx("span",{className:"font-bold text-purple-900 text-sm",children:"  "}),e.jsxs("span",{className:"ml-auto text-xs text-purple-600 font-medium bg-purple-100 px-2 py-0.5 rounded-full",children:[i.length,""]})]}),e.jsx("div",{className:"bg-red-50 border border-red-100 rounded-lg px-3 py-2 mb-4",children:e.jsx("p",{className:"text-xs text-red-600 font-medium leading-relaxed",children:"           !"})}),e.jsx("div",{className:"space-y-3",children:i.map((d,o)=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-purple-100",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-violet-600 px-3 py-2 flex items-center gap-2",children:[e.jsx("span",{className:"bg-white/20 text-white text-xs font-bold px-2 py-0.5 rounded",children:d.order||o+1}),e.jsx("span",{className:"text-white font-medium text-sm",children:d.scene_type||""})]}),e.jsxs("div",{className:"p-3 space-y-2.5",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-1",children:e.jsx("span",{className:"text-[10px] font-bold text-purple-600 bg-purple-50 px-1.5 py-0.5 rounded",children:" "})}),e.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:d.scene_description||"-"})]}),d.dialogue&&e.jsxs("div",{className:"bg-amber-50 rounded-lg p-2.5 border-l-3 border-amber-400",children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-1",children:e.jsx("span",{className:"text-[10px] font-bold text-amber-700 bg-amber-100 px-1.5 py-0.5 rounded",children:" /"})}),e.jsxs("p",{className:"text-sm text-amber-900 italic leading-relaxed",children:['"',d.dialogue,'"']})]}),d.shooting_tip&&e.jsxs("div",{className:"bg-emerald-50 rounded-lg p-2.5 border-l-3 border-emerald-400",children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-1",children:e.jsx("span",{className:"text-[10px] font-bold text-emerald-700 bg-emerald-100 px-1.5 py-0.5 rounded",children:"  "})}),e.jsx("p",{className:"text-sm text-emerald-800 leading-relaxed",children:d.shooting_tip})]}),d.flexibility_note&&e.jsxs("div",{className:"bg-orange-50 rounded-lg p-2.5 border-l-3 border-orange-400",children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-1",children:e.jsx("span",{className:"text-[10px] font-bold text-orange-700 bg-orange-100 px-1.5 py-0.5 rounded",children:"  "})}),e.jsx("p",{className:"text-sm text-orange-800 leading-relaxed",children:d.flexibility_note})]}),d.example_scenario&&e.jsxs("div",{className:"bg-violet-50 rounded-lg p-2.5 border-l-3 border-violet-400",children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-1",children:e.jsx("span",{className:"text-[10px] font-bold text-violet-700 bg-violet-100 px-1.5 py-0.5 rounded",children:" "})}),e.jsx("p",{className:"text-sm text-violet-800 leading-relaxed italic",children:d.example_scenario})]}),d.caption&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2.5 border-l-3 border-gray-300",children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-1",children:e.jsx("span",{className:"text-[10px] font-bold text-gray-600 bg-gray-200 px-1.5 py-0.5 rounded",children:" "})}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:d.caption})]})]})]},o))})]}),ij=({data:i})=>i?e.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-orange-50 to-amber-50 border border-orange-200 p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"bg-orange-500 p-1.5 rounded-lg",children:e.jsx(ft,{size:14,className:"text-white"})}),e.jsx("span",{className:"font-bold text-orange-900 text-sm",children:" "})]}),e.jsxs("div",{className:"space-y-3",children:[i.core_message&&e.jsxs("div",{className:"bg-white/60 rounded-xl p-3 border border-orange-100",children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-1.5",children:e.jsx("span",{className:"text-[10px] font-bold text-orange-600 bg-orange-100 px-1.5 py-0.5 rounded",children:"  "})}),e.jsx("p",{className:"text-sm text-orange-900 font-medium leading-relaxed",children:i.core_message})]}),i.authenticity_note&&e.jsxs("div",{className:"bg-white/60 rounded-xl p-3 border border-orange-100",children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-1.5",children:e.jsx("span",{className:"text-[10px] font-bold text-orange-600 bg-orange-100 px-1.5 py-0.5 rounded",children:"  "})}),e.jsx("p",{className:"text-sm text-orange-800 leading-relaxed",children:i.authenticity_note})]}),i.avoid&&Array.isArray(i.avoid)&&i.avoid.length>0&&e.jsxs("div",{className:"bg-red-50/80 rounded-xl p-3 border border-red-100",children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:e.jsx("span",{className:"text-[10px] font-bold text-red-600 bg-red-100 px-1.5 py-0.5 rounded",children:"   "})}),e.jsx("ul",{className:"space-y-1.5",children:i.avoid.map((d,o)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-red-700",children:[e.jsx(Fs,{size:14,className:"text-red-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:d})]},o))})]})]})]}):null,cj=({data:i})=>i?e.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-blue-50 to-sky-50 border border-blue-200 p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"bg-blue-500 p-1.5 rounded-lg",children:e.jsx(la,{size:14,className:"text-white"})}),e.jsx("span",{className:"font-bold text-blue-900 text-sm",children:" "})]}),e.jsxs("div",{className:"space-y-3",children:[i.narrative_type&&e.jsxs("div",{className:"bg-white/60 rounded-xl p-3 border border-blue-100",children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-1.5",children:e.jsx("span",{className:"text-[10px] font-bold text-blue-600 bg-blue-100 px-1.5 py-0.5 rounded",children:"  "})}),e.jsx("p",{className:"text-sm text-blue-900 font-medium",children:i.narrative_type})]}),i.emotional_arc&&e.jsxs("div",{className:"bg-white/60 rounded-xl p-3 border border-blue-100",children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-1.5",children:e.jsx("span",{className:"text-[10px] font-bold text-blue-600 bg-blue-100 px-1.5 py-0.5 rounded",children:"  "})}),e.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:i.emotional_arc.split("").map((d,o,m)=>e.jsxs(Co.Fragment,{children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2.5 py-1 rounded-full text-xs font-medium",children:d.trim()}),o<m.length-1&&e.jsx(Ct,{size:14,className:"text-blue-400"})]},o))})]})]})]}):null,oj=({data:i})=>i?e.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-slate-50 to-gray-50 border border-slate-200 p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"bg-slate-600 p-1.5 rounded-lg",children:e.jsx(Ee,{size:14,className:"text-white"})}),e.jsx("span",{className:"font-bold text-slate-900 text-sm",children:" "})]}),e.jsxs("div",{className:"space-y-3",children:[i.do&&Array.isArray(i.do)&&i.do.length>0&&e.jsxs("div",{className:"bg-green-50 rounded-xl p-3 border border-green-200",children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:e.jsx("span",{className:"text-[10px] font-bold text-green-700 bg-green-200 px-1.5 py-0.5 rounded",children:"  "})}),e.jsx("ul",{className:"space-y-1.5",children:i.do.map((d,o)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-green-800",children:[e.jsx(Hl,{size:14,className:"text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:d})]},o))})]}),i.dont&&Array.isArray(i.dont)&&i.dont.length>0&&e.jsxs("div",{className:"bg-red-50 rounded-xl p-3 border border-red-200",children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:e.jsx("span",{className:"text-[10px] font-bold text-red-700 bg-red-200 px-1.5 py-0.5 rounded",children:"  "})}),e.jsx("ul",{className:"space-y-1.5",children:i.dont.map((d,o)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-red-800",children:[e.jsx(Mt,{size:14,className:"text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:d})]},o))})]}),i.exception&&e.jsxs("div",{className:"bg-yellow-50 rounded-xl p-3 border border-yellow-300",children:[e.jsx("div",{className:"flex items-center gap-1.5 mb-1.5",children:e.jsx("span",{className:"text-[10px] font-bold text-yellow-700 bg-yellow-200 px-1.5 py-0.5 rounded",children:"  "})}),e.jsx("p",{className:"text-sm text-yellow-800 font-medium",children:i.exception})]})]})]}):null,dj=({tips:i})=>!i||!Array.isArray(i)||i.length===0?null:e.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-cyan-50 to-teal-50 border border-cyan-200 p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"bg-cyan-500 p-1.5 rounded-lg",children:e.jsx(wn,{size:14,className:"text-white"})}),e.jsx("span",{className:"font-bold text-cyan-900 text-sm",children:" "}),e.jsxs("span",{className:"ml-auto text-xs text-cyan-600 font-medium bg-cyan-100 px-2 py-0.5 rounded-full",children:[i.length,""]})]}),e.jsx("div",{className:"space-y-2",children:i.map((d,o)=>e.jsxs("div",{className:"bg-white/60 rounded-xl p-3 border border-cyan-100 flex items-start gap-2",children:[e.jsx("span",{className:"bg-cyan-500 text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o+1}),e.jsx("p",{className:"text-sm text-cyan-900 leading-relaxed",children:d})]},o))})]}),Kh=({sectionKey:i,value:d,colorScheme:o})=>{const m={blue:{bg:"bg-blue-50",border:"border-blue-100",icon:"bg-blue-500",title:"text-blue-900",bullet:"bg-blue-400"},green:{bg:"bg-green-50",border:"border-green-100",icon:"bg-green-500",title:"text-green-900",bullet:"bg-green-400"},purple:{bg:"bg-purple-50",border:"border-purple-100",icon:"bg-purple-500",title:"text-purple-900",bullet:"bg-purple-400"},orange:{bg:"bg-orange-50",border:"border-orange-100",icon:"bg-orange-500",title:"text-orange-900",bullet:"bg-orange-400"}},x=m[o]||m.purple,f=vr(d).split(`
`).filter(j=>j.trim());return e.jsxs("div",{className:`relative group overflow-hidden rounded-3xl ${x.bg} border ${x.border} p-5`,children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:e.jsx(es,{size:80,className:"text-gray-900"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:`${x.icon} text-white p-1.5 rounded-lg shadow-sm`,children:e.jsx(Hl,{size:16,strokeWidth:3})}),e.jsx("span",{className:`font-bold ${x.title} text-base`,children:i})]}),e.jsx("ul",{className:"space-y-2.5",children:f.map((j,g)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 font-medium",children:[e.jsx("span",{className:`mt-1.5 w-1.5 h-1.5 ${x.bullet} rounded-full flex-shrink-0`}),e.jsx("span",{className:"whitespace-pre-wrap",children:j.replace(/^[\-]\s*/,"")})]},g))})]})]})},Yh=({guideData:i,additionalMessage:d,campaigns:o})=>{var n;if(!i)return null;const m=typeof i=="object"&&i!==null;if(m&&(i.type==="external_url"||i.type==="pdf"||((n=i.type)==null?void 0:n.startsWith("google_"))||"url"in i&&!i.hookingPoint&&!i.coreMessage||"fileUrl"in i&&!i.hookingPoint&&!i.coreMessage))return e.jsx(ml,{guideType:i.type,guideUrl:i.url,fileUrl:i.fileUrl,title:i.title||(o==null?void 0:o.external_guide_title),fileName:i.fileName||(o==null?void 0:o.external_guide_file_name)});if(m){const f=[{ai:"step1_ai",fallback:"step1",label:"1  ",card:"bg-green-50 border-green-100",icon:"bg-green-500",title:"text-green-900",bgIcon:"text-green-900"},{ai:"step2_ai",fallback:"step2",label:"2  ",card:"bg-blue-50 border-blue-100",icon:"bg-blue-500",title:"text-blue-900",bgIcon:"text-blue-900"},{ai:"step3_ai",fallback:"step3",label:"3  ",card:"bg-purple-50 border-purple-100",icon:"bg-purple-500",title:"text-purple-900",bgIcon:"text-purple-900"}];if(f.some(k=>i[k.ai]||i[k.fallback])){const k=[],C=f.flatMap(b=>[b.ai,b.fallback]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[f.map(b=>{const J=i[b.ai]||i[b.fallback];if(!J)return null;try{const K=typeof J=="string"?JSON.parse(J):J;K!=null&&K.shooting_scenes&&Array.isArray(K.shooting_scenes)&&k.push(...K.shooting_scenes)}catch{}return e.jsxs("div",{className:`relative overflow-hidden rounded-3xl ${b.card} border p-5`,children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:e.jsx(es,{size:80,className:b.bgIcon})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:`${b.icon} text-white p-1.5 rounded-lg shadow-sm`,children:e.jsx(la,{size:16,fill:"white"})}),e.jsx("span",{className:`font-bold ${b.title} text-base`,children:b.label})]}),e.jsx(jr,{guide:J})]})]},b.ai)}),k.length>0&&e.jsx(po,{scenes:k})]}),Object.entries(i).filter(([b])=>!C.includes(b)).map(([b,J])=>e.jsx(Kh,{sectionKey:b,value:J,colorScheme:"blue"},b)),d&&e.jsxs("div",{className:"rounded-3xl bg-yellow-50 border border-yellow-200 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"bg-yellow-500 text-white p-1.5 rounded-lg shadow-sm",children:e.jsx(Ts,{size:16,strokeWidth:3})}),e.jsx("span",{className:"font-bold text-yellow-900 text-base",children:" "})]}),e.jsx("p",{className:"text-sm text-yellow-800/80 font-medium",children:vr(d)})]})]})}const g=["content_philosophy","story_flow","authenticity_guidelines","creator_tips","shooting_scenes"],z=Object.entries(i),_=["blue","green","purple","orange"];let A=0;return e.jsxs(e.Fragment,{children:[i.content_philosophy&&e.jsx(ij,{data:i.content_philosophy}),i.story_flow&&e.jsx(cj,{data:i.story_flow}),i.authenticity_guidelines&&e.jsx(oj,{data:i.authenticity_guidelines}),i.creator_tips&&Array.isArray(i.creator_tips)&&e.jsx(dj,{tips:i.creator_tips}),i.shooting_scenes&&Array.isArray(i.shooting_scenes)&&e.jsx(po,{scenes:i.shooting_scenes}),z.filter(([k])=>!g.includes(k)).map(([k,C])=>{const b=_[A++%_.length];return e.jsx(Kh,{sectionKey:k,value:C,colorScheme:b},k)}),d&&e.jsxs("div",{className:"rounded-3xl bg-yellow-50 border border-yellow-200 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"bg-yellow-500 text-white p-1.5 rounded-lg shadow-sm",children:e.jsx(Ts,{size:16,strokeWidth:3})}),e.jsx("span",{className:"font-bold text-yellow-900 text-base",children:" "})]}),e.jsx("p",{className:"text-sm text-yellow-800/80 font-medium",children:vr(d)})]})]})}return e.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-purple-50 border border-purple-100 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"bg-purple-500 text-white p-1.5 rounded-lg shadow-sm",children:e.jsx(Hl,{size:16,strokeWidth:3})}),e.jsx("span",{className:"font-bold text-purple-900 text-base",children:" "})]}),e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:vr(i)})]})},mj=()=>{var ye,ve,de,Y,we,E,ee,ze,xe,Ae,Re,fe,Ce,Pe,I,ke,De,Xe,gs,cs,Qt,dt,ks,wt,_t,$i,Bi,Gi,Yl,Ql,Xl,za,Fl,ul,Vi;const{user:i}=xs(),d=Qe(),{isPCView:o,setExpandedContent:m}=qt(),[x,n]=h.useState(!0),[f,j]=h.useState([]),[g,z]=h.useState("all"),[_,A]=h.useState({all:0,pending:0,approved:0,inProgress:0,completed:0}),[k,C]=h.useState(!1),[b,J]=h.useState(null),K=h.useRef(null),[T,O]=h.useState(!1),[w,H]=h.useState(null),[y,G]=h.useState({sns_upload_url:"",notes:"",step1_url:"",step2_url:"",step3_url:"",step1_partnership_code:"",step2_partnership_code:"",step1_clean_video_file:null,step2_clean_video_file:null,week1_url:"",week2_url:"",week3_url:"",week4_url:"",week1_partnership_code:"",week2_partnership_code:"",week3_partnership_code:"",week4_partnership_code:"",week1_clean_video_file:null,week2_clean_video_file:null,week3_clean_video_file:null,week4_clean_video_file:null,partnership_code:"",clean_video_file:null,clean_video_url:""}),[D,$]=h.useState({}),[ie,be]=h.useState({}),[M,le]=h.useState(!1),[X,B]=h.useState(""),[ne,L]=h.useState(""),ue=[{id:"all",label:""},{id:"pending",label:""},{id:"approved",label:""},{id:"inProgress",label:""},{id:"completed",label:""}];h.useEffect(()=>{i&&me()},[i]),h.useEffect(()=>{var p,Oe,Me,us,Gs,Ss;if(!o){m(null);return}if(k&&b)m(e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-700 rounded-2xl p-6 text-white",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsxs("span",{className:"bg-white/20 px-2.5 py-0.5 rounded-md text-xs font-bold",children:[b.type==="planned"&&"",b.type==="oliveyoung"&&"",b.type==="4week_challenge"&&"4 ",b.type==="general"&&""]})}),e.jsx("h3",{className:"text-2xl font-extrabold mb-1",children:" "}),e.jsxs("p",{className:"text-white/70",children:[(p=b.campaigns)==null?void 0:p.brand," - ",(Oe=b.campaigns)==null?void 0:Oe.title]})]}),b.type==="planned"&&b.personalized_guide&&e.jsx("div",{className:"space-y-4",children:e.jsx(Yh,{guideData:b.personalized_guide,additionalMessage:b.additional_message,campaigns:b.campaigns})}),b.type==="oliveyoung"&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 space-y-4",children:[((Me=b.campaigns)==null?void 0:Me.oliveyoung_step1_guide_ai)&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-green-900 mb-3",children:"1  "}),e.jsx(jr,{guide:b.campaigns.oliveyoung_step1_guide_ai})]}),((us=b.campaigns)==null?void 0:us.oliveyoung_step2_guide_ai)&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-blue-900 mb-3",children:"2  "}),e.jsx(jr,{guide:b.campaigns.oliveyoung_step2_guide_ai})]}),((Gs=b.campaigns)==null?void 0:Gs.oliveyoung_step3_guide_ai)&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-purple-900 mb-3",children:"3  "}),e.jsx(jr,{guide:b.campaigns.oliveyoung_step3_guide_ai})]})]}),b.type==="4week_challenge"&&e.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:e.jsx(Hh,{guides:(Ss=b.campaigns)==null?void 0:Ss.challenge_weekly_guides_ai,commonMessage:b.additional_message})})]}));else if(f.length>0){const Us=f.filter(Ke=>["approved","selected"].includes(Ke.status)).length,Zs=f.filter(Ke=>Ke.status==="completed"||Ke.status==="sns_uploaded").length;m(e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:f.length}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" "})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:Us}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Zs}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:""})]})]})}))}else m(null);return()=>m(null)},[o,k,b,f]);const re=()=>{var p,Oe;if(K.current)try{const Me=K.current,us=((p=b.campaigns)==null?void 0:p.title)||"",Gs=((Oe=b.campaigns)==null?void 0:Oe.brand)||"",Ss=`${Gs?Gs+"_":""}${us}_`;rj(Me,Ss,{brand:Gs,campaignTitle:us,type:b.type,channel:b.main_channel})}catch(Me){console.error("PDF  :",Me)}},me=async()=>{try{n(!0);const{data:p,error:Oe}=await se.from("applications").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});Oe&&console.error("Applications  :",Oe);let Me=p||[];if(Me.length>0){const Ke=[...new Set(Me.map(Ms=>Ms.campaign_id).filter(Boolean))],rs=Me.map(Ms=>Ms.id).filter(Boolean);if(Ke.length>0){const{data:Ms,error:$s}=await se.from("campaigns").select("*").in("id",Ke);$s&&console.error("   :",$s);const{data:js,error:Rs}=await se.from("video_submissions").select("*").in("application_id",rs).order("created_at",{ascending:!1});Rs&&console.error("Video submissions  :",Rs);let na=[];const $a=(js||[]).map(kt=>kt.id).filter(Boolean);if($a.length>0){const{data:kt,error:Xt}=await se.from("video_review_comments").select("*").in("submission_id",$a);!Xt&&kt&&(na=kt)}const Cr=(js||[]).map(kt=>({...kt,video_review_comments:na.filter(Xt=>Xt.submission_id===kt.id)}));Me=Me.map(kt=>({...kt,campaigns:(Ms==null?void 0:Ms.find(Xt=>Xt.id===kt.campaign_id))||null,video_submissions:Cr.filter(Xt=>Xt.application_id===kt.id)}))}}j(Me);const us=(Me==null?void 0:Me.length)||0,Gs=(Me==null?void 0:Me.filter(Ke=>Ke.status==="pending").length)||0,Ss=(Me==null?void 0:Me.filter(Ke=>["approved","selected","virtual_selected"].includes(Ke.status)).length)||0,Us=(Me==null?void 0:Me.filter(Ke=>["filming","video_submitted","sns_uploaded"].includes(Ke.status)).length)||0,Zs=(Me==null?void 0:Me.filter(Ke=>["completed","paid"].includes(Ke.status)).length)||0;A({all:us,pending:Gs,approved:Ss,inProgress:Us,completed:Zs})}catch(p){console.error("   :",p)}finally{n(!1)}},S=()=>{switch(g){case"pending":return f.filter(p=>p.status==="pending");case"approved":return f.filter(p=>["approved","selected","virtual_selected"].includes(p.status));case"inProgress":return f.filter(p=>["filming","video_submitted","sns_uploaded"].includes(p.status));case"completed":return f.filter(p=>["completed","paid"].includes(p.status));default:return f}},W=p=>{switch(p){case"pending":return{label:" ",color:"bg-yellow-100 text-yellow-700",icon:Lt};case"approved":case"selected":return{label:"",color:"bg-green-100 text-green-700",icon:Ee};case"virtual_selected":return{label:"",color:"bg-blue-100 text-blue-700",icon:Ee};case"filming":return{label:" ",color:"bg-orange-100 text-orange-700",icon:Nr};case"video_submitted":return{label:" ",color:"bg-purple-100 text-purple-700",icon:St};case"completed":return{label:"",color:"bg-gray-100 text-gray-700",icon:Ee};case"paid":return{label:"",color:"bg-emerald-100 text-emerald-700",icon:Ee};case"rejected":return{label:"",color:"bg-red-100 text-red-700",icon:null};default:return{label:p,color:"bg-gray-100 text-gray-600",icon:null}}},v=p=>p?new Date(p).toLocaleDateString("ko-KR",{month:"short",day:"numeric"}):"",R=p=>{if(!p)return null;const Oe=new Date;Oe.setHours(0,0,0,0);const Me=new Date(p);Me.setHours(0,0,0,0);const us=Math.ceil((Me-Oe)/(1e3*60*60*24));return us<0?{text:"",urgent:!0}:us===0?{text:"D-Day",urgent:!0}:us<=3?{text:`D-${us}`,urgent:!0}:{text:`D-${us}`,urgent:!1}},ae=p=>p?`${p.toLocaleString()}`:"0",Q=(p,Oe="regular")=>{var Me;if(!((Me=p.campaigns)!=null&&Me.id)){alert("   .    .");return}switch(Oe){case"oliveyoung":d(`/submit-oliveyoung-video/${p.campaigns.id}?step=1`);break;case"4week":d(`/submit-4week-video/${p.campaigns.id}`);break;default:d(`/submit-video/${p.campaigns.id}`)}},V=async p=>{if(confirm("  ?"))try{const{error:Oe}=await se.from("applications").delete().eq("id",p).eq("user_id",i.id);if(Oe)throw Oe;alert(" ."),me()}catch(Oe){console.error("Error canceling application:",Oe),alert("  .")}},P=p=>{H(p),G({sns_upload_url:p.sns_upload_url||"",partnership_code:p.partnership_code||"",notes:p.notes||"",step1_url:p.step1_url||"",step2_url:p.step2_url||"",step3_url:p.step3_url||"",step1_partnership_code:p.step1_partnership_code||"",step2_partnership_code:p.step2_partnership_code||"",week1_url:p.week1_url||"",week2_url:p.week2_url||"",week3_url:p.week3_url||"",week4_url:p.week4_url||"",week1_partnership_code:p.week1_partnership_code||"",week2_partnership_code:p.week2_partnership_code||"",week3_partnership_code:p.week3_partnership_code||"",week4_partnership_code:p.week4_partnership_code||""}),B(""),O(!0)},ce=async(p,Oe="general")=>{try{$(rs=>({...rs,[Oe]:!0})),be(rs=>({...rs,[Oe]:0}));const{data:{user:Me}}=await se.auth.getUser();if(!Me)throw new Error(" .");const us=p.name.split(".").pop(),Ss=`videos/${`${Me.id}_${w.campaign_id}_clean_${Oe}_${Date.now()}.${us}`}`,{data:Us,error:Zs}=await se.storage.from("campaign-videos").upload(Ss,p,{cacheControl:"3600",upsert:!1,onUploadProgress:rs=>{const Ms=rs.loaded/rs.total*100;be($s=>({...$s,[Oe]:Math.round(Ms)}))}});if(Zs)throw Zs;be(rs=>({...rs,[Oe]:100}));const{data:Ke}=se.storage.from("campaign-videos").getPublicUrl(Ss);return Ke.publicUrl}catch(Me){throw console.error("  :",Me),Me}finally{$(Me=>({...Me,[Oe]:!1}))}},U=(p,Oe="general")=>{const Me=p.target.files[0];if(Me){if(Me.size>2*1024*1024*1024){B("  2GB  .");return}const us=Oe==="general"?"clean_video_file":`${Oe}_clean_video_file`;G(Gs=>({...Gs,[us]:Me})),B("")}},q=async()=>{var p,Oe,Me,us,Gs,Ss;try{le(!0),B("");const Us=((p=w==null?void 0:w.campaigns)==null?void 0:p.campaign_type)||"regular",Zs=(Oe=w==null?void 0:w.campaigns)==null?void 0:Oe.is_oliveyoung_sale;if(Us==="oliveyoung"||Zs){if(!y.step1_url||!y.step2_url||!y.step3_url){B("STEP 1, 2, 3 URL  ."),le(!1);return}if(!y.step1_partnership_code||!y.step2_partnership_code){B("  . (STEP 1, STEP 2)"),le(!1);return}if(!y.step1_clean_video_file){B("STEP 1  .      ."),le(!1);return}if(!y.step2_clean_video_file){B("STEP 2  .      ."),le(!1);return}}else if(Us==="4week_challenge"){if(!y.week1_url||!y.week2_url||!y.week3_url||!y.week4_url){B("Week 1, 2, 3, 4 URL  ."),le(!1);return}if(!y.week1_partnership_code||!y.week2_partnership_code||!y.week3_partnership_code||!y.week4_partnership_code){B(" Week   ."),le(!1);return}if(!y.week1_clean_video_file){B("Week 1  .      ."),le(!1);return}if(!y.week2_clean_video_file){B("Week 2  .      ."),le(!1);return}if(!y.week3_clean_video_file){B("Week 3  .      ."),le(!1);return}if(!y.week4_clean_video_file){B("Week 4  .      ."),le(!1);return}}else{if(!y.sns_upload_url){B("SNS  URL ."),le(!1);return}if(!y.partnership_code){B("( ) ."),le(!1);return}if(!y.clean_video_file&&!y.clean_video_url){B("(/   ) .      ."),le(!1);return}}let Ke={};try{Us==="oliveyoung"||Zs?(y.step1_clean_video_file&&(Ke.step1=await ce(y.step1_clean_video_file,"step1")),y.step2_clean_video_file&&(Ke.step2=await ce(y.step2_clean_video_file,"step2"))):Us==="4week_challenge"?(y.week1_clean_video_file&&(Ke.week1=await ce(y.week1_clean_video_file,"week1")),y.week2_clean_video_file&&(Ke.week2=await ce(y.week2_clean_video_file,"week2")),y.week3_clean_video_file&&(Ke.week3=await ce(y.week3_clean_video_file,"week3")),y.week4_clean_video_file&&(Ke.week4=await ce(y.week4_clean_video_file,"week4"))):y.clean_video_file&&(Ke.general=await ce(y.clean_video_file,"general"))}catch($s){B("    : "+$s.message),le(!1);return}let rs;Us==="oliveyoung"||Zs?rs={step1_url:y.step1_url,step2_url:y.step2_url,step3_url:y.step3_url,step1_partnership_code:y.step1_partnership_code||null,step2_partnership_code:y.step2_partnership_code||null,step1_clean_video_url:Ke.step1||null,step2_clean_video_url:Ke.step2||null,sns_upload_date:new Date().toISOString(),notes:y.notes||null,status:"sns_uploaded"}:Us==="4week_challenge"?rs={week1_url:y.week1_url,week2_url:y.week2_url,week3_url:y.week3_url,week4_url:y.week4_url,week1_video:y.week1_video||null,week2_video:y.week2_video||null,week3_video:y.week3_video||null,week4_video:y.week4_video||null,week1_partnership_code:y.week1_partnership_code||null,week2_partnership_code:y.week2_partnership_code||null,week3_partnership_code:y.week3_partnership_code||null,week4_partnership_code:y.week4_partnership_code||null,week1_clean_video_url:Ke.week1||null,week2_clean_video_url:Ke.week2||null,week3_clean_video_url:Ke.week3||null,week4_clean_video_url:Ke.week4||null,sns_upload_date:new Date().toISOString(),notes:y.notes||null,status:"sns_uploaded"}:rs={sns_upload_url:y.sns_upload_url,partnership_code:y.partnership_code||null,clean_video_url:Ke.general||y.clean_video_url||null,sns_upload_date:new Date().toISOString(),notes:y.notes||null,status:"sns_uploaded"};const{error:Ms}=await se.from("applications").update(rs).eq("id",w.id);if(Ms)throw Ms;try{const $s=((Me=w.campaigns)==null?void 0:Me.company_name)||"";let js=(us=w.campaigns)==null?void 0:us.company_phone;if(!js&&((Gs=w.campaigns)!=null&&Gs.company_id)){const{data:Rs}=await se.from("user_profiles").select("phone").eq("id",w.campaigns.company_id).single();js=Rs==null?void 0:Rs.phone}js?await fetch("/.netlify/functions/send-alimtalk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({receiverNum:js.replace(/-/g,""),receiverName:$s,templateCode:"025100001009",variables:{:$s,:((Ss=w.campaigns)==null?void 0:Ss.title)||""}})}):console.log("     .")}catch($s){console.error("  :",$s)}L("SNS  .     ."),O(!1),H(null),await me(),setTimeout(()=>L(""),5e3)}catch(Us){console.error("SNS  :",Us),B("SNS    .")}finally{le(!1)}},F=S();return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-purple-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center",children:[e.jsx("button",{onClick:()=>d("/"),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full",children:e.jsx(Ks,{size:20,className:"text-gray-700"})}),e.jsx("h1",{className:"flex-1 text-center font-bold text-gray-900",children:" "}),e.jsx("div",{className:"w-10"})]})}),e.jsxs("div",{className:"max-w-md mx-auto px-5 py-6 space-y-5",children:[e.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_.pending}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsx(Ct,{size:16,className:"text-gray-300"}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("p",{className:"text-2xl font-bold text-violet-600",children:_.approved}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsx(Ct,{size:16,className:"text-gray-300"}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-500",children:_.inProgress}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),e.jsx(Ct,{size:16,className:"text-gray-300"}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("p",{className:"text-2xl font-bold text-emerald-500",children:_.completed}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]})]})}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:ue.map(p=>e.jsxs("button",{onClick:()=>z(p.id),className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors ${g===p.id?"bg-gray-900 text-white":"bg-white text-gray-600 border border-gray-200"}`,children:[p.label,p.id!=="all"&&e.jsx("span",{className:"ml-1 opacity-70",children:_[p.id]})]},p.id))}),e.jsx("div",{className:"space-y-3",children:F.length===0?e.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-sm",children:[e.jsx(it,{size:40,className:"mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-gray-500",children:g==="all"?"   ":"   "})]}):F.map((p,Oe)=>{var Ke,rs,Ms,$s,js,Rs,na,$a,Cr,kt,Xt,hl,zr,Ba,Ga,gl,Va,Ys,En,An,Ea,Ha,Hi,Tn,Un,Ki,Zl,Jl,ia,Et,Mn,Yi,Er,Dn,Pl,Qi,At,Ar,Ln,Tr,Ka,qn,Rn,Ya,Xi,On,$n,Ur,Fi,Zi,Wl,ca,Mr,Dr,Qa,Xa,Bn,Lr,Gn,pl,oa,qr,fl,ja,Rr,Il,Vn,er,sr,Hn,mt,Aa,tr,bl,Ji,Or,$r,jl,ar,Kn,Pi,Wi,Ii,Br,ec,sc,tc;const Me=W(p.status);Me.icon;let us=(Ke=p.campaigns)==null?void 0:Ke.content_submission_deadline,Gs="",Ss=null;((rs=p.campaigns)==null?void 0:rs.campaign_type)==="4week_challenge"?(Ss=[{label:"1",date:(Ms=p.campaigns)==null?void 0:Ms.week1_deadline},{label:"2",date:($s=p.campaigns)==null?void 0:$s.week2_deadline},{label:"3",date:(js=p.campaigns)==null?void 0:js.week3_deadline},{label:"4",date:(Rs=p.campaigns)==null?void 0:Rs.week4_deadline}].filter(ls=>ls.date),us=null):(((na=p.campaigns)==null?void 0:na.campaign_type)==="oliveyoung"||($a=p.campaigns)!=null&&$a.is_oliveyoung_sale)&&(Ss=[{label:"1",date:(Cr=p.campaigns)==null?void 0:Cr.step1_deadline},{label:"2",date:(kt=p.campaigns)==null?void 0:kt.step2_deadline},{label:"3",date:(Xt=p.campaigns)==null?void 0:Xt.step3_deadline}].filter(ls=>ls.date),us=null);const Us=R(us||((hl=Ss==null?void 0:Ss[0])==null?void 0:hl.date)),Zs=((zr=p.campaigns)==null?void 0:zr.creator_points_override)||((Ba=p.campaigns)==null?void 0:Ba.reward_points);return e.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[e.jsxs("div",{className:"flex gap-3",children:[(Ga=p.campaigns)!=null&&Ga.image_url?e.jsx("img",{src:p.campaigns.image_url,alt:"",className:"w-20 h-20 rounded-xl object-cover flex-shrink-0"}):e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-xl flex-shrink-0 flex items-center justify-center",children:e.jsx(ft,{size:24,className:"text-gray-300"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${Me.color}`,children:Me.label}),Us&&e.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${Us.urgent?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:Us.text})]}),e.jsx("p",{className:"text-xs text-gray-400 mb-0.5",children:(gl=p.campaigns)==null?void 0:gl.brand}),e.jsx("p",{className:"font-bold text-gray-900 text-sm line-clamp-2 mb-1",children:(Va=p.campaigns)==null?void 0:Va.title}),!["pending","rejected","cancelled"].includes(p.status)&&p.main_channel&&e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx("span",{className:"text-[10px] text-gray-400",children:" :"}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold ${p.main_channel.toLowerCase()==="instagram"?"bg-pink-50 text-pink-600":p.main_channel.toLowerCase()==="youtube"?"bg-red-50 text-red-600":p.main_channel.toLowerCase()==="tiktok"?"bg-gray-100 text-gray-700":"bg-blue-50 text-blue-600"}`,children:[p.main_channel.toLowerCase()==="instagram"&&" Instagram",p.main_channel.toLowerCase()==="youtube"&&" YouTube",p.main_channel.toLowerCase()==="tiktok"&&" TikTok",!["instagram","youtube","tiktok"].includes(p.main_channel.toLowerCase())&&p.main_channel]})]}),!["pending","rejected","cancelled"].includes(p.status)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[Zs>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-emerald-50 text-emerald-700 rounded-full text-[10px] font-bold",children:[e.jsx(Yt,{size:10}),ae(Zs),"P"]}),us&&e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold ${Us!=null&&Us.urgent?"bg-red-50 text-red-600":"bg-gray-100 text-gray-600"}`,children:[e.jsx(Bs,{size:10}),Gs," ",v(us)]}),Ss&&Ss.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:Ss.map((ls,Ds)=>{const ys=R(ls.date);return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold ${ys!=null&&ys.urgent?"bg-red-50 text-red-600":"bg-gray-100 text-gray-600"}`,children:[ls.label," ",v(ls.date)]},Ds)})}),((Ys=p.campaigns)==null?void 0:Ys.product_shipping_date)&&["approved","selected","virtual_selected"].includes(p.status)&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-blue-600 rounded-full text-[10px] font-bold",children:[e.jsx(Gm,{size:10})," ",v(p.campaigns.product_shipping_date)]})]}),p.status==="pending"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-xs text-gray-400",children:[": ",v(p.created_at)]}),e.jsx("button",{onClick:ls=>{ls.stopPropagation(),V(p.id)},className:"text-xs text-red-500 hover:text-red-600 font-medium",children:""})]}),["approved","selected","virtual_selected"].includes(p.status)&&e.jsxs("p",{className:"text-xs text-gray-400",children:[": ",v(p.updated_at)]}),["completed","paid"].includes(p.status)&&e.jsxs("p",{className:"text-xs text-gray-400",children:[": ",v(p.updated_at)]}),["filming","video_submitted"].includes(p.status)&&e.jsxs("p",{className:"text-xs text-gray-400",children:[": ",v(((En=p.campaigns)==null?void 0:En.start_date)||p.updated_at)]})]})]}),["completed","paid","sns_uploaded"].includes(p.status)&&e.jsxs("div",{className:"mt-3 space-y-2",children:[p.video_submissions&&p.video_submissions.length>0&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(es,{size:14,className:"text-gray-600"}),e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:" "}),e.jsx("span",{className:"text-[10px] bg-gray-200 text-gray-600 px-1.5 py-0.5 rounded",children:""})]}),e.jsx("div",{className:"space-y-1",children:p.video_submissions.slice(0,1).map((ls,Ds)=>e.jsxs("a",{href:ls.video_file_url||ls.clean_video_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-blue-600 hover:text-blue-800",children:[e.jsx(ns,{size:12}),e.jsxs("span",{children:["V",ls.version||1,"  "]})]},Ds))})]}),(p.sns_upload_url||p.step1_url||p.week1_url)&&e.jsxs("div",{className:"bg-pink-50 border border-pink-200 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(St,{size:14,className:"text-pink-600"}),e.jsx("span",{className:"text-xs font-semibold text-pink-700",children:" SNS"}),e.jsx("span",{className:"text-[10px] bg-pink-200 text-pink-600 px-1.5 py-0.5 rounded",children:""})]}),e.jsxs("div",{className:"space-y-1",children:[p.sns_upload_url&&e.jsxs("a",{href:p.sns_upload_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-pink-600 hover:text-pink-800",children:[e.jsx(ns,{size:12}),e.jsx("span",{className:"truncate max-w-[200px]",children:p.sns_upload_url})]}),p.step1_url&&e.jsxs("a",{href:p.step1_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-pink-600 hover:text-pink-800",children:[e.jsx(ns,{size:12}),e.jsx("span",{children:"STEP 1 URL "})]}),p.step2_url&&e.jsxs("a",{href:p.step2_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-pink-600 hover:text-pink-800",children:[e.jsx(ns,{size:12}),e.jsx("span",{children:"STEP 2 URL "})]}),p.step3_url&&e.jsxs("a",{href:p.step3_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-pink-600 hover:text-pink-800",children:[e.jsx(ns,{size:12}),e.jsx("span",{children:"STEP 3 URL "})]}),p.week1_url&&e.jsxs("a",{href:p.week1_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-pink-600 hover:text-pink-800",children:[e.jsx(ns,{size:12}),e.jsx("span",{children:"Week 1 URL "})]}),p.week2_url&&e.jsxs("a",{href:p.week2_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-pink-600 hover:text-pink-800",children:[e.jsx(ns,{size:12}),e.jsx("span",{children:"Week 2 URL "})]}),p.week3_url&&e.jsxs("a",{href:p.week3_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-pink-600 hover:text-pink-800",children:[e.jsx(ns,{size:12}),e.jsx("span",{children:"Week 3 URL "})]}),p.week4_url&&e.jsxs("a",{href:p.week4_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-xs text-pink-600 hover:text-pink-800",children:[e.jsx(ns,{size:12}),e.jsx("span",{children:"Week 4 URL "})]})]}),(p.partnership_code||p.step1_partnership_code||p.week1_partnership_code)&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-pink-200 space-y-1",children:[p.partnership_code&&typeof p.partnership_code=="string"&&e.jsxs("span",{className:"text-[10px] text-pink-500",children:[": ",p.partnership_code]}),p.step1_partnership_code&&e.jsxs("div",{className:"text-[10px] text-pink-500",children:["STEP 1 : ",p.step1_partnership_code]}),p.step2_partnership_code&&e.jsxs("div",{className:"text-[10px] text-pink-500",children:["STEP 2 : ",p.step2_partnership_code]}),p.week1_partnership_code&&e.jsxs("div",{className:"text-[10px] text-pink-500",children:["Week 1 : ",p.week1_partnership_code]}),p.week2_partnership_code&&e.jsxs("div",{className:"text-[10px] text-pink-500",children:["Week 2 : ",p.week2_partnership_code]}),p.week3_partnership_code&&e.jsxs("div",{className:"text-[10px] text-pink-500",children:["Week 3 : ",p.week3_partnership_code]}),p.week4_partnership_code&&e.jsxs("div",{className:"text-[10px] text-pink-500",children:["Week 4 : ",p.week4_partnership_code]})]})]}),!p.sns_upload_url&&!p.step1_url&&!p.week1_url&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ts,{size:14,className:"text-yellow-600"}),e.jsx("span",{className:"text-xs font-semibold text-yellow-700",children:"SNS  "})]}),e.jsxs("button",{onClick:()=>P(p),className:"w-full py-2 bg-pink-600 text-white rounded-lg text-xs font-bold hover:bg-pink-700 flex items-center justify-center gap-1",children:[e.jsx(St,{size:12})," SNS "]})]})]}),["approved","selected","virtual_selected","filming","video_submitted","sns_uploaded","completed","paid"].includes(p.status)&&e.jsxs("div",{className:"mt-3 space-y-2",children:[(()=>{var ys;if(!p.guide_group||!((ys=p.campaigns)!=null&&ys.guide_group_data))return null;let ls=p.campaigns.guide_group_data;if(typeof ls=="string")try{ls=JSON.parse(ls)}catch{return null}const Ds=ls==null?void 0:ls[p.guide_group];return Ds?e.jsxs("div",{className:"bg-violet-50 border border-violet-200 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(La,{size:14,className:"text-violet-600"}),e.jsxs("span",{className:"text-xs font-semibold text-violet-900",children:["  (",p.guide_group,")"]})]}),typeof Ds=="string"&&(Ds.startsWith("http://")||Ds.startsWith("https://"))?e.jsxs("a",{href:Ds,target:"_blank",rel:"noopener noreferrer",className:"w-full py-2 bg-violet-600 text-white rounded-lg text-xs font-bold hover:bg-violet-700 flex items-center justify-center gap-1",children:[e.jsx(ns,{size:12}),"  "]}):typeof Ds=="object"&&Ds!==null?e.jsxs("button",{onClick:()=>{J({type:"planned",personalized_guide:Ds,additional_message:p.additional_message,campaigns:p.campaigns}),C(!0)},className:"w-full py-2 bg-violet-600 text-white rounded-lg text-xs font-bold hover:bg-violet-700 flex items-center justify-center gap-1",children:[e.jsx(lt,{size:12}),"   "]}):e.jsxs("button",{onClick:()=>{J({type:"planned",personalized_guide:Ds,additional_message:p.additional_message,campaigns:p.campaigns}),C(!0)},className:"w-full py-2 bg-violet-600 text-white rounded-lg text-xs font-bold hover:bg-violet-700 flex items-center justify-center gap-1",children:[e.jsx(lt,{size:12}),"   "]}),p.status==="filming"&&e.jsxs("button",{onClick:()=>Q(p),className:"w-full mt-2 py-2 bg-green-600 text-white rounded-lg text-xs font-bold hover:bg-green-700 flex items-center justify-center gap-1",children:[e.jsx(es,{size:12}),"  "]})]}):null})(),!p.guide_group&&((An=p.campaigns)==null?void 0:An.campaign_type)==="planned"&&e.jsxs(e.Fragment,{children:[((Ea=p.campaigns)==null?void 0:Ea.guide_delivery_mode)==="external"&&(((Ha=p.campaigns)==null?void 0:Ha.external_guide_url)||((Hi=p.campaigns)==null?void 0:Hi.external_guide_file_url))&&e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(La,{size:14,className:"text-purple-600"}),e.jsx("span",{className:"text-xs font-semibold text-purple-900",children:"  "})]}),e.jsx(ml,{guideType:p.campaigns.external_guide_type,guideUrl:p.campaigns.external_guide_url,fileUrl:p.campaigns.external_guide_file_url,title:p.campaigns.external_guide_title,fileName:p.campaigns.external_guide_file_name}),p.status==="filming"&&e.jsxs("button",{onClick:()=>Q(p),className:"w-full mt-2 py-2 bg-green-600 text-white rounded-lg text-xs font-bold hover:bg-green-700 flex items-center justify-center gap-1",children:[e.jsx(es,{size:12}),"  "]})]}),((Tn=p.campaigns)==null?void 0:Tn.guide_delivery_mode)!=="external"&&p.personalized_guide&&e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(La,{size:14,className:"text-purple-600"}),e.jsx("span",{className:"text-xs font-semibold text-purple-900",children:"  "})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>{let ls=p.personalized_guide;if(typeof ls=="string")try{ls=JSON.parse(ls)}catch{}J({type:"planned",personalized_guide:ls,additional_message:p.additional_message,campaigns:p.campaigns}),C(!0)},className:"flex-1 py-2 bg-purple-600 text-white rounded-lg text-xs font-bold hover:bg-purple-700 flex items-center justify-center gap-1",children:[e.jsx(lt,{size:12}),"  "]}),p.status==="filming"&&e.jsxs("button",{onClick:()=>Q(p),className:"flex-1 py-2 bg-green-600 text-white rounded-lg text-xs font-bold hover:bg-green-700 flex items-center justify-center gap-1",children:[e.jsx(es,{size:12}),"  "]})]})]})]}),!p.guide_group&&((Un=p.campaigns)==null?void 0:Un.campaign_type)==="oliveyoung"&&e.jsxs(e.Fragment,{children:[(((Ki=p.campaigns)==null?void 0:Ki.step1_guide_mode)==="external"||((Zl=p.campaigns)==null?void 0:Zl.step2_guide_mode)==="external"||((Jl=p.campaigns)==null?void 0:Jl.step3_guide_mode)==="external")&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(La,{size:14,className:"text-green-600"}),e.jsx("span",{className:"text-xs font-semibold text-green-900",children:"  "})]}),((ia=p.campaigns)==null?void 0:ia.step1_guide_mode)==="external"&&(((Et=p.campaigns)==null?void 0:Et.step1_external_url)||((Mn=p.campaigns)==null?void 0:Mn.step1_external_file_url))&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-green-800 mb-2",children:"STEP 1"}),e.jsx(ml,{guideType:p.campaigns.step1_external_type,guideUrl:p.campaigns.step1_external_url,fileUrl:p.campaigns.step1_external_file_url,title:p.campaigns.step1_external_title,fileName:p.campaigns.step1_external_file_name})]}),((Yi=p.campaigns)==null?void 0:Yi.step2_guide_mode)==="external"&&(((Er=p.campaigns)==null?void 0:Er.step2_external_url)||((Dn=p.campaigns)==null?void 0:Dn.step2_external_file_url))&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-green-800 mb-2",children:"STEP 2"}),e.jsx(ml,{guideType:p.campaigns.step2_external_type,guideUrl:p.campaigns.step2_external_url,fileUrl:p.campaigns.step2_external_file_url,title:p.campaigns.step2_external_title,fileName:p.campaigns.step2_external_file_name})]}),((Pl=p.campaigns)==null?void 0:Pl.step3_guide_mode)==="external"&&(((Qi=p.campaigns)==null?void 0:Qi.step3_external_url)||((At=p.campaigns)==null?void 0:At.step3_external_file_url))&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-green-800 mb-2",children:"STEP 3"}),e.jsx(ml,{guideType:p.campaigns.step3_external_type,guideUrl:p.campaigns.step3_external_url,fileUrl:p.campaigns.step3_external_file_url,title:p.campaigns.step3_external_title,fileName:p.campaigns.step3_external_file_name})]})]}),(((Ar=p.campaigns)==null?void 0:Ar.step1_guide_mode)!=="external"&&(((Ln=p.campaigns)==null?void 0:Ln.oliveyoung_step1_guide_ai)||((Tr=p.campaigns)==null?void 0:Tr.oliveyoung_step1_guide))||((Ka=p.campaigns)==null?void 0:Ka.step2_guide_mode)!=="external"&&(((qn=p.campaigns)==null?void 0:qn.oliveyoung_step2_guide_ai)||((Rn=p.campaigns)==null?void 0:Rn.oliveyoung_step2_guide))||((Ya=p.campaigns)==null?void 0:Ya.step3_guide_mode)!=="external"&&(((Xi=p.campaigns)==null?void 0:Xi.oliveyoung_step3_guide_ai)||((On=p.campaigns)==null?void 0:On.oliveyoung_step3_guide)))&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(La,{size:14,className:"text-green-600"}),e.jsx("span",{className:"text-xs font-semibold text-green-900",children:"  "})]}),e.jsxs("button",{onClick:()=>{J({type:"oliveyoung",campaigns:p.campaigns}),C(!0)},className:"w-full py-2 bg-green-600 text-white rounded-lg text-xs font-bold hover:bg-green-700 flex items-center justify-center gap-1",children:[e.jsx(lt,{size:12}),"  "]})]})]}),((($n=p.campaigns)==null?void 0:$n.campaign_type)==="oliveyoung"||((Ur=p.campaigns)==null?void 0:Ur.is_oliveyoung_sale))&&["filming","approved","selected","video_submitted","sns_uploaded","completed","paid"].includes(p.status)&&e.jsxs("button",{onClick:()=>Q(p,"oliveyoung"),className:"w-full py-2.5 bg-blue-600 text-white rounded-xl text-sm font-bold hover:bg-blue-700 transition-colors flex items-center justify-center gap-1",children:[e.jsx(es,{size:14})," ",["video_submitted","sns_uploaded","completed","paid"].includes(p.status)?" /":" "]}),(((Fi=p.campaigns)==null?void 0:Fi.campaign_type)==="oliveyoung"||((Zi=p.campaigns)==null?void 0:Zi.is_oliveyoung_sale))&&["filming","approved","selected","video_submitted","sns_uploaded","completed","paid"].includes(p.status)&&e.jsxs("button",{onClick:()=>P(p),className:"w-full py-2.5 bg-pink-600 text-white rounded-xl text-sm font-bold hover:bg-pink-700 transition-colors flex items-center justify-center gap-1",children:[e.jsx(St,{size:14})," ",p.step1_url?"SNS  ":"SNS   "," (3 URL +  2)"]}),!p.guide_group&&((Wl=p.campaigns)==null?void 0:Wl.campaign_type)==="4week_challenge"&&e.jsxs(e.Fragment,{children:[(((ca=p.campaigns)==null?void 0:ca.week1_guide_mode)==="external"||((Mr=p.campaigns)==null?void 0:Mr.week2_guide_mode)==="external"||((Dr=p.campaigns)==null?void 0:Dr.week3_guide_mode)==="external"||((Qa=p.campaigns)==null?void 0:Qa.week4_guide_mode)==="external")&&e.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(La,{size:14,className:"text-indigo-600"}),e.jsx("span",{className:"text-xs font-semibold text-indigo-900",children:"4  "})]}),((Xa=p.campaigns)==null?void 0:Xa.week1_guide_mode)==="external"&&(((Bn=p.campaigns)==null?void 0:Bn.week1_external_url)||((Lr=p.campaigns)==null?void 0:Lr.week1_external_file_url))&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-indigo-800 mb-2",children:"1"}),e.jsx(ml,{guideType:p.campaigns.week1_external_type,guideUrl:p.campaigns.week1_external_url,fileUrl:p.campaigns.week1_external_file_url,title:p.campaigns.week1_external_title,fileName:p.campaigns.week1_external_file_name})]}),((Gn=p.campaigns)==null?void 0:Gn.week2_guide_mode)==="external"&&(((pl=p.campaigns)==null?void 0:pl.week2_external_url)||((oa=p.campaigns)==null?void 0:oa.week2_external_file_url))&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-indigo-800 mb-2",children:"2"}),e.jsx(ml,{guideType:p.campaigns.week2_external_type,guideUrl:p.campaigns.week2_external_url,fileUrl:p.campaigns.week2_external_file_url,title:p.campaigns.week2_external_title,fileName:p.campaigns.week2_external_file_name})]}),((qr=p.campaigns)==null?void 0:qr.week3_guide_mode)==="external"&&(((fl=p.campaigns)==null?void 0:fl.week3_external_url)||((ja=p.campaigns)==null?void 0:ja.week3_external_file_url))&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-indigo-800 mb-2",children:"3"}),e.jsx(ml,{guideType:p.campaigns.week3_external_type,guideUrl:p.campaigns.week3_external_url,fileUrl:p.campaigns.week3_external_file_url,title:p.campaigns.week3_external_title,fileName:p.campaigns.week3_external_file_name})]}),((Rr=p.campaigns)==null?void 0:Rr.week4_guide_mode)==="external"&&(((Il=p.campaigns)==null?void 0:Il.week4_external_url)||((Vn=p.campaigns)==null?void 0:Vn.week4_external_file_url))&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-indigo-800 mb-2",children:"4"}),e.jsx(ml,{guideType:p.campaigns.week4_external_type,guideUrl:p.campaigns.week4_external_url,fileUrl:p.campaigns.week4_external_file_url,title:p.campaigns.week4_external_title,fileName:p.campaigns.week4_external_file_name})]})]}),((er=p.campaigns)==null?void 0:er.week1_guide_mode)!=="external"&&((sr=p.campaigns)==null?void 0:sr.week2_guide_mode)!=="external"&&((Hn=p.campaigns)==null?void 0:Hn.week3_guide_mode)!=="external"&&((mt=p.campaigns)==null?void 0:mt.week4_guide_mode)!=="external"&&((Aa=p.campaigns)==null?void 0:Aa.challenge_weekly_guides_ai)&&e.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(La,{size:14,className:"text-indigo-600"}),e.jsx("span",{className:"text-xs font-semibold text-indigo-900",children:"4  "})]}),e.jsxs("button",{onClick:()=>{J({type:"4week_challenge",campaigns:p.campaigns,additional_message:p.additional_message}),C(!0)},className:"w-full py-2 bg-indigo-600 text-white rounded-lg text-xs font-bold hover:bg-indigo-700 flex items-center justify-center gap-1",children:[e.jsx(lt,{size:12}),"  "]})]})]}),((tr=p.campaigns)==null?void 0:tr.campaign_type)==="4week_challenge"&&["filming","approved","selected","video_submitted","sns_uploaded","completed","paid"].includes(p.status)&&e.jsxs("button",{onClick:()=>Q(p,"4week"),className:"w-full py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 transition-colors flex items-center justify-center gap-1",children:[e.jsx(es,{size:14})," ",["video_submitted","sns_uploaded","completed","paid"].includes(p.status)?" /":" "]}),((bl=p.campaigns)==null?void 0:bl.campaign_type)==="4week_challenge"&&["filming","approved","selected","video_submitted","sns_uploaded","completed","paid"].includes(p.status)&&e.jsxs("button",{onClick:()=>P(p),className:"w-full py-2.5 bg-pink-600 text-white rounded-xl text-sm font-bold hover:bg-pink-700 transition-colors flex items-center justify-center gap-1",children:[e.jsx(St,{size:14})," ",p.week1_url?"SNS  ":"SNS   "," (4 URL +  4)"]}),["filming","video_submitted"].includes(p.status)&&((Ji=p.video_submissions)==null?void 0:Ji.filter(ls=>{var Ds;return((Ds=ls.video_review_comments)==null?void 0:Ds.length)>0}).length)>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full animate-pulse"}),e.jsx("h4",{className:"font-semibold text-red-900 text-sm",children:"    !"})]}),e.jsx("p",{className:"text-xs text-red-700 mb-3",children:"    .      ."}),e.jsx("div",{className:"space-y-2",children:(()=>{const ls=p.video_submissions.filter(ys=>{var ya;return((ya=ys.video_review_comments)==null?void 0:ya.length)>0}),Ds={};return ls.forEach(ys=>{const ya=ys.week_number?`week_${ys.week_number}`:ys.video_number?`video_${ys.video_number}`:"default";(!Ds[ya]||(ys.version||1)>(Ds[ya].version||1))&&(Ds[ya]=ys)}),Object.values(Ds).map((ys,ya)=>{var ac,Vr,lc;let Gr="";((ac=p.campaigns)==null?void 0:ac.campaign_type)==="4week_challenge"&&ys.week_number?Gr=`Week ${ys.week_number}`:(((Vr=p.campaigns)==null?void 0:Vr.campaign_type)==="oliveyoung"||(lc=p.campaigns)!=null&&lc.is_oliveyoung_sale)&&ys.video_number?Gr=`Video ${ys.video_number}`:Object.keys(Ds).length>1&&(Gr=` ${ya+1}`);const Uo=ys.version?` V${ys.version}`:"";return e.jsxs("button",{onClick:()=>{window.location.href=`/video-review/${ys.id}`},className:"w-full px-3 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold",children:[Gr,Uo,"    (",ys.video_review_comments.length,")"]},ys.id)})})()})]}),!p.guide_group&&!p.personalized_guide&&!((Or=p.campaigns)!=null&&Or.oliveyoung_step1_guide_ai)&&!(($r=p.campaigns)!=null&&$r.challenge_weekly_guides_ai)&&((jl=p.campaigns)==null?void 0:jl.ai_generated_guide)&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(La,{size:14,className:"text-gray-600"}),e.jsx("span",{className:"text-xs font-semibold text-gray-900",children:" "})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>{var ls;J({type:"general",ai_generated_guide:(ls=p.campaigns)==null?void 0:ls.ai_generated_guide,campaigns:p.campaigns}),C(!0)},className:"flex-1 py-2 bg-gray-700 text-white rounded-lg text-xs font-bold hover:bg-gray-800 flex items-center justify-center gap-1",children:[e.jsx(lt,{size:12}),"  "]}),p.status==="filming"&&e.jsxs("button",{onClick:()=>Q(p),className:"flex-1 py-2 bg-violet-600 text-white rounded-lg text-xs font-bold hover:bg-violet-700 flex items-center justify-center gap-1",children:[e.jsx(es,{size:12}),"  "]})]})]}),p.status==="filming"&&!p.guide_group&&!p.personalized_guide&&!((ar=p.campaigns)!=null&&ar.oliveyoung_step1_guide_ai)&&!((Kn=p.campaigns)!=null&&Kn.challenge_weekly_guides_ai)&&!((Pi=p.campaigns)!=null&&Pi.ai_generated_guide)&&e.jsxs("button",{onClick:()=>Q(p),className:"w-full py-2.5 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-colors flex items-center justify-center gap-1",children:[e.jsx(es,{size:14}),"  "]}),["video_submitted","sns_uploaded","completed","paid"].includes(p.status)&&((Wi=p.campaigns)==null?void 0:Wi.campaign_type)!=="oliveyoung"&&((Ii=p.campaigns)==null?void 0:Ii.campaign_type)!=="4week_challenge"&&!((Br=p.campaigns)!=null&&Br.is_oliveyoung_sale)&&e.jsxs("button",{onClick:()=>Q(p),className:"w-full py-2.5 bg-violet-600 text-white rounded-xl text-sm font-bold hover:bg-violet-700 transition-colors flex items-center justify-center gap-1",children:[e.jsx(es,{size:14}),"   "]}),((ec=p.campaigns)==null?void 0:ec.campaign_type)!=="oliveyoung"&&((sc=p.campaigns)==null?void 0:sc.campaign_type)!=="4week_challenge"&&!((tc=p.campaigns)!=null&&tc.is_oliveyoung_sale)&&["filming","approved","selected","video_submitted","sns_uploaded","completed","paid"].includes(p.status)&&e.jsxs("button",{onClick:()=>P(p),className:"w-full py-2.5 bg-pink-600 text-white rounded-xl text-sm font-bold hover:bg-pink-700 transition-colors flex items-center justify-center gap-1",children:[e.jsx(St,{size:14})," ",p.sns_upload_url?"SNS  ":"SNS   "," (1 URL +  1)"]})]})]},Oe)})})]}),k&&b&&e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-end sm:items-center justify-center",children:e.jsxs("div",{className:"bg-white w-full max-w-lg max-h-[90vh] overflow-hidden rounded-t-3xl sm:rounded-3xl shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-purple-600 to-indigo-700 p-6 pb-8",children:[e.jsx("button",{onClick:()=>{C(!1),J(null)},className:"absolute top-4 right-4 p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors",children:e.jsx(Fs,{size:20,className:"text-white"})}),e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsxs("span",{className:"bg-white/20 backdrop-blur-md px-2.5 py-0.5 rounded-md text-[11px] font-bold text-white",children:[b.type==="planned"&&"",b.type==="oliveyoung"&&"",b.type==="4week_challenge"&&"4 ",b.type==="general"&&""]})}),e.jsx("h2",{className:"text-xl font-extrabold text-white leading-tight mb-1",children:" "}),e.jsx("p",{className:"text-white/70 text-sm",children:(ye=b.campaigns)==null?void 0:ye.brand}),e.jsxs("div",{className:"mt-4 inline-flex items-center gap-3 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-1 pr-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-300 to-purple-500 w-10 h-10 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(es,{size:18,className:"text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-[10px] text-white/60 font-medium",children:""}),e.jsx("p",{className:"text-sm font-bold text-white truncate",children:(ve=b.campaigns)==null?void 0:ve.title})]})]}),b.main_channel&&e.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-white/15 backdrop-blur-md border border-white/20 rounded-full px-3 py-1.5",children:[e.jsx("span",{className:"text-[10px] text-white/70 font-medium",children:" "}),e.jsxs("span",{className:"text-xs font-bold text-white",children:[b.main_channel.toLowerCase()==="instagram"&&" Instagram",b.main_channel.toLowerCase()==="youtube"&&" YouTube",b.main_channel.toLowerCase()==="tiktok"&&" TikTok",!["instagram","youtube","tiktok"].includes(b.main_channel.toLowerCase())&&b.main_channel]})]})]}),e.jsxs("div",{ref:K,className:"flex-1 overflow-y-auto px-5 py-6 space-y-6 bg-gray-50",children:[b.type==="planned"&&b.personalized_guide&&e.jsx(Yh,{guideData:b.personalized_guide,additionalMessage:b.additional_message,campaigns:b.campaigns}),b.type==="oliveyoung"&&e.jsxs("div",{className:"space-y-4",children:[((de=b.campaigns)==null?void 0:de.step1_guide_mode)!=="external"&&(((Y=b.campaigns)==null?void 0:Y.oliveyoung_step1_guide_ai)||((we=b.campaigns)==null?void 0:we.oliveyoung_step1_guide))&&e.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-green-50 border border-green-100 p-5",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:e.jsx(es,{size:80,className:"text-green-900"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"bg-green-500 text-white p-1.5 rounded-lg shadow-sm",children:e.jsx(la,{size:16,fill:"white"})}),e.jsx("span",{className:"font-bold text-green-900 text-base",children:"1  "})]}),((E=b.campaigns)==null?void 0:E.step1_deadline)&&e.jsxs("span",{className:"text-xs font-bold text-red-600 bg-red-100 px-2 py-1 rounded-lg",children:["~ ",new Date(b.campaigns.step1_deadline).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})]})]}),e.jsx(jr,{guide:b.campaigns.oliveyoung_step1_guide_ai||b.campaigns.oliveyoung_step1_guide})]})]}),((ee=b.campaigns)==null?void 0:ee.step2_guide_mode)!=="external"&&(((ze=b.campaigns)==null?void 0:ze.oliveyoung_step2_guide_ai)||((xe=b.campaigns)==null?void 0:xe.oliveyoung_step2_guide))&&e.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-blue-50 border border-blue-100 p-5",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:e.jsx(es,{size:80,className:"text-blue-900"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"bg-blue-500 text-white p-1.5 rounded-lg shadow-sm",children:e.jsx(la,{size:16,fill:"white"})}),e.jsx("span",{className:"font-bold text-blue-900 text-base",children:"2  "})]}),((Ae=b.campaigns)==null?void 0:Ae.step2_deadline)&&e.jsxs("span",{className:"text-xs font-bold text-red-600 bg-red-100 px-2 py-1 rounded-lg",children:["~ ",new Date(b.campaigns.step2_deadline).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})]})]}),e.jsx(jr,{guide:b.campaigns.oliveyoung_step2_guide_ai||b.campaigns.oliveyoung_step2_guide})]})]}),((Re=b.campaigns)==null?void 0:Re.step3_guide_mode)!=="external"&&(((fe=b.campaigns)==null?void 0:fe.oliveyoung_step3_guide_ai)||((Ce=b.campaigns)==null?void 0:Ce.oliveyoung_step3_guide))&&e.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-purple-50 border border-purple-100 p-5",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:e.jsx(es,{size:80,className:"text-purple-900"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"bg-purple-500 text-white p-1.5 rounded-lg shadow-sm",children:e.jsx(la,{size:16,fill:"white"})}),e.jsx("span",{className:"font-bold text-purple-900 text-base",children:"3  "})]}),((Pe=b.campaigns)==null?void 0:Pe.step3_deadline)&&e.jsxs("span",{className:"text-xs font-bold text-red-600 bg-red-100 px-2 py-1 rounded-lg",children:["~ ",new Date(b.campaigns.step3_deadline).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})]})]}),e.jsx(jr,{guide:b.campaigns.oliveyoung_step3_guide_ai||b.campaigns.oliveyoung_step3_guide})]})]}),(()=>{var Me,us,Gs,Ss,Us,Zs,Ke;const p=[];if([((Me=b.campaigns)==null?void 0:Me.oliveyoung_step1_guide_ai)||((us=b.campaigns)==null?void 0:us.oliveyoung_step1_guide),((Gs=b.campaigns)==null?void 0:Gs.oliveyoung_step2_guide_ai)||((Ss=b.campaigns)==null?void 0:Ss.oliveyoung_step2_guide),((Us=b.campaigns)==null?void 0:Us.oliveyoung_step3_guide_ai)||((Zs=b.campaigns)==null?void 0:Zs.oliveyoung_step3_guide)].forEach(rs=>{if(rs)try{const Ms=typeof rs=="string"?JSON.parse(rs):rs;Ms!=null&&Ms.shooting_scenes&&Array.isArray(Ms.shooting_scenes)&&p.push(...Ms.shooting_scenes)}catch{}}),(Ke=b.campaigns)!=null&&Ke.ai_generated_guide)try{const rs=typeof b.campaigns.ai_generated_guide=="string"?JSON.parse(b.campaigns.ai_generated_guide):b.campaigns.ai_generated_guide;rs!=null&&rs.shooting_scenes&&Array.isArray(rs.shooting_scenes)&&p.push(...rs.shooting_scenes)}catch{}return p.length>0?e.jsx(po,{scenes:p}):null})()]}),b.type==="4week_challenge"&&((I=b.campaigns)==null?void 0:I.challenge_weekly_guides_ai)&&e.jsx(Hh,{guides:b.campaigns.challenge_weekly_guides_ai,basicGuides:b.campaigns.challenge_weekly_guides,commonMessage:b.additional_message}),b.type==="general"&&b.ai_generated_guide&&e.jsx("div",{className:"space-y-4",children:(()=>{let p=b.ai_generated_guide;if(typeof p=="string")try{p=JSON.parse(p)}catch{}return typeof p=="object"&&p!==null?e.jsxs(e.Fragment,{children:[p.hookingPoint&&e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 p-5 shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:e.jsx(wn,{size:60,className:"text-white"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-2 rounded-lg",children:e.jsx(wn,{size:18,className:"text-white"})}),e.jsx("span",{className:"font-bold text-white text-sm",children:" 1  "})]}),e.jsxs("p",{className:"text-lg font-bold text-white leading-snug",children:['"',p.hookingPoint,'"']})]})]}),p.coreMessage&&e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-blue-50 border border-blue-100 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"bg-blue-500 p-2 rounded-lg",children:e.jsx(Mi,{size:16,className:"text-white"})}),e.jsx("span",{className:"font-bold text-blue-900 text-sm",children:"  "})]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:p.coreMessage})]}),(p.videoLength||p.videoTempo)&&e.jsxs("div",{className:"rounded-2xl bg-gray-50 border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"bg-gray-700 p-2 rounded-lg",children:e.jsx(es,{size:16,className:"text-white"})}),e.jsx("span",{className:"font-bold text-gray-900 text-sm",children:"  "})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.videoLength&&e.jsxs("div",{className:"bg-white rounded-xl p-3 text-center border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsx("p",{className:"font-bold text-gray-900",children:p.videoLength==="30sec"?"30":p.videoLength==="45sec"?"45":p.videoLength==="60sec"?"60":p.videoLength==="90sec"?"90":p.videoLength})]}),p.videoTempo&&e.jsxs("div",{className:"bg-white rounded-xl p-3 text-center border border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsx("p",{className:"font-bold text-gray-900",children:p.videoTempo==="slow"?"":p.videoTempo==="normal"?"":p.videoTempo==="fast"?"":p.videoTempo})]})]}),p.hasNarration!==void 0&&e.jsxs("p",{className:"text-sm text-gray-600 mt-3 text-center",children:[": ",e.jsx("strong",{children:p.hasNarration?"":""})]})]}),p.missions&&Object.values(p.missions).some(Oe=>Oe)&&e.jsxs("div",{className:"rounded-2xl bg-green-50 border border-green-100 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"bg-green-500 p-2 rounded-lg",children:e.jsx(Hl,{size:16,className:"text-white"})}),e.jsx("span",{className:"font-bold text-green-900 text-sm",children:"   "})]}),e.jsxs("ul",{className:"space-y-2.5",children:[p.missions.beforeAfter&&e.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-700 bg-white rounded-xl px-4 py-2.5 border border-green-100",children:[e.jsx(Ee,{size:16,className:"text-green-500 flex-shrink-0"}),e.jsx("span",{children:"Before & After "})]}),p.missions.productCloseup&&e.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-700 bg-white rounded-xl px-4 py-2.5 border border-green-100",children:[e.jsx(Ee,{size:16,className:"text-green-500 flex-shrink-0"}),e.jsx("span",{children:"   "})]}),p.missions.productTexture&&e.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-700 bg-white rounded-xl px-4 py-2.5 border border-green-100",children:[e.jsx(Ee,{size:16,className:"text-green-500 flex-shrink-0"}),e.jsx("span",{children:"  "})]}),p.missions.storeVisit&&e.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-700 bg-white rounded-xl px-4 py-2.5 border border-green-100",children:[e.jsx(Dm,{size:16,className:"text-green-500 flex-shrink-0"}),e.jsx("span",{children:"   "})]}),p.missions.weeklyReview&&e.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-700 bg-white rounded-xl px-4 py-2.5 border border-green-100",children:[e.jsx(Bs,{size:16,className:"text-green-500 flex-shrink-0"}),e.jsx("span",{children:"7   "})]}),p.missions.priceInfo&&e.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-700 bg-white rounded-xl px-4 py-2.5 border border-green-100",children:[e.jsx(ng,{size:16,className:"text-green-500 flex-shrink-0"}),e.jsx("span",{children:"/  "})]}),p.missions.purchaseLink&&e.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-700 bg-white rounded-xl px-4 py-2.5 border border-green-100",children:[e.jsx(Vm,{size:16,className:"text-green-500 flex-shrink-0"}),e.jsx("span",{children:"  "})]})]})]}),p.prohibitions&&Object.values(p.prohibitions).some(Oe=>Oe)&&e.jsxs("div",{className:"rounded-2xl bg-red-50 border border-red-100 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"bg-red-500 p-2 rounded-lg",children:e.jsx(Mt,{size:16,className:"text-white"})}),e.jsx("span",{className:"font-bold text-red-900 text-sm",children:"  "})]}),e.jsxs("ul",{className:"space-y-2.5",children:[p.prohibitions.competitorMention&&e.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-700 bg-white rounded-xl px-4 py-2.5 border border-red-100",children:[e.jsx(Mt,{size:16,className:"text-red-500 flex-shrink-0"}),e.jsx("span",{children:"   "})]}),p.prohibitions.exaggeratedClaims&&e.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-700 bg-white rounded-xl px-4 py-2.5 border border-red-100",children:[e.jsx(Mt,{size:16,className:"text-red-500 flex-shrink-0"}),e.jsx("span",{children:" /  "})]}),p.prohibitions.medicalMisrepresentation&&e.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-700 bg-white rounded-xl px-4 py-2.5 border border-red-100",children:[e.jsx(Mt,{size:16,className:"text-red-500 flex-shrink-0"}),e.jsx("span",{children:"   "})]}),p.prohibitions.priceOutOfSale&&e.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-700 bg-white rounded-xl px-4 py-2.5 border border-red-100",children:[e.jsx(Mt,{size:16,className:"text-red-500 flex-shrink-0"}),e.jsx("span",{children:"     "})]}),p.prohibitions.negativeExpression&&e.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-700 bg-white rounded-xl px-4 py-2.5 border border-red-100",children:[e.jsx(Mt,{size:16,className:"text-red-500 flex-shrink-0"}),e.jsx("span",{children:"   "})]}),p.prohibitions.other&&p.prohibitionOtherText&&e.jsxs("li",{className:"flex items-center gap-3 text-sm text-gray-700 bg-white rounded-xl px-4 py-2.5 border border-red-100",children:[e.jsx(Mt,{size:16,className:"text-red-500 flex-shrink-0"}),e.jsx("span",{children:p.prohibitionOtherText})]})]})]}),p.hashtags&&p.hashtags.length>0&&e.jsxs("div",{className:"rounded-2xl bg-indigo-50 border border-indigo-100 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"bg-indigo-500 p-2 rounded-lg",children:e.jsx(ot,{size:16,className:"text-white"})}),e.jsx("span",{className:"font-bold text-indigo-900 text-sm",children:"#  "})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.hashtags.map((Oe,Me)=>e.jsx("span",{className:"px-3 py-1.5 bg-white text-indigo-700 rounded-full text-sm font-medium border border-indigo-200",children:Oe.startsWith("#")?Oe:`#${Oe}`},Me))})]}),p.referenceUrl&&e.jsxs("a",{href:p.referenceUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3.5 bg-gray-100 rounded-2xl text-sm font-medium text-gray-700 hover:bg-gray-200 transition-colors",children:[e.jsx(ns,{size:16}),"  "]}),p.needsPartnershipCode&&e.jsxs("div",{className:"flex items-center gap-3 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-2xl p-4",children:[e.jsx(Ts,{size:18,className:"flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:"  "})]}),p.shooting_scenes&&Array.isArray(p.shooting_scenes)&&p.shooting_scenes.length>0&&e.jsx(po,{scenes:p.shooting_scenes})]}):e.jsx("div",{className:"rounded-2xl bg-gray-100 border border-gray-200 p-5",children:e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:vr(p)})})})()}),(((ke=b.campaigns)==null?void 0:ke.content_submission_deadline)||((De=b.campaigns)==null?void 0:De.start_date)||((Xe=b.campaigns)==null?void 0:Xe.end_date))&&e.jsxs("div",{className:"rounded-3xl bg-red-50 border border-red-100 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"bg-red-500 text-white p-1.5 rounded-lg shadow-sm",children:e.jsx(Ts,{size:16,strokeWidth:3})}),e.jsx("span",{className:"font-bold text-red-900 text-base",children:" "})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[((gs=b.campaigns)==null?void 0:gs.content_submission_deadline)&&e.jsxs("div",{className:"bg-white rounded-2xl p-3 text-center border border-red-100",children:[e.jsx("div",{className:"text-red-400 mb-1",children:e.jsx(Bs,{size:18,className:"mx-auto"})}),e.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:" "}),e.jsx("div",{className:"text-sm font-bold text-red-600",children:new Date(b.campaigns.content_submission_deadline).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})})]}),((cs=b.campaigns)==null?void 0:cs.start_date)&&e.jsxs("div",{className:"bg-white rounded-2xl p-3 text-center border border-red-100",children:[e.jsx("div",{className:"text-orange-400 mb-1",children:e.jsx(es,{size:18,className:"mx-auto"})}),e.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:" "}),e.jsx("div",{className:"text-sm font-bold text-orange-600",children:new Date(b.campaigns.start_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})})]}),((Qt=b.campaigns)==null?void 0:Qt.end_date)&&e.jsxs("div",{className:"bg-white rounded-2xl p-3 text-center border border-red-100",children:[e.jsx("div",{className:"text-purple-400 mb-1",children:e.jsx(St,{size:18,className:"mx-auto"})}),e.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"SNS "}),e.jsx("div",{className:"text-sm font-bold text-purple-600",children:new Date(b.campaigns.end_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})})]})]})]})]}),e.jsx("div",{className:"bg-white border-t border-gray-100 p-4 safe-area-bottom",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:re,className:"flex-shrink-0 bg-purple-600 text-white font-bold text-sm py-4 px-5 rounded-2xl shadow-lg hover:bg-purple-700 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:[e.jsx(Sr,{size:18}),"PDF"]}),e.jsxs("button",{onClick:()=>{C(!1),J(null)},className:"flex-1 bg-gray-900 text-white font-bold text-base py-4 rounded-2xl shadow-lg hover:bg-black transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:["",e.jsx(Ct,{size:18})]})]})})]})}),T&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-100 p-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"SNS "}),e.jsx("button",{onClick:()=>{O(!1),H(null)},className:"p-2 hover:bg-gray-100 rounded-full",children:e.jsx(Fs,{size:20,className:"text-gray-500"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-gray-500",children:(dt=w.campaigns)==null?void 0:dt.brand}),e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:(ks=w.campaigns)==null?void 0:ks.title}),w.main_channel&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[e.jsx("span",{className:"text-[10px] text-gray-400",children:" :"}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold ${w.main_channel.toLowerCase()==="instagram"?"bg-pink-100 text-pink-700":w.main_channel.toLowerCase()==="youtube"?"bg-red-100 text-red-700":w.main_channel.toLowerCase()==="tiktok"?"bg-gray-200 text-gray-700":"bg-blue-100 text-blue-700"}`,children:[w.main_channel.toLowerCase()==="instagram"&&" Instagram",w.main_channel.toLowerCase()==="youtube"&&" YouTube",w.main_channel.toLowerCase()==="tiktok"&&" TikTok",!["instagram","youtube","tiktok"].includes(w.main_channel.toLowerCase())&&w.main_channel]})]})]}),((wt=w.campaigns)==null?void 0:wt.campaign_type)==="4week_challenge"&&e.jsx(e.Fragment,{children:[1,2,3,4].map(p=>e.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-3 space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsxs("span",{className:"bg-indigo-600 text-white text-xs font-bold px-2 py-0.5 rounded",children:["Week ",p]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SNS URL *"}),e.jsx("input",{type:"url",value:y[`week${p}_url`],onChange:Oe=>G({...y,[`week${p}_url`]:Oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",placeholder:"https://instagram.com/p/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ( ) *"}),e.jsx("input",{type:"text",value:y[`week${p}_partnership_code`]||"",onChange:Oe=>G({...y,[`week${p}_partnership_code`]:Oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",placeholder:"  "})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2.5",children:[e.jsxs("label",{className:"block text-xs font-bold text-red-700 mb-1.5",children:["Week ",p,"  () *"]}),e.jsx("p",{className:"text-[10px] text-red-600 mb-2",children:"     "}),y[`week${p}_clean_video_file`]?e.jsxs("div",{className:"flex items-center justify-between bg-white border border-green-300 rounded-lg p-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Hl,{size:14,className:"text-green-600"}),e.jsx("span",{className:"text-xs text-gray-700 truncate max-w-[150px]",children:y[`week${p}_clean_video_file`].name})]}),e.jsx("button",{type:"button",onClick:()=>G(Oe=>({...Oe,[`week${p}_clean_video_file`]:null})),className:"text-gray-400 hover:text-red-500",children:e.jsx(Fs,{size:14})})]}):e.jsxs("label",{className:"flex items-center justify-center w-full h-12 border-2 border-red-300 border-dashed rounded-lg cursor-pointer bg-white hover:bg-red-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(St,{size:16,className:"text-red-400"}),e.jsx("span",{className:"text-xs text-red-600",children:" "})]}),e.jsx("input",{type:"file",className:"hidden",accept:"video/*",onChange:Oe=>U(Oe,`week${p}`)})]}),D[`week${p}`]&&e.jsxs("div",{className:"mt-1.5 flex items-center gap-2 text-xs text-indigo-600",children:[e.jsx(Ue,{size:12,className:"animate-spin"}),e.jsxs("span",{children:[" ... ",ie[`week${p}`]||0,"%"]})]})]})]},p))}),(((_t=w.campaigns)==null?void 0:_t.campaign_type)==="oliveyoung"||(($i=w.campaigns)==null?void 0:$i.is_oliveyoung_sale))&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-600 text-white text-xs font-bold px-2 py-0.5 rounded",children:"STEP 1"}),e.jsx("span",{className:"text-xs text-green-700",children:" ( 7 )"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"STEP 1  URL *"}),e.jsx("input",{type:"url",value:y.step1_url,onChange:p=>G({...y,step1_url:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",placeholder:"https://instagram.com/reel/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"STEP 1  ( ) *"}),e.jsx("input",{type:"text",value:y.step1_partnership_code||"",onChange:p=>G({...y,step1_partnership_code:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm",placeholder:"  "})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2.5",children:[e.jsx("label",{className:"block text-xs font-bold text-red-700 mb-1.5",children:"STEP 1  () *"}),e.jsx("p",{className:"text-[10px] text-red-600 mb-2",children:"     "}),y.step1_clean_video_file?e.jsxs("div",{className:"flex items-center justify-between bg-white border border-green-300 rounded-lg p-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Hl,{size:14,className:"text-green-600"}),e.jsx("span",{className:"text-xs text-gray-700 truncate max-w-[150px]",children:y.step1_clean_video_file.name})]}),e.jsx("button",{type:"button",onClick:()=>G(p=>({...p,step1_clean_video_file:null})),className:"text-gray-400 hover:text-red-500",children:e.jsx(Fs,{size:14})})]}):e.jsxs("label",{className:"flex items-center justify-center w-full h-12 border-2 border-red-300 border-dashed rounded-lg cursor-pointer bg-white hover:bg-red-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(St,{size:16,className:"text-red-400"}),e.jsx("span",{className:"text-xs text-red-600",children:" "})]}),e.jsx("input",{type:"file",className:"hidden",accept:"video/*",onChange:p=>U(p,"step1")})]}),D.step1&&e.jsxs("div",{className:"mt-1.5 flex items-center gap-2 text-xs text-green-600",children:[e.jsx(Ue,{size:12,className:"animate-spin"}),e.jsxs("span",{children:[" ... ",ie.step1||0,"%"]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-600 text-white text-xs font-bold px-2 py-0.5 rounded",children:"STEP 2"}),e.jsx("span",{className:"text-xs text-blue-700",children:" ( 1 )"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"STEP 2  URL *"}),e.jsx("input",{type:"url",value:y.step2_url,onChange:p=>G({...y,step2_url:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://instagram.com/reel/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"STEP 2  ( ) *"}),e.jsx("input",{type:"text",value:y.step2_partnership_code||"",onChange:p=>G({...y,step2_partnership_code:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"  "})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2.5",children:[e.jsx("label",{className:"block text-xs font-bold text-red-700 mb-1.5",children:"STEP 2  () *"}),e.jsx("p",{className:"text-[10px] text-red-600 mb-2",children:"     "}),y.step2_clean_video_file?e.jsxs("div",{className:"flex items-center justify-between bg-white border border-green-300 rounded-lg p-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Hl,{size:14,className:"text-green-600"}),e.jsx("span",{className:"text-xs text-gray-700 truncate max-w-[150px]",children:y.step2_clean_video_file.name})]}),e.jsx("button",{type:"button",onClick:()=>G(p=>({...p,step2_clean_video_file:null})),className:"text-gray-400 hover:text-red-500",children:e.jsx(Fs,{size:14})})]}):e.jsxs("label",{className:"flex items-center justify-center w-full h-12 border-2 border-red-300 border-dashed rounded-lg cursor-pointer bg-white hover:bg-red-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(St,{size:16,className:"text-red-400"}),e.jsx("span",{className:"text-xs text-red-600",children:" "})]}),e.jsx("input",{type:"file",className:"hidden",accept:"video/*",onChange:p=>U(p,"step2")})]}),D.step2&&e.jsxs("div",{className:"mt-1.5 flex items-center gap-2 text-xs text-blue-600",children:[e.jsx(Ue,{size:12,className:"animate-spin"}),e.jsxs("span",{children:[" ... ",ie.step2||0,"%"]})]})]})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"bg-orange-600 text-white text-xs font-bold px-2 py-0.5 rounded",children:"STEP 3"}),e.jsx("span",{className:"text-xs text-orange-700",children:" ( )"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"STEP 3  URL *"}),e.jsx("input",{type:"url",value:y.step3_url,onChange:p=>G({...y,step3_url:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",placeholder:"https://instagram.com/stories/..."})]})]})]}),((Bi=w.campaigns)==null?void 0:Bi.campaign_type)!=="4week_challenge"&&((Gi=w.campaigns)==null?void 0:Gi.campaign_type)!=="oliveyoung"&&!((Yl=w.campaigns)!=null&&Yl.is_oliveyoung_sale)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SNS  URL *"}),e.jsx("input",{type:"url",value:y.sns_upload_url,onChange:p=>G({...y,sns_upload_url:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"https://instagram.com/p/..."})]}),((Ql=w.campaigns)==null?void 0:Ql.campaign_type)!=="4week_challenge"&&((Xl=w.campaigns)==null?void 0:Xl.campaign_type)!=="oliveyoung"&&!((za=w.campaigns)!=null&&za.is_oliveyoung_sale)&&e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-2",children:" ( ) *"}),e.jsx("input",{type:"text",value:y.partnership_code,onChange:p=>G({...y,partnership_code:p.target.value}),className:"w-full px-3 py-2 border border-orange-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",placeholder:"   "}),e.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"        ."})]}),((Fl=w.campaigns)==null?void 0:Fl.campaign_type)!=="4week_challenge"&&((ul=w.campaigns)==null?void 0:ul.campaign_type)!=="oliveyoung"&&!((Vi=w.campaigns)!=null&&Vi.is_oliveyoung_sale)&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-300 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ts,{size:18,className:"text-red-600"}),e.jsx("label",{className:"text-sm font-bold text-red-800",children:"  () *"})]}),e.jsxs("div",{className:"bg-red-100 border border-red-200 rounded-lg p-3 mb-3",children:[e.jsx("p",{className:"text-xs text-red-700 font-semibold leading-relaxed",children:" (/   )    !"}),e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"     ."})]}),y.clean_video_file?e.jsxs("div",{className:"bg-white border border-green-300 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hl,{size:16,className:"text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700 truncate max-w-[200px]",children:y.clean_video_file.name})]}),e.jsx("button",{type:"button",onClick:()=>G(p=>({...p,clean_video_file:null})),className:"text-gray-400 hover:text-red-500",children:e.jsx(Fs,{size:16})})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(y.clean_video_file.size/(1024*1024)).toFixed(1),"MB"]})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-red-300 border-dashed rounded-lg cursor-pointer bg-white hover:bg-red-50 transition-colors",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-2 pb-2",children:[e.jsx(St,{size:24,className:"text-red-400 mb-1"}),e.jsx("p",{className:"text-xs text-red-600 font-medium",children:"  "}),e.jsx("p",{className:"text-[10px] text-gray-400",children:"MP4, MOV ( 2GB)"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"video/*",onChange:p=>U(p,"general")})]}),D.general&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-600",children:[e.jsx(Ue,{size:14,className:"animate-spin"}),e.jsxs("span",{children:[" ... ",ie.general||0,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:e.jsx("div",{className:"bg-purple-600 h-1.5 rounded-full transition-all",style:{width:`${ie.general||0}%`}})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",e.jsx("span",{className:"text-xs text-gray-400",children:"()"})]}),e.jsx("textarea",{value:y.notes,onChange:p=>G({...y,notes:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",rows:"3",placeholder:"  "})]}),X&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-800",children:X}),ne&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-sm text-green-800",children:ne}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:()=>{O(!1),H(null)},className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl text-gray-700 font-medium hover:bg-gray-50",children:""}),e.jsx("button",{onClick:q,disabled:M,className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-xl font-bold hover:bg-purple-700 disabled:opacity-50 flex items-center justify-center gap-2",children:M?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{size:16,className:"animate-spin"}),"..."]}):""})]})]})]})})]})},Qh=()=>{const{user:i,loading:d}=xs(),o=Qe();return Co.useEffect(()=>{!d&&!i&&o("/login")},[i,d,o]),d?e.jsx("div",{className:"flex justify-center bg-gray-100 min-h-screen",children:e.jsx("div",{className:"w-full max-w-md bg-white min-h-screen flex items-center justify-center",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-purple-600"})})}):i?e.jsx(To,{children:e.jsx(Pb,{})}):null},xj=()=>{const{user:i,loading:d}=xs(),o=Qe();return Co.useEffect(()=>{!d&&!i&&o("/login")},[i,d,o]),d?e.jsx("div",{className:"flex justify-center bg-gray-100 min-h-screen",children:e.jsx("div",{className:"w-full max-w-md bg-white min-h-screen flex items-center justify-center",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-purple-600"})})}):i?e.jsx(To,{children:e.jsx(Wb,{})}):null},uj=()=>{const{user:i,loading:d}=xs(),o=Qe();return Co.useEffect(()=>{!d&&!i&&o("/login")},[i,d,o]),d?e.jsx("div",{className:"flex justify-center bg-gray-100 min-h-screen",children:e.jsx("div",{className:"w-full max-w-md bg-white min-h-screen flex items-center justify-center",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-purple-600"})})}):i?e.jsx(To,{children:e.jsx(Ib,{})}):null},hj=()=>{var ee,ze,xe,Ae,Re;const{user:i}=xs(),d=Qe(),[o,m]=h.useState(!0),[x,n]=h.useState(null),[f,j]=h.useState(!1),[g,z]=h.useState("analyze"),[_,A]=h.useState([]),[k,C]=h.useState(!1),[b,J]=h.useState(null),[K,T]=h.useState(null),[O,w]=h.useState(""),[H,y]=h.useState(!1),[G,D]=h.useState(null),[$,ie]=h.useState({brandName:"",brandInfo:"",storyConcept:"",targetAudience:"",duration:"30",additionalNotes:""}),[be,M]=h.useState(!1),[le,X]=h.useState(null),[B,ne]=h.useState(!1),[L,ue]=h.useState(null),[re,me]=h.useState(!1),[S,W]=h.useState(1),[v,R]=h.useState(null),[ae,Q]=h.useState(""),[V,P]=h.useState("");h.useEffect(()=>{i&&ce()},[i]);const ce=async()=>{try{m(!0);const{data:fe,error:Ce}=await se.from("user_profiles").select("*").eq("id",i.id).single();if(Ce)throw Ce;n(fe);const Pe=(fe==null?void 0:fe.cnec_grade_level)===5;j(Pe),Pe&&U()}catch(fe){console.error("   :",fe)}finally{m(!1)}},U=async()=>{try{C(!0);const{data:fe,error:Ce}=await se.from("ai_scripts").select("*").eq("user_id",i.id).order("created_at",{ascending:!1}).limit(20);if(Ce)throw Ce;A(fe||[])}catch(fe){console.error("   :",fe)}finally{C(!1)}},q=async fe=>{if(confirm("  ?"))try{T(fe);const{error:Ce}=await se.from("ai_scripts").delete().eq("id",fe).eq("user_id",i.id);if(Ce)throw Ce;A(Pe=>Pe.filter(I=>I.id!==fe)),P(" ."),setTimeout(()=>P(""),3e3),(b==null?void 0:b.id)===fe&&J(null)}catch(Ce){console.error("  :",Ce),Q("  .")}finally{T(null)}},F=fe=>{J(fe),X(fe.generated_script),ie({brandName:fe.brand_name||"",brandInfo:fe.brand_info||"",storyConcept:fe.story_concept||"",targetAudience:fe.target_audience||"",duration:"30",additionalNotes:fe.additional_notes||""}),ue(null),z("script"),P(" ."),setTimeout(()=>P(""),3e3)},ye=async()=>{if(!O.trim()){Q(" Shorts URL .");return}try{y(!0),Q(""),D(null);const Ce=await(await fetch("/.netlify/functions/ai-youtube-analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({youtubeUrl:O})})).json();if(!Ce.success)throw new Error(Ce.error||" .");D(Ce.analysis),await se.from("ai_guides").insert({user_id:i.id,guide_type:"shorts_analysis",input_data:{youtubeUrl:O,videoId:Ce.videoId},result:Ce.analysis}),P("   !"),setTimeout(()=>P(""),3e3)}catch(fe){console.error(" :",fe),Q(fe.message||"   .")}finally{y(!1)}},ve=async()=>{if(!$.brandName.trim()||!$.storyConcept.trim()){Q("   .");return}try{M(!0),Q(""),X(null),ue(null);const Ce=await(await fetch("/.netlify/functions/ai-script-generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...$,videoLength:$.duration})})).json();if(!Ce.success)throw new Error(Ce.error||"  .");X(Ce.script),await se.from("ai_scripts").insert({user_id:i.id,brand_name:$.brandName,brand_info:$.brandInfo,story_concept:$.storyConcept,target_audience:$.targetAudience,additional_notes:$.additionalNotes,generated_script:Ce.script}),P("  !"),setTimeout(()=>P(""),3e3)}catch(fe){console.error("  :",fe),Q(fe.message||"    .")}finally{M(!1)}},de=async()=>{if(!le){Q("  .");return}try{ne(!0),Q("");const Ce=await(await fetch("/.netlify/functions/ai-script-verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({script:le,brandName:$.brandName,brandInfo:$.brandInfo,targetAudience:$.targetAudience})})).json();if(!Ce.success)throw new Error(Ce.error||" .");ue(Ce.verification),P("  !"),setTimeout(()=>P(""),3e3)}catch(fe){console.error(" :",fe),Q(fe.message||"   .")}finally{ne(!1)}},Y=async()=>{if(!L){Q("  .");return}try{me(!0),Q("");const fe=[];L.improvementSuggestions&&L.improvementSuggestions.forEach(ke=>{const De=ke.suggested||ke.area||ke;De&&fe.push(De)}),L.riskAssessment&&L.riskAssessment.forEach(ke=>{ke.suggestion&&fe.push(ke.suggestion)});const Ce=`[   ] ${fe.join(". ")}. ${$.additionalNotes||""}`,I=await(await fetch("/.netlify/functions/ai-script-generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...$,videoLength:$.duration,additionalNotes:Ce,previousScript:le,improvementFeedback:L})})).json();if(!I.success)throw new Error(I.error||"  .");X(I.script),ue(null),W(ke=>ke+1),await se.from("ai_scripts").insert({user_id:i.id,brand_name:$.brandName,brand_info:$.brandInfo,story_concept:$.storyConcept,target_audience:$.targetAudience,additional_notes:Ce,generated_script:I.script}),P(` v${S+1} !  .`),setTimeout(()=>P(""),3e3)}catch(fe){console.error("  :",fe),Q(fe.message||"    .")}finally{me(!1)}},we=async(fe,Ce)=>{try{await navigator.clipboard.writeText(fe),R(Ce),setTimeout(()=>R(null),2e3)}catch(Pe){console.error(" :",Pe)}},E=async()=>{var Ce,Pe,I;if(!le)return;let fe=`[${le.title||" "}]

`;if(le.hook){const ke=typeof le.hook=="string"?le.hook:((Ce=le.hook)==null?void 0:Ce.text)||"";fe+=`  ( 3):
${ke}
`,typeof le.hook=="object"&&((Pe=le.hook)!=null&&Pe.visualAction)&&(fe+=` ${le.hook.visualAction}
`),fe+=`
`}if(le.scenes&&(fe+=`  :

`,le.scenes.forEach((ke,De)=>{fe+=`--- ${ke.sceneTitle||` ${De+1}`} (${ke.duration||""}) ---
`,ke.dialogue&&(fe+=` ${ke.dialogue}
`),ke.action&&(fe+=` ${ke.action}
`),ke.tone&&(fe+=` : ${ke.tone}
`),ke.cameraWork&&(fe+=` ${ke.cameraWork}
`),fe+=`
`})),le.callToAction){const ke=typeof le.callToAction=="string"?le.callToAction:((I=le.callToAction)==null?void 0:I.text)||"";fe+=` CTA:
${ke}

`}le.hashtags&&(fe+=`# : ${le.hashtags.join(" ")}
`),await we(fe,"full-script")};return o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-amber-500"})}):f?e.jsxs("div",{className:"px-5 pt-5 pb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-amber-400 to-orange-500 rounded-3xl p-6 text-white shadow-xl mb-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-2xl pointer-events-none"}),e.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-white/5 rounded-full blur-2xl pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>d(-1),className:"p-1 -ml-1 text-white/80 hover:text-white",children:e.jsx(Ks,{size:22})}),e.jsxs("div",{className:"flex items-center gap-1.5 bg-white/20 px-3 py-1 rounded-full",children:[e.jsx(ka,{size:14}),e.jsx("span",{className:"text-xs font-bold",children:"MUSE"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(bt,{size:14,className:"text-white/70"}),e.jsx("span",{className:"text-sm font-medium text-white/70",children:"AI Creator Tools"})]}),e.jsx("h1",{className:"text-2xl font-extrabold tracking-tight mb-1",children:" AI "}),e.jsx("p",{className:"text-sm text-white/70",children:"Shorts  Reels  TikTok "})]})]}),(ae||V)&&e.jsx("div",{className:`mb-4 p-3 rounded-xl text-sm font-medium ${ae?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:ae||V}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[e.jsxs("button",{onClick:()=>z("analyze"),className:`p-3 rounded-2xl text-left transition-all ${g==="analyze"?"bg-red-500 text-white shadow-lg":"bg-white text-gray-700 border border-gray-100 shadow-sm"}`,children:[e.jsx(jt,{size:20,className:g==="analyze"?"text-white":"text-red-500"}),e.jsx("p",{className:"font-bold mt-1.5 text-sm",children:""})]}),e.jsxs("button",{onClick:()=>z("script"),className:`p-3 rounded-2xl text-left transition-all ${g==="script"?"bg-amber-500 text-white shadow-lg":"bg-white text-gray-700 border border-gray-100 shadow-sm"}`,children:[e.jsx(it,{size:20,className:g==="script"?"text-white":"text-amber-500"}),e.jsx("p",{className:"font-bold mt-1.5 text-sm",children:" "})]}),e.jsxs("button",{onClick:()=>{z("saved"),U()},className:`p-3 rounded-2xl text-left transition-all ${g==="saved"?"bg-violet-500 text-white shadow-lg":"bg-white text-gray-700 border border-gray-100 shadow-sm"}`,children:[e.jsx(vn,{size:20,className:g==="saved"?"text-white":"text-violet-500"}),e.jsx("p",{className:"font-bold mt-1.5 text-sm",children:""}),_.length>0&&e.jsxs("span",{className:`text-xs ${g==="saved"?"text-white/70":"text-gray-400"}`,children:[_.length,""]})]})]}),g==="analyze"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(la,{size:20,className:"text-red-500"}),e.jsx("h2",{className:"font-bold text-gray-900",children:"YouTube Shorts "})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:" URL  AI   ."}),e.jsx("input",{type:"url",value:O,onChange:fe=>w(fe.target.value),placeholder:"https://youtube.com/shorts/...",className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-red-500 mb-3"}),e.jsx("button",{onClick:ye,disabled:H,className:"w-full py-3 bg-red-500 text-white rounded-xl font-bold text-sm hover:bg-red-600 disabled:opacity-50 flex items-center justify-center gap-2",children:H?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{size:18,className:"animate-spin"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wn,{size:18})," "]})})]}),G&&e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:" "}),e.jsxs("button",{onClick:()=>we(JSON.stringify(G,null,2),"analysis"),className:"text-sm text-red-500 flex items-center gap-1",children:[v==="analysis"?e.jsx(rt,{size:16}):e.jsx(ta,{size:16}),v==="analysis"?"":""]})]}),e.jsxs("div",{className:"space-y-3",children:[G.estimatedTopic&&e.jsxs("div",{className:"bg-red-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-red-600 font-medium mb-1",children:" "}),e.jsx("p",{className:"text-sm text-gray-800",children:G.estimatedTopic})]}),G.hookAnalysis&&e.jsxs("div",{className:"bg-amber-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-amber-600 font-medium mb-1",children:"  "}),e.jsx("p",{className:"text-sm text-gray-800",children:G.hookAnalysis})]}),G.successFactors&&e.jsxs("div",{className:"bg-green-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-green-600 font-medium mb-2",children:"  "}),e.jsx("ul",{className:"space-y-1",children:G.successFactors.slice(0,5).map((fe,Ce)=>e.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500",children:""}),fe]},Ce))})]}),G.benchmarkPoints&&e.jsxs("div",{className:"bg-blue-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium mb-2",children:"  "}),e.jsx("ul",{className:"space-y-1",children:G.benchmarkPoints.slice(0,5).map((fe,Ce)=>e.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500",children:""}),fe]},Ce))})]}),G.summary&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:" "}),e.jsx("p",{className:"text-sm text-gray-700",children:G.summary})]})]})]})]}),g==="script"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(es,{size:20,className:"text-amber-500"}),e.jsx("h2",{className:"font-bold text-gray-900",children:"  "})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"   15~60   ."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1.5",children:" *"}),e.jsx("input",{type:"text",value:$.brandName,onChange:fe=>ie({...$,brandName:fe.target.value}),placeholder:": , ",className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1.5",children:"/ "}),e.jsx("textarea",{value:$.brandInfo,onChange:fe=>ie({...$,brandInfo:fe.target.value}),placeholder:" ,  ,  ",rows:2,className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1.5",children:"  *"}),e.jsxs("select",{value:$.storyConcept,onChange:fe=>ie({...$,storyConcept:fe.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500",children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"/",children:"/ "}),e.jsx("option",{value:"",children:"&"}),e.jsx("option",{value:"GRWM",children:"GRWM ()"}),e.jsx("option",{value:"",children:"/"}),e.jsx("option",{value:"",children:"/ "}),e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"",children:"/"}),e.jsx("option",{value:"",children:" "})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1.5",children:" "}),e.jsxs("select",{value:$.duration,onChange:fe=>ie({...$,duration:fe.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500",children:[e.jsx("option",{value:"15",children:"15"}),e.jsx("option",{value:"30",children:"30"}),e.jsx("option",{value:"45",children:"45"}),e.jsx("option",{value:"60",children:"60"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1.5",children:""}),e.jsx("input",{type:"text",value:$.targetAudience,onChange:fe=>ie({...$,targetAudience:fe.target.value}),placeholder:": 20 ",className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1.5",children:" "}),e.jsx("input",{type:"text",value:$.additionalNotes,onChange:fe=>ie({...$,additionalNotes:fe.target.value}),placeholder:" / ",className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),e.jsx("button",{onClick:ve,disabled:be,className:"w-full py-4 bg-amber-500 text-white rounded-xl font-bold text-sm hover:bg-amber-600 disabled:opacity-50 flex items-center justify-center gap-2 mt-2",children:be?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{size:18,className:"animate-spin"}),"  ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bt,{size:18}),"  "]})})]})]}),le&&e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:le.title||" "}),le.totalDuration&&e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[e.jsx(Lt,{size:12}),le.totalDuration]})]}),e.jsxs("button",{onClick:E,className:"px-3 py-1.5 bg-amber-100 text-amber-700 rounded-lg text-xs font-semibold flex items-center gap-1",children:[v==="full-script"?e.jsx(rt,{size:14}):e.jsx(ta,{size:14}),v==="full-script"?"":" "]})]}),le.hook&&e.jsxs("div",{className:"bg-red-50 rounded-xl p-3 mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:"text-xs text-red-600 font-bold",children:"  ( 3)"}),e.jsx("button",{onClick:()=>{var fe;return we(typeof le.hook=="string"?le.hook:((fe=le.hook)==null?void 0:fe.text)||"","hook")},className:"text-red-400 hover:text-red-600",children:v==="hook"?e.jsx(rt,{size:14}):e.jsx(ta,{size:14})})]}),e.jsx("p",{className:"text-sm text-gray-800 font-medium",children:typeof le.hook=="string"?le.hook:((ee=le.hook)==null?void 0:ee.text)||""}),typeof le.hook=="object"&&((ze=le.hook)==null?void 0:ze.visualAction)&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",le.hook.visualAction]}),typeof le.hook=="object"&&((xe=le.hook)==null?void 0:xe.hookType)&&e.jsx("span",{className:"inline-block text-xs px-2 py-0.5 bg-red-100 text-red-600 rounded-full mt-1",children:le.hook.hookType})]}),le.scenes&&e.jsx("div",{className:"space-y-2 mb-3",children:le.scenes.map((fe,Ce)=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"text-xs font-bold text-gray-600",children:[fe.sceneTitle||` ${Ce+1}`,fe.duration&&e.jsxs("span",{className:"font-normal text-gray-400 ml-1",children:["(",fe.duration,")"]})]}),e.jsx("button",{onClick:()=>we(fe.dialogue||fe.action||"",`scene-${Ce}`),className:"text-gray-400 hover:text-amber-500",children:v===`scene-${Ce}`?e.jsx(rt,{size:14}):e.jsx(ta,{size:14})})]}),fe.dialogue&&e.jsxs("p",{className:"text-sm text-gray-800",children:[" ",fe.dialogue]}),fe.tone&&e.jsx("span",{className:"inline-block text-xs px-2 py-0.5 bg-amber-100 text-amber-600 rounded-full mt-1 mr-1",children:fe.tone}),fe.action&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",fe.action]}),fe.cameraWork&&e.jsxs("p",{className:"text-xs text-blue-500 mt-0.5",children:[" ",fe.cameraWork]}),fe.textOverlay&&e.jsxs("p",{className:"text-xs text-purple-500 mt-0.5",children:[" : ",fe.textOverlay]})]},Ce))}),le.callToAction&&e.jsxs("div",{className:"bg-green-50 rounded-xl p-3 mb-3",children:[e.jsx("p",{className:"text-xs text-green-600 font-bold mb-1",children:" CTA"}),e.jsx("p",{className:"text-sm text-gray-800",children:typeof le.callToAction=="string"?le.callToAction:((Ae=le.callToAction)==null?void 0:Ae.text)||""}),typeof le.callToAction=="object"&&((Re=le.callToAction)==null?void 0:Re.visualCue)&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",le.callToAction.visualCue]})]}),le.hashtags&&e.jsx("div",{className:"flex flex-wrap gap-1.5 mb-4",children:le.hashtags.map((fe,Ce)=>e.jsx("button",{onClick:()=>we(fe.startsWith("#")?fe:`#${fe}`,`tag-${Ce}`),className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-full hover:bg-amber-100 hover:text-amber-700",children:fe.startsWith("#")?fe:`#${fe}`},Ce))}),e.jsx("button",{onClick:de,disabled:B,className:"w-full py-3 bg-emerald-500 text-white rounded-xl font-bold text-sm hover:bg-emerald-600 disabled:opacity-50 flex items-center justify-center gap-2",children:B?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{size:16,className:"animate-spin"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{size:16})," "]})})]}),L&&e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:" "}),S>1&&e.jsxs("span",{className:"text-xs text-gray-400",children:["v",S]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${L.overallScore>=85?"bg-green-100 text-green-700":L.overallScore>=70?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:L.overallScore>=85?"":L.overallScore>=70?"":""})]}),L.overallScore&&e.jsxs("div",{className:"text-center py-3 mb-3",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br ${L.overallScore>=85?"from-emerald-400 to-teal-500":L.overallScore>=70?"from-amber-400 to-orange-500":"from-red-400 to-rose-500"}`,children:e.jsx("span",{className:"text-2xl font-bold text-white",children:L.overallScore})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" "}),L.overallScore<85&&e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"85   !"})]}),L.strengths&&e.jsxs("div",{className:"bg-green-50 rounded-xl p-3 mb-3",children:[e.jsx("p",{className:"text-xs text-green-600 font-bold mb-1",children:" "}),e.jsx("ul",{className:"space-y-0.5",children:L.strengths.slice(0,3).map((fe,Ce)=>e.jsxs("li",{className:"text-sm text-gray-700",children:[" ",fe]},Ce))})]}),L.improvementSuggestions&&L.improvementSuggestions.length>0&&e.jsxs("div",{className:"bg-blue-50 rounded-xl p-3 mb-4",children:[e.jsx("p",{className:"text-xs text-blue-600 font-bold mb-1",children:"  "}),e.jsx("ul",{className:"space-y-0.5",children:L.improvementSuggestions.slice(0,3).map((fe,Ce)=>e.jsxs("li",{className:"text-sm text-gray-700",children:[" ",fe.suggested||fe.area||fe]},Ce))})]}),L.overallScore<85&&e.jsx("button",{onClick:Y,disabled:re,className:"w-full py-3 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-xl font-bold text-sm hover:from-violet-600 hover:to-purple-700 disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg",children:re?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{size:16,className:"animate-spin"}),"  ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wr,{size:16}),"  "]})}),L.overallScore>=85&&e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-emerald-700 font-bold text-sm",children:"  !"}),e.jsx("p",{className:"text-emerald-600 text-xs mt-1",children:"  "})]})]})]}),g==="saved"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vn,{size:20,className:"text-violet-500"}),e.jsx("h2",{className:"font-bold text-gray-900",children:" "})]}),e.jsxs("span",{className:"text-sm text-gray-400",children:[_.length,""]})]}),k?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ue,{className:"w-6 h-6 animate-spin text-violet-500 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:" ..."})]}):_.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(vn,{size:48,className:"mx-auto text-gray-200 mb-3"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"  "}),e.jsx("button",{onClick:()=>z("script"),className:"mt-3 px-4 py-2 bg-violet-500 text-white rounded-xl text-sm font-medium",children:" "})]}):e.jsx("div",{className:"space-y-3",children:_.map(fe=>{var Ce,Pe,I;return e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-gray-900 truncate",children:((Ce=fe.generated_script)==null?void 0:Ce.title)||fe.brand_name||" "}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[e.jsx("span",{className:"text-xs px-2 py-0.5 bg-violet-100 text-violet-700 rounded-full",children:fe.brand_name}),e.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-200 text-gray-600 rounded-full",children:fe.story_concept})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(fe.created_at).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[e.jsx("button",{onClick:()=>F(fe),className:"p-2 text-violet-500 hover:bg-violet-100 rounded-lg transition-colors",title:"",children:e.jsx(lt,{size:18})}),e.jsx("button",{onClick:()=>q(fe.id),disabled:K===fe.id,className:"p-2 text-red-400 hover:bg-red-100 rounded-lg transition-colors disabled:opacity-50",title:"",children:K===fe.id?e.jsx(Ue,{size:18,className:"animate-spin"}):e.jsx(ho,{size:18})})]})]}),((Pe=fe.generated_script)==null?void 0:Pe.hook)&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:typeof fe.generated_script.hook=="string"?fe.generated_script.hook:((I=fe.generated_script.hook)==null?void 0:I.text)||""})]})]},fe.id)})})]})})]}):e.jsxs("div",{className:"px-5 pt-5 pb-8",children:[e.jsxs("button",{onClick:()=>d(-1),className:"flex items-center gap-2 text-gray-600 mb-6",children:[e.jsx(Ks,{size:20}),e.jsx("span",{children:""})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-400 to-orange-500 rounded-3xl p-6 text-white text-center mb-6",children:[e.jsx(ka,{size:48,className:"mx-auto mb-3 opacity-80"}),e.jsx("h1",{className:"text-xl font-bold mb-2",children:"MUSE  "}),e.jsx("p",{className:"text-white/80 text-sm",children:"  MUSE     ."})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:" MUSE "}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(wn,{size:16,className:"text-amber-500"}),"AI   "]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(yb,{size:16,className:"text-amber-500"}),"   "]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ee,{size:16,className:"text-amber-500"}),"  "]})]}),e.jsxs("button",{onClick:()=>d("/my/grade"),className:"mt-4 w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold text-sm flex items-center justify-center gap-1",children:["  ",e.jsx(et,{size:16})]})]})]})},gj=[{id:"flow",label:" "},{id:"types",label:" "},{id:"points",label:""}],qm=[{icon:_a,color:"purple",title:" ",desc:"       .",tip:"(D-day)    ."},{icon:Hm,color:"blue",title:" ",desc:"     .",tip:"(SNS , , )  ."},{icon:Ee,color:"emerald",title:" ",desc:"   ,  >     .",tip:"     ."},{icon:Km,color:"amber",title:"  & ",desc:"    (AI )   .",tip:"(/  )  ."},{icon:es,color:"red",title:" ",desc:"  .          .",tip:"    . (V1  V2  ...)"},{icon:St,color:"pink",title:"SNS ",desc:"  SNS ,  URL  .",tip:"    SNS ."},{icon:ig,color:"violet",title:" ",desc:"    .     .",tip:"  10,000 ."}],jg=[{type:"",color:"blue",icon:es,badge:"",desc:"   .    SNS 1 .",details:[{label:" ",value:" 1 +  1"},{label:"SNS ",value:"1 (URL + )"},{label:"",value:"  "},{label:"",value:"1"}]},{type:"",color:"emerald",icon:Vm,badge:"3",desc:"   3  SNS .",details:[{label:" ",value:" 2 +  2"},{label:"1",value:"  + "},{label:"2",value:"  + "},{label:"3",value:"  ( )"},{label:"",value:" "}]},{type:"4 ",color:"violet",icon:Bs,badge:"4",desc:"4       .",details:[{label:" ",value:"  +  ( 4)"},{label:"SNS ",value:" 1 ( 4)"},{label:"",value:" 1 ( 4)"},{label:"",value:"  (1~4)"}]}],fo=[{label:" ",planned:"1",oliveyoung:"2",challenge:" 4"},{label:"SNS ",planned:"1",oliveyoung:"3",challenge:"4"},{label:"",planned:"1",oliveyoung:"2",challenge:"4"},{label:"",planned:"1",oliveyoung:"2",challenge:" 4"},{label:" ",planned:"",oliveyoung:"3",challenge:""}],yg=[{name:"FRESH",label:" ",color:"emerald",condition:" ",benefit:"  "},{name:"GLOW",label:" ",color:"blue",condition:" 40+ /  3+",benefit:"  "},{name:"BLOOM",label:" ",color:"violet",condition:" 60+ /  10+",benefit:"  "},{name:"ICONIC",label:" ",color:"pink",condition:" 80+ /  30+",benefit:"  "},{name:"MUSE",label:"  ",color:"amber",condition:" 95+ /  50+",benefit:"AI  +  "}],vg={purple:{bg:"bg-purple-100",text:"text-purple-600",line:"bg-purple-200"},blue:{bg:"bg-blue-100",text:"text-blue-600",line:"bg-blue-200"},emerald:{bg:"bg-emerald-100",text:"text-emerald-600",line:"bg-emerald-200"},amber:{bg:"bg-amber-100",text:"text-amber-600",line:"bg-amber-200"},red:{bg:"bg-red-100",text:"text-red-500",line:"bg-red-200"},pink:{bg:"bg-pink-100",text:"text-pink-500",line:"bg-pink-200"},violet:{bg:"bg-violet-100",text:"text-violet-600",line:"bg-violet-200"}},Ng={blue:{card:"bg-blue-50 border-blue-200",badge:"bg-blue-500",dot:"bg-blue-100 text-blue-600"},emerald:{card:"bg-emerald-50 border-emerald-200",badge:"bg-emerald-500",dot:"bg-emerald-100 text-emerald-600"},violet:{card:"bg-violet-50 border-violet-200",badge:"bg-violet-500",dot:"bg-violet-100 text-violet-600"}};function pj(){const i=Qe(),[d,o]=h.useState("flow"),{isPCView:m,setExpandedContent:x}=qt();return h.useEffect(()=>{if(!m){x(null);return}return x(e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-2xl p-6 border border-purple-100",children:[e.jsx("h3",{className:"text-lg font-bold text-purple-900 mb-2",children:"  "}),e.jsx("p",{className:"text-sm text-purple-700",children:"      ."})]}),d==="flow"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"  "}),qm.map((n,f)=>{const j=vg[n.color];return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full ${j.bg} flex items-center justify-center text-sm font-bold ${j.text}`,children:f+1}),e.jsx("h5",{className:"font-bold text-gray-900",children:n.title})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:n.desc}),e.jsx("div",{className:"bg-amber-50 rounded-lg px-3 py-2",children:e.jsxs("p",{className:"text-xs text-amber-800",children:[e.jsx("span",{className:"font-bold",children:"TIP"})," ",n.tip]})})]},f)})]}),d==="types"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"  "}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-100 bg-gray-50",children:[e.jsx("th",{className:"text-left py-3 px-4 text-gray-500 font-medium"}),e.jsx("th",{className:"text-center py-3 px-4 text-blue-600 font-bold",children:""}),e.jsx("th",{className:"text-center py-3 px-4 text-emerald-600 font-bold",children:""}),e.jsx("th",{className:"text-center py-3 px-4 text-violet-600 font-bold",children:"4 "})]})}),e.jsx("tbody",{children:fo.map((n,f)=>e.jsxs("tr",{className:f<fo.length-1?"border-b border-gray-50":"",children:[e.jsx("td",{className:"py-3 px-4 text-gray-600 font-medium",children:n.label}),e.jsx("td",{className:"py-3 px-4 text-center text-gray-800",children:n.planned}),e.jsx("td",{className:"py-3 px-4 text-center text-gray-800",children:n.oliveyoung}),e.jsx("td",{className:"py-3 px-4 text-center text-gray-800",children:n.challenge})]},f))})]})}),jg.map((n,f)=>{const j=Ng[n.color];return e.jsxs("div",{className:`rounded-2xl border p-5 ${j.card}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("h5",{className:"font-bold text-gray-900 text-base",children:n.type}),e.jsx("span",{className:`text-xs text-white px-2 py-0.5 rounded-full ${j.badge}`,children:n.badge})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:n.desc}),e.jsx("div",{className:"space-y-2",children:n.details.map((g,z)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-sm text-gray-500 w-24 flex-shrink-0 font-medium",children:g.label}),e.jsx("span",{className:"text-sm text-gray-800",children:g.value})]},z))})]},f)})]}),d==="points"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:" &  "}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-5",children:[e.jsx("h5",{className:"font-bold text-gray-900 mb-4",children:"  "}),e.jsx("div",{className:"space-y-3",children:yg.map((n,f)=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:`w-12 h-12 rounded-full bg-${n.color}-100 flex items-center justify-center`,children:e.jsx("span",{className:`text-lg font-bold text-${n.color}-600`,children:n.name[0]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base font-bold text-gray-900",children:n.name}),e.jsx("span",{className:"text-sm text-gray-500",children:n.label})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:n.condition})]}),e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:n.benefit})]},f))})]}),e.jsxs("div",{className:"bg-violet-50 rounded-2xl border border-violet-100 p-5",children:[e.jsx("h5",{className:"font-bold text-violet-900 mb-3",children:"  "}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:"10,000"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:"3.3%"})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-violet-800",children:[e.jsx("p",{children:"1.  >     "}),e.jsx("p",{children:"2.      ()"}),e.jsx("p",{children:"3.    3~5   "})]})]})]})]})),()=>x(null)},[m,d]),e.jsx(To,{children:e.jsxs("div",{className:"px-5 pt-5 pb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-purple-700 rounded-3xl p-6 text-white relative overflow-hidden mb-6",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-white/5 rounded-full translate-y-1/2 -translate-x-1/2"}),e.jsxs("button",{onClick:()=>i(-1),className:"flex items-center gap-1 text-white/80 text-sm mb-3 hover:text-white",children:[e.jsx(Ks,{size:16}),""]}),e.jsx("p",{className:"text-purple-200 text-xs font-medium mb-1",children:"CNEC CREATOR GUIDE"}),e.jsx("h1",{className:"text-xl font-bold mb-1",children:"  "}),e.jsx("p",{className:"text-purple-200 text-sm",children:"    "})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-6",children:gj.map(n=>e.jsx("button",{onClick:()=>o(n.id),className:`py-2.5 rounded-xl text-sm font-semibold transition-all ${d===n.id?"bg-purple-600 text-white shadow-lg shadow-purple-200":"bg-white text-gray-600 border border-gray-100 shadow-sm"}`,children:n.label},n.id))}),d==="flow"&&e.jsx(fj,{}),d==="types"&&e.jsx(bj,{}),d==="points"&&e.jsx(jj,{navigate:i})]})})}function fj(){return e.jsx("div",{className:"space-y-0",children:qm.map((i,d)=>{const o=vg[i.color],m=i.icon,x=d===qm.length-1;return e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full ${o.bg} flex items-center justify-center flex-shrink-0`,children:e.jsx(m,{size:18,className:o.text})}),!x&&e.jsx("div",{className:`w-0.5 flex-1 ${o.line} my-1`})]}),e.jsxs("div",{className:`flex-1 bg-white rounded-2xl p-4 shadow-sm border border-gray-100 ${x?"mb-0":"mb-2"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:`text-xs font-bold ${o.text}`,children:["STEP ",d+1]}),e.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:i.title})]}),e.jsx("p",{className:"text-xs text-gray-600 leading-relaxed mb-2",children:i.desc}),e.jsx("div",{className:"bg-gray-50 rounded-lg px-3 py-2",children:e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"TIP"})," ",i.tip]})})]})]},d)})})}function bj(){return e.jsxs("div",{className:"space-y-4",children:[jg.map((i,d)=>{const o=Ng[i.color],m=i.icon;return e.jsxs("div",{className:`rounded-2xl border p-4 ${o.card}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl ${o.dot} flex items-center justify-center`,children:e.jsx(m,{size:20})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:i.type}),e.jsx("span",{className:`text-xs text-white px-2 py-0.5 rounded-full ${o.badge}`,children:i.badge})]})})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-3 leading-relaxed",children:i.desc}),e.jsx("div",{className:"space-y-1.5",children:i.details.map((x,n)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500 w-20 flex-shrink-0 font-medium",children:x.label}),e.jsx("span",{className:"text-xs text-gray-800",children:x.value})]},n))})]},d)}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-sm mb-3",children:" "}),e.jsx("div",{className:"overflow-x-auto -mx-1",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("th",{className:"text-left py-2 px-1 text-gray-500 font-medium w-20"}),e.jsx("th",{className:"text-center py-2 px-1 text-blue-600 font-bold",children:""}),e.jsx("th",{className:"text-center py-2 px-1 text-emerald-600 font-bold",children:""}),e.jsx("th",{className:"text-center py-2 px-1 text-violet-600 font-bold",children:"4"})]})}),e.jsx("tbody",{children:fo.map((i,d)=>e.jsxs("tr",{className:d<fo.length-1?"border-b border-gray-50":"",children:[e.jsx("td",{className:"py-2 px-1 text-gray-500 font-medium",children:i.label}),e.jsx("td",{className:"py-2 px-1 text-center text-gray-800",children:i.planned}),e.jsx("td",{className:"py-2 px-1 text-center text-gray-800",children:i.oliveyoung}),e.jsx("td",{className:"py-2 px-1 text-center text-gray-800",children:i.challenge})]},d))})]})})]})]})}function jj({navigate:i}){return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ig,{size:20,className:"text-violet-600"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"  "})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-violet-50 rounded-xl p-3",children:[e.jsx("p",{className:"text-xs font-semibold text-violet-700 mb-2",children:" "}),e.jsx("div",{className:"space-y-2",children:[" >     ","     ()","   3~5   "].map((d,o)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-violet-200 text-violet-700 flex items-center justify-center flex-shrink-0 text-xs font-bold mt-0.5",children:o+1}),e.jsx("p",{className:"text-xs text-gray-700",children:d})]},o))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:"10,000"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:"3.3%"})]})]}),e.jsx("div",{className:"bg-amber-50 rounded-xl p-3",children:e.jsxs("p",{className:"text-xs text-amber-800 leading-relaxed",children:[e.jsx("span",{className:"font-semibold",children:":"}),"   (SNS  )   .     ."]})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Oa,{size:20,className:"text-purple-600"}),e.jsx("h3",{className:"font-bold text-gray-900",children:" "})]}),e.jsx("div",{className:"space-y-2",children:yg.map((d,o)=>{const x=[Ra,Ra,bt,ka,ka][o];return e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:`w-9 h-9 rounded-full bg-${d.color}-100 flex items-center justify-center flex-shrink-0`,children:e.jsx(x,{size:16,className:`text-${d.color}-600`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:d.name}),e.jsx("span",{className:"text-xs text-gray-500",children:d.label})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:d.condition})]}),e.jsx("p",{className:"text-xs text-gray-600 font-medium text-right max-w-[100px]",children:d.benefit})]},o)})}),e.jsxs("button",{onClick:()=>i("/my/grade"),className:"w-full mt-4 py-3 bg-purple-600 text-white rounded-xl font-bold text-sm hover:bg-purple-700 transition-colors flex items-center justify-center gap-1",children:["   ",e.jsx(et,{size:16})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"  "}),e.jsx("div",{className:"space-y-3",children:[{q:" ?",a:", ,     .    ."},{q:"    ?",a:"          . (V1  V2)"},{q:"  ?",a:"SNS   URL  .         ."},{q:"  .",a:" ( +  + SNS URL)  .    ."}].map((d,o)=>e.jsxs("div",{className:"border-b border-gray-50 pb-3 last:border-0 last:pb-0",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:["Q. ",d.q]}),e.jsxs("p",{className:"text-xs text-gray-600 leading-relaxed",children:["A. ",d.a]})]},o))})]})]})}const yj=()=>{const{user:i}=xs(),d=Qe(),[o,m]=h.useState([]),[x,n]=h.useState(!0);h.useEffect(()=>{i&&d("/creator")},[i,d]),h.useEffect(()=>{f()},[]);const f=async()=>{try{const _=await Be.campaigns.getAll(),A=new Date,k=(_==null?void 0:_.filter(C=>{if(C.status!=="active"||C.approval_status==="pending_approval")return!1;if(C.application_deadline){const b=new Date(C.application_deadline);if(b.setHours(23,59,59,999),A>b)return!1}return!0}))||[];m(k.slice(0,3))}catch(_){console.error("  :",_)}finally{n(!1)}},j=_=>_?_>=1e4?`${Math.floor(_/1e4)}`:`${_.toLocaleString()}`:"0",g=_=>{switch(_){case"oliveyoung":return"bg-green-100 text-green-700";case"4week_challenge":return"bg-purple-100 text-purple-700";case"planned":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},z=_=>{switch(_){case"oliveyoung":return"";case"4week_challenge":return"4";case"planned":return"";default:return""}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"sticky top-0 bg-white/95 backdrop-blur-md z-50 border-b border-gray-100",children:e.jsxs("div",{className:"max-w-md mx-auto px-5 py-4 flex justify-between items-center",children:[e.jsx("img",{src:Cn,alt:"CNEC",className:"h-7"}),e.jsx(ss,{to:"/login",className:"px-4 py-2 bg-gray-900 text-white text-sm font-bold rounded-xl hover:bg-black transition-colors",children:""})]})}),e.jsxs("div",{className:"max-w-md mx-auto px-5 pb-10",children:[e.jsx("section",{className:"pt-8 pb-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-700 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-2xl pointer-events-none"}),e.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-white/5 rounded-full blur-2xl pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(bt,{size:14,className:"text-white/70"}),e.jsx("span",{className:"text-sm font-medium text-white/70",children:"  "})]}),e.jsxs("h1",{className:"text-2xl font-extrabold leading-tight mb-2",children:[" ",e.jsx("br",{})," "]}),e.jsxs("p",{className:"text-sm text-white/70 mb-6",children:["CNEC    ",e.jsx("br",{}),"   "]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ss,{to:"/signup",className:"flex-1 py-3 bg-white text-purple-700 text-center font-bold rounded-xl hover:bg-gray-100 transition-colors",children:""}),e.jsx(ss,{to:"/login",className:"flex-1 py-3 bg-white/20 text-white text-center font-bold rounded-xl hover:bg-white/30 transition-colors",children:""})]})]})]})}),e.jsx("section",{className:"mb-8",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white border border-gray-100 p-4 rounded-2xl shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Nt,{size:16,className:"text-purple-600"})})}),e.jsx("p",{className:"text-xl font-extrabold text-gray-900",children:"500+"}),e.jsx("p",{className:"text-xs text-gray-500",children:" "})]}),e.jsxs("div",{className:"bg-white border border-gray-100 p-4 rounded-2xl shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ft,{size:16,className:"text-green-600"})})}),e.jsx("p",{className:"text-xl font-extrabold text-gray-900",children:"1,000+"}),e.jsx("p",{className:"text-xs text-gray-500",children:" "})]}),e.jsxs("div",{className:"bg-white border border-gray-100 p-4 rounded-2xl shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Oa,{size:16,className:"text-blue-600"})})}),e.jsx("p",{className:"text-xl font-extrabold text-gray-900",children:"100+"}),e.jsx("p",{className:"text-xs text-gray-500",children:" "})]}),e.jsxs("div",{className:"bg-white border border-gray-100 p-4 rounded-2xl shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center",children:e.jsx(Kl,{size:16,className:"text-amber-600"})})}),e.jsx("p",{className:"text-xl font-extrabold text-gray-900",children:"5+"}),e.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:" "}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-white border border-gray-100 p-5 rounded-2xl shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(Kl,{size:24,className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:"  100  .     ."})]})]})}),e.jsx("div",{className:"bg-white border border-gray-100 p-5 rounded-2xl shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(Yt,{size:24,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:"      .      ."})]})]})}),e.jsx("div",{className:"bg-white border border-gray-100 p-5 rounded-2xl shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:e.jsx(go,{size:24,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:"  AI     .   ."})]})]})})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"  "}),e.jsxs(ss,{to:"/signup",className:"text-sm text-purple-600 font-medium flex items-center gap-0.5",children:[" ",e.jsx(et,{size:16})]})]}),x?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-purple-600"})}):o.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-gray-100",children:[e.jsx(ft,{size:40,className:"mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-sm text-gray-500",children:"    "})]}):e.jsx("div",{className:"space-y-4",children:o.map((_,A)=>e.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-gray-100 flex gap-4",children:[_.image_url?e.jsx("img",{src:_.image_url,alt:_.title,className:"w-20 h-20 rounded-2xl object-cover flex-shrink-0"}):e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-2xl flex-shrink-0 flex items-center justify-center",children:e.jsx(Yt,{size:24,className:"text-gray-300"})}),e.jsxs("div",{className:"flex-1 py-1 flex flex-col justify-between min-w-0",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-2 mb-1.5",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400",children:_.brand}),e.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-md ${g(_.campaign_type)}`,children:z(_.campaign_type)})]}),e.jsx("h4",{className:"font-bold text-gray-900 leading-tight text-base line-clamp-2",children:_.title})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"font-extrabold text-gray-900 text-lg",children:j(_.creator_points_override||_.reward_points)}),e.jsx(ss,{to:"/signup",className:"px-4 py-2 bg-gray-900 text-white text-xs font-bold rounded-xl hover:bg-black transition-colors",children:""})]})]})]},A))})]}),e.jsx("section",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl p-6 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/5 rounded-full blur-2xl pointer-events-none"}),e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("div",{className:"w-14 h-14 bg-white/10 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Ra,{size:28,className:"text-amber-400"})}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:" "}),e.jsx("p",{className:"text-sm text-white/60 mb-5",children:"      "}),e.jsx(ss,{to:"/signup",className:"block w-full py-3.5 bg-white text-gray-900 text-center font-bold rounded-xl hover:bg-gray-100 transition-colors",children:" "})]})]})}),e.jsx("footer",{className:"pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:Cn,alt:"CNEC",className:"h-5 opacity-40 mb-4"}),e.jsxs("div",{className:"flex gap-4 text-xs text-gray-400 mb-4",children:[e.jsx("a",{href:"#",className:"hover:text-gray-600",children:""}),e.jsx("a",{href:"#",className:"hover:text-gray-600",children:""}),e.jsx("a",{href:"#",className:"hover:text-gray-600",children:""})]}),e.jsx("p",{className:"text-xs text-gray-400",children:" 2024 CNEC. All rights reserved."})]})})]})]})},vj=()=>{const{id:i}=Ca(),{user:d}=xs(),o=Qe(),{isPCView:m,setExpandedContent:x}=qt(),[n,f]=h.useState(null),[j,g]=h.useState(!0),[z,_]=h.useState(""),[A,k]=h.useState(null),[C,b]=h.useState(null),[J,K]=h.useState(!1),[T,O]=h.useState(!0),[w,H]=h.useState(!1);h.useEffect(()=>{i&&y()},[i,d]);const y=async()=>{try{g(!0),_("");const{data:W,error:v}=await se.from("campaigns").select("*").eq("id",i).single();if(v)throw v;if(f(W),d){const R=await Be.userProfiles.get(d.id);b(R);const ae=await Be.applications.getByUserAndCampaign(d.id,i);k(ae)}}catch(W){console.error("  :",W),_("   .")}finally{g(!1)}},G=W=>W?`${Number(W).toLocaleString()}P`:"-",D=W=>{if(!W)return"-";const v=new Date(W);return`${v.getFullYear()}.${String(v.getMonth()+1).padStart(2,"0")}.${String(v.getDate()).padStart(2,"0")}`},$=W=>{if(!W)return null;const v=new Date;v.setHours(0,0,0,0);const R=new Date(W);R.setHours(0,0,0,0);const ae=Math.ceil((R-v)/(1e3*60*60*24));return ae<0?"":ae===0?"D-Day":`D-${ae}`},ie=W=>{switch(W){case"oliveyoung":return"";case"4week_challenge":return"4";case"planned":return"";default:return""}},be=W=>{switch(W){case"oliveyoung":return"bg-emerald-500 text-white";case"4week_challenge":return"bg-violet-500 text-white";case"planned":return"bg-blue-500 text-white";default:return"bg-blue-500 text-white"}},M=W=>{switch(W==null?void 0:W.toLowerCase()){case"instagram":return e.jsx(zt,{size:16,className:"text-pink-500"});case"youtube":return e.jsx(jt,{size:16,className:"text-red-500"});case"tiktok":return e.jsx(ot,{size:16,className:"text-gray-700"});default:return null}},le=W=>{switch(W==null?void 0:W.toLowerCase()){case"instagram":return"";case"youtube":return"";case"tiktok":return"";default:return W}},X=W=>{switch(W){case"30sec":return"30";case"45sec":return"45";case"60sec":return"60";case"90sec":return"90";default:return W||"-"}},B=W=>{switch(W){case"slow":return"";case"normal":return"";case"fast":return"";default:return W||"-"}},ne=()=>{if(!d){o("/login",{state:{from:`/campaign/${i}`}});return}o(`/campaign/${i}/apply`)};if(h.useEffect(()=>{if(!m||!n){x(null);return}const W=n.creator_points_override||n.reward_points||0;return x(e.jsxs("div",{className:"space-y-6",children:[n.image_url&&e.jsx("div",{className:"rounded-2xl overflow-hidden shadow-lg",children:e.jsx("img",{src:n.image_url,alt:n.title,className:"w-full max-h-[500px] object-cover"})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[n.brand&&e.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:n.brand}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:n.title}),n.product_name&&e.jsx("p",{className:"text-base text-gray-600 mb-4",children:n.product_name}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{size:20,className:"text-violet-500"}),e.jsx("span",{className:"text-2xl font-bold text-violet-600",children:G(W)})]}),n.total_slots&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(Nt,{size:18}),e.jsxs("span",{children:[n.total_slots," "]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Bs,{size:20,className:"text-purple-600"})," "]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:D(n.application_deadline)})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:D(n.announcement_date)})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[D(n.shooting_start)," ~ ",D(n.shooting_end)]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:D(n.upload_deadline)})]})]})]}),n.description&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:" "}),e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:n.description})]})]})),()=>x(null)},[m,n]),j)return e.jsx("div",{className:"flex justify-center bg-gray-100 min-h-screen font-sans",children:e.jsx("div",{className:"w-full max-w-md bg-white min-h-screen shadow-2xl flex items-center justify-center",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-blue-600"})})});if(z||!n)return e.jsx("div",{className:"flex justify-center bg-gray-100 min-h-screen font-sans",children:e.jsxs("div",{className:"w-full max-w-md bg-white min-h-screen shadow-2xl flex flex-col items-center justify-center p-4",children:[e.jsx(Ts,{size:48,className:"text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:z||"   ."}),e.jsx("button",{onClick:()=>o("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:" "})]})});const L=n.creator_points_override||n.reward_points||0,ue=$(n.application_deadline),re=ue==="",me=n.remaining_slots!==null&&n.remaining_slots<=0,S=n.ai_generated_guide||{};return e.jsx("div",{className:"flex justify-center bg-gray-100 min-h-screen font-sans",children:e.jsxs("div",{className:"w-full max-w-md bg-white min-h-screen shadow-2xl relative",children:[e.jsxs("div",{className:"pb-24",children:[e.jsx("div",{className:"sticky top-0 z-40 bg-white border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx("button",{onClick:()=>o(-1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsx(Ks,{size:24,className:"text-gray-700"})}),e.jsx("h1",{className:"text-base font-medium text-gray-900 truncate max-w-[200px]",children:" "}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",children:e.jsx(vb,{size:20,className:"text-gray-600"})}),e.jsx("button",{onClick:()=>K(!J),className:"p-2 hover:bg-gray-100 rounded-full",children:e.jsx(Ai,{size:20,className:J?"fill-red-500 text-red-500":"text-gray-600"})})]})]})}),e.jsxs("div",{className:"bg-white",children:[e.jsxs("div",{className:"relative",children:[n.image_url?e.jsx("img",{src:n.image_url,alt:n.title,className:"w-full aspect-square object-cover"}):e.jsx("div",{className:"w-full aspect-square bg-gray-100 flex items-center justify-center",children:e.jsx(Yt,{size:64,className:"text-gray-300"})}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-wrap gap-2",children:[e.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded ${be(n.campaign_type)}`,children:ie(n.campaign_type)}),ue&&!re&&e.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded ${ue==="D-Day"||parseInt(ue==null?void 0:ue.replace("D-",""))<=3?"bg-red-500 text-white":"bg-black/70 text-white"}`,children:ue})]})]}),e.jsxs("div",{className:"p-4",children:[n.brand&&e.jsx("p",{className:"text-sm text-blue-600 font-medium mb-1",children:n.brand}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2 leading-tight",children:n.title}),n.product_name&&e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:n.product_name}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{size:18,className:"text-violet-500"}),e.jsx("span",{className:"text-2xl font-bold text-violet-600",children:G(L)})]}),n.total_slots&&e.jsxs("div",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[e.jsx(Nt,{size:16}),e.jsx("span",{children:n.remaining_slots!==null?`${n.remaining_slots}/${n.total_slots} `:`${n.total_slots} `})]})]}),n.category&&Array.isArray(n.category)&&n.category.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.category.map((W,v)=>e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-full text-sm text-gray-700",children:[M(W),le(W)]},v))})]}),e.jsx("div",{className:"h-2 bg-gray-100"}),e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Bs,{size:18})," "]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-3",children:[n.application_deadline&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:" "}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[D(n.application_deadline),ue&&e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${re?"bg-gray-200 text-gray-500":ue==="D-Day"||parseInt(ue==null?void 0:ue.replace("D-",""))<=3?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:ue})]})]}),n.shipping_date&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[e.jsx(Gm,{size:14})," "]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:D(n.shipping_date)})]}),n.start_date&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[e.jsx(Nr,{size:14})," "]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:D(n.start_date)})]}),n.content_submission_deadline&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[e.jsx(Nr,{size:14})," "]}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[D(n.content_submission_deadline),$(n.content_submission_deadline)&&e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold bg-purple-100 text-purple-600",children:$(n.content_submission_deadline)})]})]}),n.end_date&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:" "}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[D(n.end_date),$(n.end_date)&&e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold bg-orange-100 text-orange-600",children:$(n.end_date)})]})]}),n.campaign_type==="4week_challenge"&&e.jsxs(e.Fragment,{children:[n.week1_deadline&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"1 "}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:D(n.week1_deadline)})]}),n.week2_deadline&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"2 "}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:D(n.week2_deadline)})]}),n.week3_deadline&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"3 "}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:D(n.week3_deadline)})]}),n.week4_deadline&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"4 "}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:D(n.week4_deadline)})]})]}),n.campaign_type==="oliveyoung"&&e.jsxs(e.Fragment,{children:[n.step1_deadline&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"1 "}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:D(n.step1_deadline)})]}),n.step2_deadline&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"2 "}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:D(n.step2_deadline)})]}),n.step3_deadline&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"3 "}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:D(n.step3_deadline)})]})]})]})]}),e.jsx("div",{className:"h-2 bg-gray-100"}),e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Km,{size:18})," "]}),e.jsxs("div",{className:"space-y-4",children:[n.product_detail_file_url&&e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"overflow-hidden rounded-xl max-h-48",children:[e.jsx("img",{src:n.product_detail_file_url,alt:" ",className:"w-full object-cover object-top"}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-20 bg-gradient-to-t from-white to-transparent"})]}),e.jsx("button",{onClick:()=>H(!0),className:"absolute bottom-2 left-1/2 -translate-x-1/2 px-4 py-2 bg-white/90 backdrop-blur border border-gray-200 rounded-full text-sm font-medium text-gray-700 hover:bg-white shadow-sm",children:"  "})]}),n.product_description&&e.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-line",children:n.product_description})}),n.product_price&&e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:" "}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:n.product_price})]}),n.product_link&&e.jsxs("a",{href:n.product_link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 border border-gray-200 rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50",children:[e.jsx(ns,{size:16}),"  "]})]})]}),e.jsx("div",{className:"h-2 bg-gray-100"}),n.requirements&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(it,{size:18})," "]}),e.jsx("div",{className:"bg-blue-50 rounded-xl p-4",children:e.jsx("p",{className:"text-sm text-blue-800 leading-relaxed whitespace-pre-line",children:n.requirements})})]}),e.jsx("div",{className:"h-2 bg-gray-100"})]}),S&&(S.hookingPoint||S.coreMessage||S.missions)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("button",{onClick:()=>O(!T),className:"w-full flex items-center justify-between",children:[e.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(bt,{size:18,className:"text-violet-500"}),"  "]}),e.jsx(Sa,{size:20,className:`text-gray-400 transition-transform ${T?"rotate-180":""}`})]}),T&&e.jsxs("div",{className:"mt-4 space-y-4",children:[S.hookingPoint&&e.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-purple-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(wn,{size:16,className:"text-violet-600"}),e.jsx("span",{className:"text-sm font-bold text-violet-600",children:" 1  "})]}),e.jsxs("p",{className:"text-base font-medium text-gray-900",children:['"',S.hookingPoint,'"']})]}),S.coreMessage&&e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Mi,{size:16,className:"text-blue-600"}),e.jsx("span",{className:"text-sm font-bold text-blue-600",children:"  "})]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:S.coreMessage})]}),(S.videoLength||S.videoTempo)&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(es,{size:16,className:"text-gray-600"}),e.jsx("span",{className:"text-sm font-bold text-gray-700",children:"  "})]}),e.jsxs("div",{className:"flex gap-4",children:[S.videoLength&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Lt,{size:14,className:"text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[": ",e.jsx("strong",{children:X(S.videoLength)})]})]}),S.videoTempo&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(la,{size:14,className:"text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[": ",e.jsx("strong",{children:B(S.videoTempo)})]})]})]}),S.hasNarration!==void 0&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[": ",e.jsx("strong",{children:S.hasNarration?"":""})]})]}),S.missions&&e.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ee,{size:16,className:"text-green-600"}),e.jsx("span",{className:"text-sm font-bold text-green-700",children:"   "})]}),e.jsxs("ul",{className:"space-y-2",children:[S.missions.beforeAfter&&e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Ee,{size:14,className:"text-green-500"}),"Before & After "]}),S.missions.productCloseup&&e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Ee,{size:14,className:"text-green-500"}),"   "]}),S.missions.productTexture&&e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Ee,{size:14,className:"text-green-500"}),"  "]}),S.missions.storeVisit&&e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Dm,{size:14,className:"text-green-500"}),"   "]}),S.missions.weeklyReview&&e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Bs,{size:14,className:"text-green-500"}),"7   "]}),S.missions.priceInfo&&e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(ng,{size:14,className:"text-green-500"}),"/  "]}),S.missions.purchaseLink&&e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Vm,{size:14,className:"text-green-500"}),"  "]})]})]}),S.prohibitions&&e.jsxs("div",{className:"bg-red-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Mt,{size:16,className:"text-red-600"}),e.jsx("span",{className:"text-sm font-bold text-red-700",children:"  "})]}),e.jsxs("ul",{className:"space-y-2",children:[S.prohibitions.competitorMention&&e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Mt,{size:14,className:"text-red-500"}),"   "]}),S.prohibitions.exaggeratedClaims&&e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Mt,{size:14,className:"text-red-500"})," /  "]}),S.prohibitions.medicalMisrepresentation&&e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Mt,{size:14,className:"text-red-500"}),"   "]}),S.prohibitions.priceOutOfSale&&e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Mt,{size:14,className:"text-red-500"}),"     "]}),S.prohibitions.negativeExpression&&e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Mt,{size:14,className:"text-red-500"}),"   "]}),S.prohibitions.other&&S.prohibitionOtherText&&e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(Mt,{size:14,className:"text-red-500"}),S.prohibitionOtherText]})]})]}),S.hashtags&&S.hashtags.length>0&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ot,{size:16,className:"text-gray-600"}),e.jsx("span",{className:"text-sm font-bold text-gray-700",children:"#  "})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:S.hashtags.map((W,v)=>e.jsx("span",{className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:W.startsWith("#")?W:`#${W}`},v))})]}),S.referenceUrl&&e.jsxs("a",{href:S.referenceUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 bg-gray-100 rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-200",children:[e.jsx(la,{size:16}),"  "]}),S.needsPartnershipCode&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-700 bg-amber-50 rounded-xl p-3",children:[e.jsx(_r,{size:16}),e.jsx("span",{children:"  "})]})]})]}),e.jsx("div",{className:"h-2 bg-gray-100"})]}),n.campaign_type==="oliveyoung"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Dm,{size:18,className:"text-emerald-500"})," "]}),e.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 space-y-2",children:[n.oliveyoung_subtype&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:""}),e.jsx("span",{className:"text-sm font-medium text-emerald-700 capitalize",children:n.oliveyoung_subtype})]}),n.is_oliveyoung_sale&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-emerald-600",children:[e.jsx(Ee,{size:16}),e.jsx("span",{children:"  "})]})]})]}),e.jsx("div",{className:"h-2 bg-gray-100"})]}),n.questions&&Array.isArray(n.questions)&&n.questions.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(it,{size:18}),"   (",n.questions.length,")"]}),e.jsx("div",{className:"space-y-2",children:n.questions.map((W,v)=>{const R=typeof W=="string"?W:(W==null?void 0:W.text)||(W==null?void 0:W.question)||(W==null?void 0:W.content)||"";return e.jsx("div",{className:"bg-gray-50 rounded-xl p-3",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsxs("span",{className:"font-medium text-blue-600",children:["Q",v+1,"."]})," ",R]})},v)})})]}),e.jsx("div",{className:"h-2 bg-gray-100"})]}),e.jsxs("div",{className:"p-4 pb-8",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(_r,{size:18,className:"text-amber-500"}),""]}),e.jsx("div",{className:"bg-amber-50 rounded-xl p-4",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2 text-xs text-amber-800",children:[e.jsx("span",{className:"text-amber-500 mt-0.5",children:""}),e.jsx("span",{children:"    ."})]}),e.jsxs("li",{className:"flex items-start gap-2 text-xs text-amber-800",children:[e.jsx("span",{className:"text-amber-500 mt-0.5",children:""}),e.jsx("span",{children:"    ( ) ."})]}),e.jsxs("li",{className:"flex items-start gap-2 text-xs text-amber-800",children:[e.jsx("span",{className:"text-amber-500 mt-0.5",children:""}),e.jsx("span",{children:"    1080p   ."})]}),e.jsxs("li",{className:"flex items-start gap-2 text-xs text-amber-800",children:[e.jsx("span",{className:"text-amber-500 mt-0.5",children:""}),e.jsx("span",{children:"2   1,    ."})]})]})})]})]})]}),e.jsx("div",{className:m?"sticky bottom-0 w-full bg-white border-t border-gray-100 p-4 pb-6 z-40":"fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-md bg-white border-t border-gray-100 p-4 pb-6 z-40",children:A?e.jsx("div",{className:"w-full py-3.5 bg-gray-100 text-gray-500 rounded-xl font-bold text-center",children:A.status==="pending"?"":A.status==="selected"?"":A.status==="approved"?"":A.status==="rejected"?"":" "}):re?e.jsx("div",{className:"w-full py-3.5 bg-gray-100 text-gray-500 rounded-xl font-bold text-center",children:" "}):me?e.jsx("div",{className:"w-full py-3.5 bg-gray-100 text-gray-500 rounded-xl font-bold text-center",children:" "}):e.jsx("button",{onClick:ne,className:"w-full py-3.5 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors",children:""})}),w&&n.product_detail_file_url&&e.jsxs("div",{className:m?"absolute inset-0 z-50 bg-black/90 flex items-center justify-center":"fixed inset-0 z-50 bg-black/90 flex items-center justify-center",onClick:()=>H(!1),children:[e.jsx("button",{onClick:()=>H(!1),className:"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/30 rounded-full z-10",children:e.jsx(Fs,{size:24,className:"text-white"})}),e.jsx("div",{className:"w-full h-full overflow-auto p-4",onClick:W=>W.stopPropagation(),children:e.jsx("img",{src:n.product_detail_file_url,alt:"  ",className:"w-full max-w-lg mx-auto rounded-lg"})})]})]})})},Nj=()=>{const{id:i}=Ca(),{user:d}=xs(),o=Qe(),{isPCView:m,setExpandedContent:x}=qt(),[n,f]=h.useState(null),[j,g]=h.useState(!0),[z,_]=h.useState(!1),[A,k]=h.useState(""),[C,b]=h.useState(!1),[J,K]=h.useState(null),[T,O]=h.useState(null),[w,H]=h.useState({answer_1:"",answer_2:"",answer_3:"",answer_4:"",additional_info:"",applicant_name:"",age:"",skin_type:"",postal_code:"",address:"",phone_number:"",instagram_url:"",youtube_url:"",tiktok_url:"",portrait_rights_consent:!1}),y=["","","","",""];h.useEffect(()=>{if(!d){o("/login",{state:{from:`/campaign/${i}/apply`}});return}G()},[i,d]);const G=async()=>{try{g(!0),k("");const{data:B,error:ne}=await se.from("campaigns").select("*").eq("id",i).single();if(ne)throw ne;f(B);const L=await Be.userProfiles.get(d.id);K(L),L&&H(re=>({...re,applicant_name:L.name||"",age:L.age||"",skin_type:L.skin_type||"",postal_code:L.postcode||"",address:L.address?`${L.address} ${L.detail_address||""}`.trim():"",phone_number:L.phone||"",instagram_url:L.instagram_url||"",youtube_url:L.youtube_url||"",tiktok_url:L.tiktok_url||""}));const ue=await Be.applications.getByUserAndCampaign(d.id,i);O(ue)}catch(B){console.error("  :",B),k("  .")}finally{g(!1)}},D=()=>{if(!J)return{isComplete:!1,missing:[" "]};const B=[];return J.skin_type||B.push(""),J.address||B.push(""),!J.instagram_url&&!J.youtube_url&&!J.tiktok_url&&B.push("SNS "),J.phone||B.push(""),{isComplete:B.length===0,missing:B}},$=()=>{const B=[];return w.applicant_name.trim()||B.push(" "),w.phone_number.trim()||B.push(" "),w.address.trim()||B.push(" "),!w.instagram_url&&!w.youtube_url&&!w.tiktok_url&&B.push("SNS   1  "),n!=null&&n.questions&&Array.isArray(n.questions)&&n.questions.length>0&&n.questions.forEach((ne,L)=>{var re;const ue=`answer_${L+1}`;if(!((re=w[ue])!=null&&re.trim())){const me=typeof ne=="string"?ne:(ne==null?void 0:ne.text)||(ne==null?void 0:ne.question)||` ${L+1}`;B.push(`"${me.substring(0,20)}..."  `)}}),w.portrait_rights_consent||B.push("   "),B},ie=async()=>{const B=$();if(B.length>0){k(B.join(`
`)),window.scrollTo({top:0,behavior:"smooth"});return}try{_(!0),k("");const ne={user_id:d.id,campaign_id:n.id,applicant_name:w.applicant_name,age:parseInt(w.age)||null,skin_type:w.skin_type,postal_code:w.postal_code,address:w.address,phone_number:w.phone_number,instagram_url:w.instagram_url,youtube_url:w.youtube_url||null,tiktok_url:w.tiktok_url||null,answer_1:w.answer_1||null,answer_2:w.answer_2||null,answer_3:w.answer_3||null,answer_4:w.answer_4||null,additional_info:w.additional_info||null,status:"pending",created_at:new Date().toISOString()},{error:L}=await se.from("applications").insert([ne]);if(L)throw L;b(!0)}catch(ne){console.error(" :",ne),k("   .  .")}finally{_(!1)}},be=B=>B?`${Number(B).toLocaleString()}P`:"-",M=B=>{if(!B)return"-";const ne=new Date(B);return`${ne.getMonth()+1} ${ne.getDate()}`};if(h.useEffect(()=>{if(!m||!n){x(null);return}const B=n.creator_points_override||n.reward_points||0;return x(e.jsxs("div",{className:"space-y-6",children:[n.image_url&&e.jsx("div",{className:"rounded-2xl overflow-hidden shadow-lg",children:e.jsx("img",{src:n.image_url,alt:n.title,className:"w-full max-h-[400px] object-cover"})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[n.brand&&e.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:n.brand}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:n.title}),e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{size:18,className:"text-violet-500"}),e.jsxs("span",{className:"text-xl font-bold text-violet-600",children:[B.toLocaleString(),"P"]})]})}),n.description&&e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap leading-relaxed",children:n.description})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Bs,{size:20,className:"text-purple-600"})," "]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:M(n.application_deadline)})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:M(n.announcement_date)})]})]})]}),n.questions&&n.questions.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4",children:" "}),e.jsx("div",{className:"space-y-3",children:n.questions.map((ne,L)=>e.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Q",L+1,". ",ne.question||ne]})},L))})]})]})),()=>x(null)},[m,n]),j)return e.jsx("div",{className:"flex justify-center bg-gray-100 min-h-screen font-sans",children:e.jsx("div",{className:"w-full max-w-md bg-white min-h-screen shadow-2xl flex items-center justify-center",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-blue-600"})})});if(C)return e.jsx("div",{className:"flex justify-center bg-gray-100 min-h-screen font-sans",children:e.jsxs("div",{className:"w-full max-w-md bg-white min-h-screen shadow-2xl flex flex-col items-center justify-center p-4",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(Ee,{size:48,className:"text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" !"}),e.jsxs("p",{className:"text-gray-500 text-center mb-8",children:["  .",e.jsx("br",{}),"   ."]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>o("/my/applications"),className:"px-6 py-3 bg-white border border-gray-200 text-gray-700 rounded-xl font-medium",children:"  "}),e.jsx("button",{onClick:()=>o("/"),className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium",children:""})]})]})});if(T)return e.jsx("div",{className:"flex justify-center bg-gray-100 min-h-screen font-sans",children:e.jsxs("div",{className:"w-full max-w-md bg-white min-h-screen shadow-2xl flex flex-col items-center justify-center p-4",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(Ee,{size:48,className:"text-blue-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  "}),e.jsxs("p",{className:"text-gray-500 text-center mb-2",children:[" : ",T.status==="pending"?"":T.status==="selected"?"":T.status==="approved"?"":T.status==="rejected"?"":""]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>o("/my/applications"),className:"px-6 py-3 bg-white border border-gray-200 text-gray-700 rounded-xl font-medium",children:"  "}),e.jsx("button",{onClick:()=>o("/"),className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium",children:""})]})]})});const le=D();if(!le.isComplete)return e.jsx("div",{className:"flex justify-center bg-gray-100 min-h-screen font-sans",children:e.jsxs("div",{className:"w-full max-w-md bg-white min-h-screen shadow-2xl flex flex-col items-center justify-center p-4",children:[e.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(_r,{size:48,className:"text-amber-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  "}),e.jsx("p",{className:"text-gray-500 text-center mb-4",children:"    ."}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:le.missing.map((B,ne)=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-red-50 text-red-600 rounded-full text-sm font-medium",children:[e.jsx(Ts,{size:14}),B]},ne))}),e.jsx("button",{onClick:()=>o("/profile"),className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-bold",children:" "})]})});const X=(n==null?void 0:n.creator_points_override)||(n==null?void 0:n.reward_points)||0;return e.jsx("div",{className:"flex justify-center bg-gray-100 min-h-screen font-sans",children:e.jsxs("div",{className:"w-full max-w-md bg-white min-h-screen shadow-2xl relative",children:[e.jsxs("div",{className:"pb-24",children:[e.jsx("div",{className:"sticky top-0 z-40 bg-white border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx("button",{onClick:()=>o(-1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsx(Ks,{size:24,className:"text-gray-700"})}),e.jsx("h1",{className:"text-base font-medium text-gray-900",children:" "}),e.jsx("div",{className:"w-8"})]})}),n&&e.jsx("div",{className:"bg-white border-b border-gray-100 p-4",children:e.jsxs("div",{className:"flex gap-3",children:[n.image_url?e.jsx("img",{src:n.image_url,alt:n.title,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0"}):e.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Yt,{size:24,className:"text-gray-300"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:n.brand}),e.jsx("h2",{className:"text-sm font-bold text-gray-900 line-clamp-2",children:n.title}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("span",{className:"text-sm font-bold text-violet-600 flex items-center gap-1",children:[e.jsx(Yt,{size:14}),be(X)]}),n.application_deadline&&e.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(Bs,{size:12}),M(n.application_deadline)," "]})]})]})]})}),e.jsxs("div",{className:"p-4 space-y-6",children:[A&&e.jsx("div",{className:"bg-red-50 text-red-600 text-sm p-4 rounded-xl whitespace-pre-line",children:A}),e.jsxs("div",{className:"bg-white rounded-xl p-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:" "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:" *"}),e.jsx("input",{type:"text",placeholder:" ",value:w.applicant_name,onChange:B=>H({...w,applicant_name:B.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:" *"}),e.jsx("input",{type:"tel",placeholder:"010-0000-0000",value:w.phone_number,onChange:B=>H({...w,phone_number:B.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"  *"}),e.jsx("input",{type:"text",placeholder:" ",value:w.address,onChange:B=>H({...w,address:B.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:""}),e.jsx("input",{type:"number",placeholder:"",value:w.age,onChange:B=>H({...w,age:B.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:""}),e.jsxs("select",{value:w.skin_type,onChange:B=>H({...w,skin_type:B.target.value}),className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:""}),y.map(B=>e.jsx("option",{value:B,children:B},B))]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"SNS  ( 1) *"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(zt,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-500"}),e.jsx("input",{type:"url",placeholder:" URL",value:w.instagram_url,onChange:B=>H({...w,instagram_url:B.target.value}),className:"w-full pl-11 pr-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(jt,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-red-500"}),e.jsx("input",{type:"url",placeholder:" URL",value:w.youtube_url,onChange:B=>H({...w,youtube_url:B.target.value}),className:"w-full pl-11 pr-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ot,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-700"}),e.jsx("input",{type:"url",placeholder:" URL",value:w.tiktok_url,onChange:B=>H({...w,tiktok_url:B.target.value}),className:"w-full pl-11 pr-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(n==null?void 0:n.questions)&&Array.isArray(n.questions)&&n.questions.length>0&&e.jsxs("div",{className:"bg-white rounded-xl p-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:" "}),e.jsx("div",{className:"space-y-4",children:n.questions.map((B,ne)=>{const L=typeof B=="string"?B:(B==null?void 0:B.text)||(B==null?void 0:B.question)||(B==null?void 0:B.content)||"";return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-gray-700 mb-2 font-medium",children:["Q",ne+1,". ",L," *"]}),e.jsx("textarea",{placeholder:" ",value:w[`answer_${ne+1}`]||"",onChange:ue=>H({...w,[`answer_${ne+1}`]:ue.target.value}),rows:3,className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]},ne)})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"  ()"}),e.jsx("textarea",{placeholder:"     ",value:w.additional_info,onChange:B=>H({...w,additional_info:B.target.value}),rows:3,className:"w-full px-4 py-3 bg-gray-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-100",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Ts,{size:18,className:"text-blue-600"}),"   "]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"      :"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" "})," - ,     "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:""})," - /   "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:""})," -    "]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"     *"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 text-xs text-gray-600 leading-relaxed space-y-2",children:[e.jsx("p",{children:"      (, ,  )   , ,      ."}),e.jsxs("ul",{className:"space-y-1 pl-2",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:":"}),"    CNEC "]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:" :"})," , ,    "]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:" :"})," SNS  1"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:" :"}),"  , SNS, ,  "]})]}),e.jsx("p",{className:"text-gray-500",children:"           ."})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:w.portrait_rights_consent,onChange:B=>H({...w,portrait_rights_consent:B.target.checked}),className:"mt-0.5 w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 leading-relaxed",children:"   ,     ."})]})]})]})]}),e.jsx("div",{className:m?"sticky bottom-0 w-full bg-white border-t border-gray-100 p-4 pb-6 z-40":"fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-md bg-white border-t border-gray-100 p-4 pb-6 z-40",children:e.jsx("button",{onClick:ie,disabled:z,className:"w-full py-3.5 bg-blue-600 text-white rounded-xl font-bold disabled:opacity-50 hover:bg-blue-700 transition-colors",children:z?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ue,{size:18,className:"animate-spin"})," ..."]}):""})})]})})};var wj=Symbol.for("react.lazy"),bo=ob[" use ".trim().toString()];function _j(i){return typeof i=="object"&&i!==null&&"then"in i}function wg(i){return i!=null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===wj&&"_payload"in i&&_j(i._payload)}function _g(i){const d=kj(i),o=h.forwardRef((m,x)=>{let{children:n,...f}=m;wg(n)&&typeof bo=="function"&&(n=bo(n._payload));const j=h.Children.toArray(n),g=j.find(Cj);if(g){const z=g.props.children,_=j.map(A=>A===g?h.Children.count(z)>1?h.Children.only(null):h.isValidElement(z)?z.props.children:null:A);return e.jsx(d,{...f,ref:x,children:h.isValidElement(z)?h.cloneElement(z,void 0,_):null})}return e.jsx(d,{...f,ref:x,children:n})});return o.displayName=`${i}.Slot`,o}var kg=_g("Slot");function kj(i){const d=h.forwardRef((o,m)=>{let{children:x,...n}=o;if(wg(x)&&typeof bo=="function"&&(x=bo(x._payload)),h.isValidElement(x)){const f=Ej(x),j=zj(n,x.props);return x.type!==h.Fragment&&(j.ref=m?Tf(m,f):f),h.cloneElement(x,j)}return h.Children.count(x)>1?h.Children.only(null):null});return d.displayName=`${i}.SlotClone`,d}var Sj=Symbol("radix.slottable");function Cj(i){return h.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===Sj}function zj(i,d){const o={...d};for(const m in d){const x=i[m],n=d[m];/^on[A-Z]/.test(m)?x&&n?o[m]=(...j)=>{const g=n(...j);return x(...j),g}:x&&(o[m]=x):m==="style"?o[m]={...x,...n}:m==="className"&&(o[m]=[x,n].filter(Boolean).join(" "))}return{...i,...o}}function Ej(i){var m,x;let d=(m=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:m.get,o=d&&"isReactWarning"in d&&d.isReactWarning;return o?i.ref:(d=(x=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:x.get,o=d&&"isReactWarning"in d&&d.isReactWarning,o?i.props.ref:i.props.ref||i.ref)}function ps(...i){return Eb(Ab(i))}const Aj=Fm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function qe({className:i,variant:d,size:o,asChild:m=!1,...x}){const n=m?kg:"button";return e.jsx(n,{"data-slot":"button",className:ps(Aj({variant:d,size:o,className:i})),...x})}function _s({className:i,...d}){return e.jsx("div",{"data-slot":"card",className:ps("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),...d})}function zs({className:i,...d}){return e.jsx("div",{"data-slot":"card-header",className:ps("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),...d})}function Es({className:i,...d}){return e.jsx("div",{"data-slot":"card-title",className:ps("leading-none font-semibold",i),...d})}function at({className:i,...d}){return e.jsx("div",{"data-slot":"card-description",className:ps("text-muted-foreground text-sm",i),...d})}function As({className:i,...d}){return e.jsx("div",{"data-slot":"card-content",className:ps("px-6",i),...d})}function is({className:i,type:d,...o}){return e.jsx("input",{type:d,"data-slot":"input",className:ps("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),...o})}var Tj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Uj=Tj.reduce((i,d)=>{const o=_g(`Primitive.${d}`),m=h.forwardRef((x,n)=>{const{asChild:f,...j}=x,g=f?o:d;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(g,{...j,ref:n})});return m.displayName=`Primitive.${d}`,{...i,[d]:m}},{}),Mj="Label",Sg=h.forwardRef((i,d)=>e.jsx(Uj.label,{...i,ref:d,onMouseDown:o=>{var x;o.target.closest("button, input, select, textarea")||((x=i.onMouseDown)==null||x.call(i,o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));Sg.displayName=Mj;var Dj=Sg;function He({className:i,...d}){return e.jsx(Dj,{"data-slot":"label",className:ps("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",i),...d})}const Lj=Fm("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function yt({className:i,variant:d,...o}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:ps(Lj({variant:d}),i),...o})}function vt({className:i,...d}){return e.jsx("div",{"data-slot":"alert-description",className:ps("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",i),...d})}const qj=()=>{var T,O;const{signInWithEmail:i,signInWithGoogle:d,loading:o}=xs(),m=Qe(),x=zn(),[n,f]=h.useState({email:"",password:""}),[j,g]=h.useState(""),[z,_]=h.useState(!1),[A,k]=h.useState(!1);h.useEffect(()=>{const w=navigator.userAgent||navigator.vendor||window.opera,H=/iPhone/i.test(w),y=/Safari/i.test(w)&&!/Chrome/i.test(w)&&!/CriOS/i.test(w),G=/CriOS/i.test(w);H&&!y&&!G&&k(!0)},[]);const C=((O=(T=x.state)==null?void 0:T.from)==null?void 0:O.pathname)||"/",b=w=>{const{name:H,value:y}=w.target;f(G=>({...G,[H]:y}))},J=async w=>{if(w.preventDefault(),!n.email||!n.password){g("  .");return}try{_(!0),g(""),await i(n.email,n.password),m(C,{replace:!0})}catch(H){console.error("Login error:",H);let y=H.message;H.message.includes("Invalid login credentials")?y="    .":H.message.includes("Email not confirmed")&&(y="  .  ."),g(y)}finally{_(!1)}},K=async()=>{try{_(!0),g(""),await d()}catch(w){console.error("Google login error:",w),g("Google  .  ."),_(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(qe,{variant:"outline",onClick:()=>m("/"),className:"text-gray-600 hover:text-gray-800 bg-green-100 border-green-300 hover:bg-green-200",children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"})," "]})}),e.jsxs(_s,{className:"shadow-xl border-0 bg-white",children:[e.jsxs(zs,{className:"text-center pb-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx(Es,{className:"text-2xl font-bold text-gray-800",children:""}),e.jsx(at,{className:"text-gray-600",children:"              CNEC Korea  "})]}),e.jsxs(As,{className:"space-y-6",children:[A&&e.jsx(yt,{className:"bg-yellow-50 border-yellow-300",children:e.jsxs(vt,{className:"text-yellow-800",children:[e.jsx("strong",{children:"   "}),e.jsx("p",{className:"mt-1 text-sm",children:"iPhone     . Safari  Chrome   ."})]})}),e.jsxs(qe,{onClick:K,disabled:z||o,className:"w-full bg-blue-600 text-white border-0 hover:bg-blue-700 py-3",size:"lg",children:[z?e.jsx(Ue,{className:"h-4 w-4 animate-spin mr-2"}):e.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google "]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-white px-2 text-orange-500 font-medium",children:""})})]}),e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"email",className:"text-orange-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(ra,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(is,{id:"email",name:"email",type:"email",placeholder:" ",value:n.email,onChange:b,className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"password",className:"text-green-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(kr,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(is,{id:"password",name:"password",type:"password",placeholder:" ",value:n.password,onChange:b,className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),j&&e.jsx(yt,{variant:"destructive",children:e.jsx(vt,{children:j})}),e.jsxs(qe,{type:"submit",disabled:z||o,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3",size:"lg",children:[z?e.jsx(Ue,{className:"h-4 w-4 animate-spin mr-2"}):null,""]})]}),e.jsx("div",{className:"text-center",children:e.jsx(ss,{to:"/forgot-password",className:"text-sm text-gray-500 hover:text-purple-600 underline",children:" ?"})}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:" ?"})," ",e.jsx(ss,{to:"/signup",className:"text-red-600 hover:text-red-700 font-medium underline",children:""})]})]})]})]})})},Rj=()=>{const{signUpWithEmail:i,signInWithGoogle:d}=xs(),o=Qe(),[m,x]=h.useState(!1),[n,f]=h.useState(""),[j,g]=h.useState(!1),[z,_]=h.useState(!1),[A,k]=h.useState({email:"",password:"",confirmPassword:"",name:""});h.useEffect(()=>{const T=navigator.userAgent||navigator.vendor||window.opera,O=/iPhone/i.test(T),w=/Safari/i.test(T)&&!/Chrome/i.test(T)&&!/CriOS/i.test(T),H=/CriOS/i.test(T);O&&!w&&!H&&_(!0)},[]);const C=T=>{const{name:O,value:w}=T.target;k(H=>({...H,[O]:w}))},b=()=>!A.email||!A.password||!A.confirmPassword||!A.name?"  .":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A.email)?A.password.length<6?" 6  .":A.password!==A.confirmPassword?"  .":null:"   .",J=async T=>{T.preventDefault();const O=b();if(O){f(O);return}try{x(!0),f("");const w=await i(A.email,A.password,A.name);if(w!=null&&w.session){o("/profile");return}g(!0)}catch(w){console.error("Signup error:",w),w.message.includes("already registered")?f("  ."):w.message.includes("weak password")?f("  .    ."):f("   .  .")}finally{x(!1)}},K=async()=>{try{x(!0),f(""),await d()}catch(T){console.error("Google signup error:",T),f("Google    .")}finally{x(!1)}};return j?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md mx-auto text-center bg-white rounded-lg shadow-xl p-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"  "}),"          ",e.jsx("p",{className:"text-gray-600 mb-6",children:" !    ."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>o("/login"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-4 rounded-md transition-colors",children:" "}),e.jsx("button",{onClick:()=>o("/"),className:"w-full border border-gray-300 hover:bg-gray-50 text-gray-700 font-medium py-3 px-4 rounded-md transition-colors",children:" "})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(qe,{variant:"outline",onClick:()=>o("/"),className:"text-gray-600 hover:text-gray-800 bg-green-100 border-green-300 hover:bg-green-200",children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"})," "]})}),e.jsxs(_s,{className:"shadow-xl border-0 bg-white",children:[e.jsxs(zs,{className:"text-center pb-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx(Es,{className:"text-2xl font-bold text-gray-800",children:""}),e.jsx(at,{className:"text-gray-600",children:"CNEC Korea   "})]}),e.jsxs(As,{className:"space-y-6",children:[z&&e.jsx(yt,{className:"bg-yellow-50 border-yellow-300",children:e.jsxs(vt,{className:"text-yellow-800",children:[e.jsx("strong",{children:"   "}),e.jsx("p",{className:"mt-1 text-sm",children:"iPhone     . Safari  Chrome   ."})]})}),e.jsxs(qe,{type:"button",onClick:K,disabled:m,className:"w-full bg-blue-600 text-white border-0 hover:bg-blue-700 py-3",size:"lg",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google "]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-white px-2 text-orange-500 font-medium",children:""})})]}),e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"name",className:"text-purple-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(st,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(is,{id:"name",name:"name",type:"text",value:A.name,onChange:C,placeholder:" ",className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"email",className:"text-orange-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(ra,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(is,{id:"email",name:"email",type:"email",value:A.email,onChange:C,placeholder:" ",className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"password",className:"text-green-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(kr,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(is,{id:"password",name:"password",type:"password",value:A.password,onChange:C,placeholder:" ",className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"confirmPassword",className:"text-blue-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(kr,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(is,{id:"confirmPassword",name:"confirmPassword",type:"password",value:A.confirmPassword,onChange:C,placeholder:"  ",className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),n&&e.jsx(yt,{variant:"destructive",children:e.jsx(vt,{children:n})}),e.jsxs(qe,{type:"submit",disabled:m,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3",size:"lg",children:[m?e.jsx(Ue,{className:"h-4 w-4 animate-spin mr-2"}):null,""]})]}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"  ?"})," ",e.jsx(ss,{to:"/login",className:"text-red-600 hover:text-red-700 font-medium underline",children:""})]})]})]})]})})},Oj=()=>{const{resetPassword:i}=xs(),d=Qe(),[o,m]=h.useState(""),[x,n]=h.useState(""),[f,j]=h.useState(!1),[g,z]=h.useState(!1),_=async A=>{if(A.preventDefault(),!o){n(" .");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){n("   .");return}try{z(!0),n(""),await i(o),j(!0)}catch(C){console.error("Password reset error:",C);let b=C.message;C.message.includes("User not found")?b="  .":C.message.includes("rate limit")&&(b="   .    ."),n(b)}finally{z(!1)}};return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(_s,{className:"shadow-xl border-0 bg-white",children:[e.jsxs(zs,{className:"text-center pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(Ee,{className:"h-16 w-16 text-green-500"})}),e.jsx(Es,{className:"text-2xl font-bold text-gray-800",children:" "}),e.jsx(at,{className:"text-gray-600 mt-2",children:"   "})]}),e.jsxs(As,{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:o}),"    .       ."]})}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-2",children:[e.jsx("p",{children:"  ?"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"  "}),e.jsx("li",{children:"   "}),e.jsx("li",{children:"   "})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(qe,{onClick:()=>j(!1),variant:"outline",className:"w-full",children:"   "}),e.jsx(ss,{to:"/login",className:"w-full",children:e.jsx(qe,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:"  "})})]})]})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(qe,{variant:"outline",onClick:()=>d("/login"),className:"text-gray-600 hover:text-gray-800 bg-green-100 border-green-300 hover:bg-green-200",children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"})," "]})}),e.jsxs(_s,{className:"shadow-xl border-0 bg-white",children:[e.jsxs(zs,{className:"text-center pb-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx(Es,{className:"text-2xl font-bold text-gray-800",children:" "}),e.jsx(at,{className:"text-gray-600",children:"       ."})]}),e.jsxs(As,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"email",className:"text-orange-600 font-medium",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx(ra,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(is,{id:"email",type:"email",placeholder:"  ",value:o,onChange:A=>m(A.target.value),className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),x&&e.jsx(yt,{variant:"destructive",children:e.jsx(vt,{children:x})}),e.jsxs(qe,{type:"submit",disabled:g,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3",size:"lg",children:[g?e.jsx(Ue,{className:"h-4 w-4 animate-spin mr-2"}):null,"   "]})]}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:" ?"})," ",e.jsx(ss,{to:"/login",className:"text-red-600 hover:text-red-700 font-medium underline",children:""})]})]})]})]})})},$j=()=>{const{updatePassword:i,user:d}=xs(),o=Qe(),[m,x]=h.useState(""),[n,f]=h.useState(""),[j,g]=h.useState(""),[z,_]=h.useState(!1),[A,k]=h.useState(!1),[C,b]=h.useState(!0);h.useEffect(()=>{const K=new URLSearchParams(window.location.hash.substring(1)),T=K.get("access_token");K.get("type"),!T&&!d&&b(!1)},[d]);const J=async K=>{if(K.preventDefault(),!m){g("  .");return}if(m.length<6){g("  6  .");return}if(m!==n){g("  .");return}try{k(!0),g(""),await i(m),_(!0),setTimeout(()=>{o("/login")},3e3)}catch(T){console.error("Password update error:",T);let O=T.message;T.message.includes("same_password")?O="     .":T.message.includes("weak_password")&&(O="  .    ."),g(O)}finally{k(!1)}};return C?z?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(_s,{className:"shadow-xl border-0 bg-white",children:[e.jsxs(zs,{className:"text-center pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(Ee,{className:"h-16 w-16 text-green-500"})}),e.jsx(Es,{className:"text-2xl font-bold text-gray-800",children:"  "}),e.jsx(at,{className:"text-gray-600 mt-2",children:"  ."})]}),e.jsxs(As,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"    ..."}),e.jsx(ss,{to:"/login",className:"w-full block",children:e.jsx(qe,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:" "})})]})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(qe,{variant:"outline",onClick:()=>o("/login"),className:"text-gray-600 hover:text-gray-800 bg-green-100 border-green-300 hover:bg-green-200",children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"})," "]})}),e.jsxs(_s,{className:"shadow-xl border-0 bg-white",children:[e.jsxs(zs,{className:"text-center pb-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx(Es,{className:"text-2xl font-bold text-gray-800",children:"  "}),e.jsx(at,{className:"text-gray-600",children:"  ."})]}),e.jsx(As,{className:"space-y-6",children:e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"password",className:"text-green-600 font-medium",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx(kr,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(is,{id:"password",type:"password",placeholder:"  ( 6)",value:m,onChange:K=>x(K.target.value),className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0,minLength:6})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"confirmPassword",className:"text-green-600 font-medium",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx(kr,{className:"absolute left-3 top-3 h-4 w-4 text-pink-400"}),e.jsx(is,{id:"confirmPassword",type:"password",placeholder:"  ",value:n,onChange:K=>f(K.target.value),className:"pl-10 border-pink-200 focus:border-pink-400 focus:ring-pink-400",required:!0})]})]}),j&&e.jsx(yt,{variant:"destructive",children:e.jsx(vt,{children:j})}),e.jsxs(qe,{type:"submit",disabled:A,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3",size:"lg",children:[A?e.jsx(Ue,{className:"h-4 w-4 animate-spin mr-2"}):null," "]})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(_s,{className:"shadow-xl border-0 bg-white",children:[e.jsxs(zs,{className:"text-center pb-6",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx(Es,{className:"text-2xl font-bold text-gray-800",children:"  "}),e.jsx(at,{className:"text-gray-600 mt-2",children:"     ."})]}),e.jsxs(As,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"    ."}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(ss,{to:"/forgot-password",className:"w-full",children:e.jsx(qe,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:"   "})}),e.jsx(ss,{to:"/login",className:"w-full",children:e.jsx(qe,{variant:"outline",className:"w-full",children:"  "})})]})]})]})})})},Bj=()=>{const{user:i}=xs(),d=Qe(),[o,m]=h.useState("loading"),[x,n]=h.useState("");return h.useEffect(()=>{(async()=>{try{console.log("Auth callback started");const j=new URLSearchParams(window.location.hash.substring(1)),g=j.get("type"),z=j.get("access_token"),_=new URLSearchParams(window.location.search),A=_.get("error"),k=_.get("error_description");if(A){console.error("Auth error:",A,k),m("error"),n("   : "+(k||A));return}if(g==="signup"||g==="email_change"||g==="magiclink"){console.log("Email verification callback detected, type:",g),m("success"),n("  !"),setTimeout(async()=>{try{const{data:C}=await se.auth.getSession();C!=null&&C.session?(console.log("Session established after email verification"),d("/profile",{replace:!0})):d("/login",{replace:!0})}catch(C){console.error("Session check error:",C),d("/login",{replace:!0})}},2e3);return}try{const{data:C,error:b}=await se.auth.getSession();if(b){console.error("Session error:",b),m("error"),n("    ");return}if(C!=null&&C.session){console.log("Session found:",C.session.user.email),m("success"),n(" .");const J=C.session.user.id,{data:K,error:T}=await se.from("admin_users").select("user_id").eq("user_id",J).maybeSingle(),O=!T&&K!==null;setTimeout(()=>{O?(console.log("Admin user - redirecting to /dashboard"),d("/dashboard",{replace:!0})):(console.log("Regular user - redirecting to /profile"),d("/profile",{replace:!0}))},1500)}else z?(console.log("Found access token in hash"),m("success"),n(" ."),setTimeout(async()=>{try{const{data:J}=await se.auth.getSession();if(J!=null&&J.session){const K=J.session.user.id,{data:T,error:O}=await se.from("admin_users").select("user_id").eq("user_id",K).maybeSingle();!O&&T!==null?(console.log("Admin user - redirecting to /dashboard"),d("/dashboard",{replace:!0})):(console.log("Regular user - redirecting to /profile"),d("/profile",{replace:!0}))}else d("/profile",{replace:!0})}catch(J){console.error("Session recheck error:",J),d("/profile",{replace:!0})}},1500)):(console.log("No authentication data found"),m("error"),n("    .   ."))}catch(C){console.error("Session check error:",C),m("error"),n("    ")}}catch(j){console.error("Auth callback error:",j),m("error"),n("      ")}})()},[d]),h.useEffect(()=>{i&&o==="loading"&&(console.log("User already logged in, redirecting to mypage"),d("/profile",{replace:!0}))},[i,o,d]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md mx-auto",children:[o==="loading"&&e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"  ..."}),e.jsx("p",{className:"text-gray-600",children:"  ."})]}),o==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ee,{className:"h-10 w-10 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:x.includes(" ")?"  !":"  !"}),e.jsx("p",{className:"text-gray-600 text-lg mb-4",children:x}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsx("p",{className:"text-green-700 text-sm",children:"   ..."})})]}),o==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:" "}),e.jsx("p",{className:"text-gray-600 mb-4",children:x}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>d("/login"),className:"w-full bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:" "}),e.jsx("button",{onClick:()=>d("/"),className:"w-full bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:" "})]})]})]})})})},Gj=Fm("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Kt({className:i,variant:d,asChild:o=!1,...m}){const x=o?kg:"span";return e.jsx(x,{"data-slot":"badge",className:ps(Gj({variant:d}),i),...m})}function jo({...i}){return e.jsx(Uf,{"data-slot":"dialog",...i})}function Vj({...i}){return e.jsx(Rf,{"data-slot":"dialog-portal",...i})}function Hj({className:i,...d}){return e.jsx(Of,{"data-slot":"dialog-overlay",className:ps("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",i),...d})}function yo({className:i,children:d,...o}){return e.jsxs(Vj,{"data-slot":"dialog-portal",children:[e.jsx(Hj,{}),e.jsxs(Mf,{"data-slot":"dialog-content",className:ps("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",i),...o,children:[d,e.jsxs(Df,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Fs,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function vo({className:i,...d}){return e.jsx("div",{"data-slot":"dialog-header",className:ps("flex flex-col gap-2 text-center sm:text-left",i),...d})}function No({className:i,...d}){return e.jsx(Lf,{"data-slot":"dialog-title",className:ps("text-lg leading-none font-semibold",i),...d})}function wo({className:i,...d}){return e.jsx(qf,{"data-slot":"dialog-description",className:ps("text-muted-foreground text-sm",i),...d})}const Kj=()=>{const{user:i,signOut:d}=xs(),o=Qe(),[m,x]=h.useState([]),[n,f]=h.useState("all"),[j,g]=h.useState([]),[z,_]=h.useState({totalCampaigns:0,totalCreators:0,totalApplications:0,totalRewards:0}),[A,k]=h.useState(!0),[C,b]=h.useState(null),[J,K]=h.useState(!1),[T,O]=h.useState(!1),[w,H]=h.useState(2);h.useEffect(()=>{y()},[]);const y=async()=>{try{k(!0),await Promise.all([G(),D()])}catch(X){console.error("Page data load error:",X)}finally{k(!1)}},G=async()=>{try{const X=await Be.campaigns.getAll(),B=new Date,ne=(X==null?void 0:X.filter(L=>{if(L.status!=="active"||L.approval_status==="pending_approval")return!1;if(L.application_deadline){const ue=new Date(L.application_deadline);if(ue.setHours(23,59,59,999),B>ue)return!1}return!(L.remaining_slots!==void 0&&L.remaining_slots!==null&&L.remaining_slots<=0)}))||[];x(ne)}catch(X){console.error("Load campaigns error:",X),x([])}},D=async()=>{try{const[X,B,ne]=await Promise.all([Be.campaigns.getAll(),Be.applications.getAll(),Be.userProfiles.getAll()]),L=X||[],ue=B||[],re=ne||[];console.log("Stats data:",{campaigns:L.length,applications:ue.length,users:re.length,rewards:L.reduce((me,S)=>me+(S.reward_points||S.reward_amount||0),0)}),_({totalCampaigns:L.length,totalCreators:re.length,totalApplications:ue.length,totalRewards:L.reduce((me,S)=>me+(S.reward_points||S.reward_amount||0),0)})}catch(X){console.error("Load stats error:",X),_({totalCampaigns:0,totalCreators:0,totalApplications:0,totalRewards:0})}},$=X=>{b(X),K(!0)},ie=()=>{if(!i){o("/login");return}C&&o(`/campaign-application?campaign_id=${C.id}`)},be=X=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(X||0),M=X=>{switch(X==null?void 0:X.toLowerCase()){case"instagram":return e.jsx(zt,{className:"h-4 w-4"});case"tiktok":return e.jsx(ot,{className:"h-4 w-4"});case"youtube":return e.jsx(jt,{className:"h-4 w-4"});case"twitter":return e.jsx(Nb,{className:"h-4 w-4"});default:return e.jsx(ft,{className:"h-4 w-4"})}},le=X=>{switch(X==null?void 0:X.toLowerCase()){case"instagram":return"bg-pink-100 text-pink-800";case"tiktok":return"bg-blue-100 text-blue-800";case"youtube":return"bg-red-100 text-red-800";case"twitter":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-10",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(ss,{to:"/",className:"flex items-center",children:e.jsx("img",{src:Cn,alt:"CNEC Korea",className:"h-10"})}),e.jsxs("nav",{className:"hidden md:flex items-center gap-2",children:[e.jsx("a",{href:"#campaigns",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:""}),e.jsx("a",{href:"#about",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:" "}),e.jsx("a",{href:"https://www.youtube.com/@bizcnec",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:""}),e.jsx("a",{href:"#guide",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:""})]}),e.jsx("div",{className:"hidden md:flex items-center gap-3",children:i?e.jsxs(e.Fragment,{children:[e.jsx(ss,{to:"/profile",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-indigo-600 transition-all",children:""}),e.jsx("button",{onClick:d,className:"px-5 py-2 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg transition-all",children:""})]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{to:"/login",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-indigo-600 transition-all",children:""}),e.jsx(ss,{to:"/signup",className:"px-5 py-2 text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-all",children:""})]})}),e.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:text-indigo-600 rounded-lg",onClick:()=>O(!T),children:T?e.jsx(Fs,{className:"h-6 w-6"}):e.jsx(Ym,{className:"h-6 w-6"})})]}),T&&e.jsx("div",{className:"md:hidden py-4 border-t border-gray-100 bg-white",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("a",{href:"#campaigns",onClick:()=>O(!1),className:"px-4 py-3 text-base font-medium text-gray-700 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:""}),e.jsx("a",{href:"#about",onClick:()=>O(!1),className:"px-4 py-3 text-base font-medium text-gray-700 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:" "}),e.jsx("a",{href:"https://www.youtube.com/@bizcnec",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-3 text-base font-medium text-gray-700 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:""}),e.jsx("a",{href:"#guide",onClick:()=>O(!1),className:"px-4 py-3 text-base font-medium text-gray-700 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:""}),e.jsx("div",{className:"pt-4 mt-4 border-t border-gray-100 flex flex-col space-y-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx(ss,{to:"/profile",onClick:()=>O(!1),className:"px-4 py-3 text-base font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all text-center",children:""}),e.jsx("button",{onClick:()=>{d(),O(!1)},className:"px-4 py-3 text-base font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg transition-all",children:""})]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{to:"/login",onClick:()=>O(!1),className:"px-4 py-3 text-base font-medium text-gray-700 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all text-center",children:""}),e.jsx(ss,{to:"/signup",onClick:()=>O(!1),className:"px-4 py-3 text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-all text-center",children:""})]})})]})})]})}),e.jsx("section",{className:"relative py-12 md:py-20 lg:py-24 bg-white",children:e.jsx("div",{className:"container mx-auto px-4 lg:px-10",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-10 lg:gap-16 items-center",children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-5 md:mb-6 leading-tight text-gray-900",children:["K-  ",e.jsx("br",{}),e.jsx("span",{className:"text-indigo-600",children:""})," "]}),e.jsxs("p",{className:"text-base md:text-lg text-gray-500 leading-relaxed mb-8 max-w-lg mx-auto lg:mx-0",children:["  AI    .",e.jsx("br",{className:"hidden sm:block"})," OK,    ."]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-8",children:[e.jsx(qe,{size:"lg",className:"w-full sm:w-auto bg-indigo-600 text-white hover:bg-indigo-700 font-semibold text-sm md:text-base px-8 py-6 rounded-lg",asChild:!0,children:e.jsxs("a",{href:"#campaigns",className:"flex items-center justify-center gap-2",children:[" ",e.jsx(Ct,{className:"h-4 w-4"})]})}),e.jsx(qe,{size:"lg",variant:"outline",className:"w-full sm:w-auto bg-white text-gray-700 border-gray-300 hover:bg-gray-50 font-medium text-sm md:text-base px-8 py-6 rounded-lg",asChild:!0,children:e.jsx(ss,{to:"/signup",children:" "})})]}),e.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600"}),e.jsx("span",{children:"100+  "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600"}),e.jsx("span",{children:"5,000+ "})]})]})]}),e.jsx("div",{className:"relative mt-6 lg:mt-0",children:e.jsx("div",{className:"relative bg-white rounded-xl shadow-xl overflow-hidden border border-gray-200",children:e.jsx("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:"https://www.youtube.com/embed/GDwYeELp0aQ",title:"CNEC Korea  ",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})]})})}),e.jsx("section",{id:"campaigns",className:"py-12 md:py-16 lg:py-20 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-10",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[e.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"   "}),e.jsx("p",{className:"text-gray-500 text-sm md:text-base max-w-xl mx-auto",children:"     "})]}),e.jsx("div",{className:"mb-6 md:mb-10",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide flex-1",children:[e.jsx("button",{onClick:()=>f("all"),className:`flex-shrink-0 px-3 py-1.5 md:px-5 md:py-2.5 rounded-lg text-xs md:text-sm font-medium transition-all whitespace-nowrap ${n==="all"?"bg-indigo-600 text-white":"bg-white text-gray-600 border border-gray-200 hover:border-indigo-300"}`,children:""}),e.jsx("button",{onClick:()=>f("planned"),className:`flex-shrink-0 px-3 py-1.5 md:px-5 md:py-2.5 rounded-lg text-xs md:text-sm font-medium transition-all whitespace-nowrap ${n==="planned"?"bg-indigo-600 text-white":"bg-white text-gray-600 border border-gray-200 hover:border-indigo-300"}`,children:""}),e.jsx("button",{onClick:()=>f("oliveyoung"),className:`flex-shrink-0 px-3 py-1.5 md:px-5 md:py-2.5 rounded-lg text-xs md:text-sm font-medium transition-all whitespace-nowrap ${n==="oliveyoung"?"bg-indigo-600 text-white":"bg-white text-gray-600 border border-gray-200 hover:border-indigo-300"}`,children:""}),e.jsx("button",{onClick:()=>f("4week_challenge"),className:`flex-shrink-0 px-3 py-1.5 md:px-5 md:py-2.5 rounded-lg text-xs md:text-sm font-medium transition-all whitespace-nowrap ${n==="4week_challenge"?"bg-indigo-600 text-white":"bg-white text-gray-600 border border-gray-200 hover:border-indigo-300"}`,children:"4 "})]}),e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-0.5 bg-gray-100 rounded-lg p-0.5",children:[e.jsx("button",{onClick:()=>H(1),className:`p-1.5 md:p-2 rounded-md transition-all ${w===1?"bg-white shadow-sm text-indigo-600":"text-gray-400 hover:text-gray-600"}`,title:"1 ",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("rect",{x:"4",y:"4",width:"12",height:"12",rx:"2"})})}),e.jsx("button",{onClick:()=>H(2),className:`p-1.5 md:p-2 rounded-md transition-all ${w===2?"bg-white shadow-sm text-indigo-600":"text-gray-400 hover:text-gray-600"}`,title:"2 ",children:e.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("rect",{x:"2",y:"4",width:"6",height:"12",rx:"1"}),e.jsx("rect",{x:"12",y:"4",width:"6",height:"12",rx:"1"})]})}),e.jsx("button",{onClick:()=>H(4),className:`p-1.5 md:p-2 rounded-md transition-all ${w===4?"bg-white shadow-sm text-indigo-600":"text-gray-400 hover:text-gray-600"}`,title:"4 ",children:e.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("rect",{x:"2",y:"3",width:"3.5",height:"6",rx:"0.5"}),e.jsx("rect",{x:"8",y:"3",width:"3.5",height:"6",rx:"0.5"}),e.jsx("rect",{x:"14",y:"3",width:"3.5",height:"6",rx:"0.5"}),e.jsx("rect",{x:"2",y:"11",width:"3.5",height:"6",rx:"0.5"}),e.jsx("rect",{x:"8",y:"11",width:"3.5",height:"6",rx:"0.5"}),e.jsx("rect",{x:"14",y:"11",width:"3.5",height:"6",rx:"0.5"})]})})]})]})}),A?e.jsxs("div",{className:"text-center py-12 md:py-16",children:[e.jsx(Ue,{className:"h-8 w-8 md:h-10 md:w-10 animate-spin text-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-sm md:text-base",children:"  ..."})]}):m.length===0?e.jsxs("div",{className:"text-center py-12 md:py-16",children:[e.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ft,{className:"w-7 h-7 md:w-8 md:h-8 text-gray-400"})}),e.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-700 mb-2",children:"    "}),e.jsx("p",{className:"text-gray-500 text-sm md:text-base",children:"    ."})]}):e.jsx("div",{className:`grid gap-4 md:gap-5 max-w-6xl mx-auto ${w===1?"grid-cols-1 max-w-xl":w===2?"grid-cols-1 sm:grid-cols-2":"grid-cols-2 sm:grid-cols-3 lg:grid-cols-4"}`,children:m.filter(X=>n==="all"?!0:n==="planned"?X.campaign_type==="planned":n==="oliveyoung"?X.campaign_type==="oliveyoung":n==="4week_challenge"?X.campaign_type==="4week_challenge":!1).map(X=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden cursor-pointer border border-gray-200 hover:border-indigo-300 hover:shadow-lg transition-all duration-200",onClick:()=>$(X),children:[e.jsxs("div",{className:`relative bg-gray-100 overflow-hidden ${w===4?"aspect-square":"aspect-[4/3]"}`,children:[X.image_url?e.jsx("img",{src:X.image_url,alt:X.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:e.jsx(ft,{className:`text-gray-300 ${w===4?"w-6 h-6":"w-10 h-10"}`})}),e.jsx("span",{className:`absolute top-2 left-2 bg-green-500 text-white font-medium rounded-md ${w===4?"px-1.5 py-0.5 text-[9px]":"px-2.5 py-1 text-xs top-3 left-3"}`,children:""})]}),e.jsxs("div",{className:`p-3 md:p-4 ${w===4?"p-2.5":""}`,children:[e.jsx("p",{className:`text-gray-500 mb-0.5 truncate ${w===4?"text-[10px]":"text-xs"}`,children:X.brand}),e.jsx("h3",{className:`font-semibold text-gray-900 mb-2 line-clamp-2 leading-snug ${w===4?"text-xs":"text-sm md:text-base mb-3"}`,children:X.title}),e.jsxs("div",{className:`flex flex-wrap items-center gap-1.5 text-gray-500 mb-3 ${w===4?"text-[10px] mb-2":"text-xs mb-4"}`,children:[e.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:(Array.isArray(X.target_platforms)?X.target_platforms.slice(0,w===4?1:2).map(B=>B.charAt(0).toUpperCase()+B.slice(1)):["Instagram"]).map(B=>e.jsx("span",{className:`px-1.5 py-0.5 rounded ${w===4?"text-[9px]":"text-xs"} ${le(B)}`,children:B},B))}),X.application_deadline&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsxs("span",{className:"whitespace-nowrap",children:[new Date(X.application_deadline).toLocaleDateString("ko-KR",{month:"numeric",day:"numeric"})," "]})]})]}),e.jsx("div",{className:`pt-2 border-t border-gray-100 ${w===4?"pt-1.5":"pt-3"}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:`font-bold text-indigo-600 ${w===4?"text-sm":"text-base md:text-lg"}`,children:be(X.creator_points_override||X.reward_points||X.reward_amount||0)}),e.jsx("button",{className:`flex-shrink-0 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors whitespace-nowrap ${w===4?"px-2 py-1 text-[10px]":"px-3 py-1.5 text-xs md:px-4 md:py-2"}`,children:""})]})})]})]},X.id))})]})}),e.jsx("section",{id:"about",className:"py-12 md:py-16 lg:py-20 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-10",children:[e.jsxs("div",{className:"text-center mb-10 md:mb-14",children:[e.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"CNEC  "}),e.jsx("p",{className:"text-gray-500 text-sm md:text-base max-w-xl mx-auto",children:"  ,   "})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 md:gap-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:border-indigo-300 hover:shadow-lg transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center mb-4",children:e.jsx(Kl,{className:"w-6 h-6 text-indigo-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"  100  "}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),"  "]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),"  "]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:border-indigo-300 hover:shadow-lg transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center mb-4",children:e.jsx(ft,{className:"w-6 h-6 text-indigo-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"K- "}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"100+    "}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),"   "]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),"   "]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:border-indigo-300 hover:shadow-lg transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center mb-4",children:e.jsx(Ra,{className:"w-6 h-6 text-indigo-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"    "}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),"  "]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),"1:1  "]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:border-indigo-300 hover:shadow-lg transition-all",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center mb-4",children:e.jsx(Oa,{className:"w-6 h-6 text-indigo-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"    "}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),"  "]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),"  "]})]})]})]})]})}),e.jsx("section",{id:"growth-programs",className:"py-12 md:py-16 lg:py-20 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-10",children:[e.jsxs("div",{className:"text-center mb-10 md:mb-14",children:[e.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"  "}),e.jsx("p",{className:"text-gray-500 text-sm md:text-base max-w-xl mx-auto",children:"     "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 md:gap-6 max-w-5xl mx-auto mb-10",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:border-indigo-300 hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"w-8 h-8 bg-indigo-100 text-indigo-600 rounded-lg flex items-center justify-center text-sm font-bold",children:"1"}),e.jsx("span",{className:"text-sm text-gray-500",children:" "})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 mb-5",children:"     "}),e.jsxs("ul",{className:"space-y-2 mb-6",children:[e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),"  +  "]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),"  "]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"})," "]})]}),e.jsx("button",{onClick:()=>{window.location.href="#campaigns"},className:"w-full py-2.5 border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:" "})]}),e.jsxs("div",{className:"relative bg-white border-2 border-indigo-500 rounded-xl p-6 shadow-lg",children:[e.jsx("span",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-indigo-600 text-white text-xs font-semibold px-3 py-1 rounded-full",children:" "}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"w-8 h-8 bg-indigo-600 text-white rounded-lg flex items-center justify-center text-sm font-bold",children:"2"}),e.jsx("span",{className:"text-sm text-indigo-600 font-medium",children:""})]}),e.jsx("h3",{className:"text-lg font-semibold text-indigo-600 mb-2",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 mb-5",children:"   "}),e.jsxs("ul",{className:"space-y-2 mb-6",children:[e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),e.jsx("strong",{children:"20~50%  "})]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),"  "]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),"  "]})]}),e.jsx("button",{onClick:()=>o("/cnec-plus"),className:"w-full py-2.5 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:"  "})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:border-indigo-300 hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"w-8 h-8 bg-amber-100 text-amber-600 rounded-lg flex items-center justify-center text-sm font-bold",children:"3"}),e.jsx("span",{className:"text-sm text-gray-500",children:""})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 mb-5",children:"    "}),e.jsxs("ul",{className:"space-y-2 mb-6",children:[e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-amber-600 flex-shrink-0"}),e.jsx("strong",{children:"100P "})]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-amber-600 flex-shrink-0"}),"1:1  "]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ee,{className:"w-4 h-4 text-amber-600 flex-shrink-0"})," 100% "]})]}),e.jsx("button",{onClick:()=>o("/cnec-plus"),className:"w-full py-2.5 bg-amber-500 text-white text-sm font-medium rounded-lg hover:bg-amber-600 transition-colors",children:" "})]})]}),e.jsxs("div",{className:"bg-indigo-600 rounded-xl p-6 md:p-8 max-w-3xl mx-auto text-center",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3",children:"5     "}),e.jsx("p",{className:"text-indigo-100 text-sm md:text-base mb-6",children:"     "}),e.jsx("button",{onClick:()=>o("/signup"),className:"px-6 py-3 bg-white text-indigo-600 text-sm font-semibold rounded-lg hover:bg-indigo-50 transition-colors",children:" "})]})]})}),e.jsx("section",{id:"portfolio",className:"py-12 md:py-16 lg:py-20 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-10",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[e.jsx("span",{className:"inline-block bg-indigo-50 text-indigo-600 px-3 py-1 md:px-4 md:py-1.5 rounded-full text-xs font-semibold tracking-wide mb-3 md:mb-4",children:"PORTFOLIO"}),e.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 mb-3 md:mb-4",children:"CNEC "}),e.jsx("p",{className:"text-gray-500 text-sm md:text-base lg:text-lg max-w-2xl mx-auto px-4",children:"    "})]}),e.jsx("div",{className:"max-w-4xl mx-auto mb-8 md:mb-12",children:e.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-lg p-5 md:p-8 lg:p-10",children:[e.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-4 md:mb-6",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-red-600 rounded-full flex items-center justify-center",children:e.jsx(jt,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:"CNEC Korea"}),e.jsx("p",{className:"text-red-600 text-xs md:text-sm font-medium",children:"YouTube "})]})]}),e.jsxs("p",{className:"text-gray-600 text-sm md:text-base mb-6 md:mb-8 leading-relaxed",children:["   ,   ",e.jsx("br",{className:"hidden sm:block"}),"CNEC   YouTube "]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-3 mb-6 md:mb-8",children:[e.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 rounded-lg md:rounded-xl p-3 md:p-4 text-left",children:[e.jsx("p",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-0.5 md:mb-1",children:" "}),e.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"  "})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-100 rounded-lg md:rounded-xl p-3 md:p-4 text-left",children:[e.jsx("p",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-0.5 md:mb-1",children:""}),e.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:" "})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-100 rounded-lg md:rounded-xl p-3 md:p-4 text-left",children:[e.jsx("p",{className:"text-xs md:text-sm font-semibold text-gray-900 mb-0.5 md:mb-1",children:" "}),e.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:" "})]})]}),e.jsxs("button",{onClick:()=>window.open("https://www.youtube.com/@bizcnec","_blank"),className:"inline-flex items-center gap-2 px-5 md:px-6 py-2.5 md:py-3 bg-red-600 text-white text-sm md:text-base font-medium rounded-xl hover:bg-red-700 transition-colors",children:[e.jsx(ns,{className:"h-4 w-4"})," "]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-wrap justify-center gap-6 md:gap-12 lg:gap-20",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block text-2xl md:text-4xl lg:text-5xl font-bold text-indigo-600 mb-1 md:mb-2",children:"500+"}),e.jsx("span",{className:"text-xs md:text-sm text-gray-500",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block text-2xl md:text-4xl lg:text-5xl font-bold text-indigo-600 mb-1 md:mb-2",children:"5,000+"}),e.jsx("span",{className:"text-xs md:text-sm text-gray-500",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block text-2xl md:text-4xl lg:text-5xl font-bold text-indigo-600 mb-1 md:mb-2",children:"50M+"}),e.jsx("span",{className:"text-xs md:text-sm text-gray-500",children:"  "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"block text-2xl md:text-4xl lg:text-5xl font-bold text-indigo-600 mb-1 md:mb-2",children:"98%"}),e.jsx("span",{className:"text-xs md:text-sm text-gray-500",children:""})]})]})]})}),e.jsx("section",{id:"guide",className:"py-12 md:py-16 lg:py-20 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-10",children:[e.jsxs("div",{className:"text-center mb-10 md:mb-16",children:[e.jsx("span",{className:"inline-block bg-indigo-50 text-indigo-600 px-3 py-1 md:px-4 md:py-1.5 rounded-full text-xs font-semibold tracking-wide mb-3 md:mb-4",children:"HOW TO JOIN"}),e.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 mb-3 md:mb-4",children:"CNEC  "}),e.jsx("p",{className:"text-gray-500 text-sm md:text-base lg:text-lg",children:" 6    "})]}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-6 gap-3 md:gap-6 max-w-6xl mx-auto mb-8 md:mb-12",children:[{step:1,title:" ",description:"Google   ",icon:e.jsx(st,{className:"h-5 w-5 md:h-7 md:w-7"})},{step:2,title:" ",description:"SNS   ",icon:e.jsx(Ra,{className:"h-5 w-5 md:h-7 md:w-7"})},{step:3,title:" ",description:"  ",icon:e.jsx(ft,{className:"h-5 w-5 md:h-7 md:w-7"})},{step:4,title:"  ",description:"    ",icon:e.jsx(Ee,{className:"h-5 w-5 md:h-7 md:w-7"})},{step:5,title:" ",description:"   ",icon:e.jsx(la,{className:"h-5 w-5 md:h-7 md:w-7"})},{step:6,title:" ",description:"    ",icon:e.jsx(Kl,{className:"h-5 w-5 md:h-7 md:w-7"})}].map((X,B)=>e.jsxs("div",{className:"relative text-center",children:[B<5&&e.jsx("div",{className:"hidden lg:block absolute top-10 -right-3 text-gray-300 text-xl",children:""}),e.jsx("div",{className:"text-xs font-semibold text-indigo-600 mb-2 md:mb-3",children:X.step}),e.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 lg:w-20 lg:h-20 bg-indigo-50 rounded-full flex items-center justify-center mx-auto mb-2 md:mb-4",children:e.jsx("div",{className:"text-indigo-600",children:X.icon})}),e.jsx("h4",{className:"text-xs md:text-sm lg:text-base font-semibold text-gray-900 mb-0.5 md:mb-1",children:X.title}),e.jsx("p",{className:"text-xs text-gray-500 leading-relaxed hidden sm:block",children:X.description})]},X.step))}),e.jsx("div",{className:"text-center",children:e.jsx(qe,{size:"lg",className:"w-full sm:w-auto bg-indigo-600 text-white hover:bg-indigo-700 font-semibold text-sm md:text-base px-8 md:px-10 py-4 md:py-6 rounded-xl",asChild:!0,children:e.jsx(ss,{to:"/signup",children:" "})})})]})}),e.jsx("section",{className:"py-12 md:py-16 lg:py-20 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-10 max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[e.jsx("span",{className:"inline-block bg-indigo-50 text-indigo-600 px-3 py-1 md:px-4 md:py-1.5 rounded-full text-xs font-semibold tracking-wide mb-3 md:mb-4",children:"FAQ"}),e.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 mb-3 md:mb-4",children:"  "}),e.jsx("p",{className:"text-gray-500 text-sm md:text-base lg:text-lg px-4",children:"    "})]}),e.jsx("div",{className:"space-y-2 md:space-y-3",children:[{question:"(CNEC)  ?",answer:"        .         ."},{question:"  ?",answer:"1)      2)      3)    4)    5)      6)      7)  "},{question:"  ?",answer:"        .     3-7  ."},{question:"  ?",answer:"     . 10 (10)   ,      ."},{question:"  ?",answer:"     3-5     ."},{question:"   ?",answer:"SNS  ,  ,    ,     .        ."},{question:"     ?",answer:", . ,            ."},{question:"  ?",answer:",      ,     .    ."}].map((X,B)=>e.jsxs("details",{className:"group bg-white border border-gray-200 rounded-lg md:rounded-xl overflow-hidden",children:[e.jsxs("summary",{className:"flex justify-between items-center p-4 md:p-5 cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsxs("span",{className:"font-medium text-sm md:text-base text-gray-900 pr-4",children:["Q. ",X.question]}),e.jsx("span",{className:"text-indigo-600 text-lg md:text-xl group-open:rotate-45 transition-transform flex-shrink-0",children:"+"})]}),e.jsx("div",{className:"px-4 md:px-5 pb-4 md:pb-5 text-gray-600 text-sm md:text-base leading-relaxed border-t border-gray-100 pt-3 md:pt-4",children:X.answer})]},B))}),e.jsxs("div",{className:"text-center mt-8 md:mt-12",children:[e.jsx("p",{className:"text-gray-500 text-sm md:text-base mb-3 md:mb-4",children:"   ?"}),e.jsx("button",{onClick:()=>window.open("https://pf.kakao.com/_TjhGG","_blank"),className:"inline-flex items-center gap-2 px-5 md:px-6 py-2.5 md:py-3 bg-amber-400 text-gray-900 text-sm md:text-base font-semibold rounded-xl hover:bg-amber-500 transition-colors",children:"   "})]})]})}),e.jsx("footer",{className:"bg-slate-900 text-white py-10 md:py-16",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-10",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-10",children:[e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsx("div",{className:"flex items-center gap-3 mb-3 md:mb-4",children:e.jsx("img",{src:Cn,alt:"CNEC Korea",className:"h-7 md:h-8 brightness-0 invert"})}),e.jsxs("p",{className:"text-slate-400 text-xs md:text-sm leading-relaxed",children:["K-   ",e.jsx("br",{}),"  "]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white text-sm md:text-base mb-3 md:mb-4",children:""}),e.jsxs("ul",{className:"space-y-2 md:space-y-3 text-xs md:text-sm text-slate-400",children:[e.jsx("li",{children:e.jsx("a",{href:"#campaigns",className:"hover:text-white transition-colors",children:""})}),e.jsx("li",{children:e.jsx("a",{href:"#about",className:"hover:text-white transition-colors",children:" "})}),e.jsx("li",{children:e.jsx("a",{href:"#portfolio",className:"hover:text-white transition-colors",children:""})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white text-sm md:text-base mb-3 md:mb-4",children:""}),e.jsxs("ul",{className:"space-y-2 md:space-y-3 text-xs md:text-sm text-slate-400",children:[e.jsx("li",{children:e.jsx("a",{href:"#guide",className:"hover:text-white transition-colors",children:""})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"  "})}),e.jsx("li",{children:e.jsx("a",{href:"https://pf.kakao.com/_TjhGG",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:""})})]})]}),e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsx("h4",{className:"font-semibold text-white text-sm md:text-base mb-3 md:mb-4",children:""}),e.jsx("div",{className:"space-y-2 md:space-y-3 text-xs md:text-sm text-slate-400",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ra,{className:"h-4 w-4"}),e.jsx("span",{children:"mkt@howlab.co.kr"})]})})]})]}),e.jsx("div",{className:"border-t border-slate-800 mt-8 md:mt-12 pt-6 md:pt-8 text-xs md:text-sm text-slate-500 text-center",children:e.jsx("p",{children:":  | :  |  2024 CNEC Korea. All rights reserved."})})]})}),e.jsx(jo,{open:J,onOpenChange:K,children:e.jsxs(yo,{className:"max-w-2xl max-h-[80vh] overflow-y-auto pb-24",children:[e.jsxs(vo,{children:[e.jsx(No,{className:"text-2xl",children:C==null?void 0:C.title}),e.jsx(wo,{className:"text-blue-600 font-medium text-lg",children:C==null?void 0:C.brand})]}),C&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:""}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:C.description||C.product_features||"  ."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"  "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{if(Array.isArray(C.target_platforms))return C.target_platforms.map(ne=>ne.charAt(0).toUpperCase()+ne.slice(1));if(C.target_platforms&&typeof C.target_platforms=="object"){const ne=[];return C.target_platforms.instagram&&ne.push("Instagram"),C.target_platforms.youtube&&ne.push("YouTube"),C.target_platforms.tiktok&&ne.push("TikTok"),ne.length>0?ne:["Instagram"]}const X=(C.title||C.campaign_name||"").toLowerCase(),B=[];return(X.includes("")||X.includes("youtube"))&&B.push("YouTube"),(X.includes("")||X.includes("instagram"))&&B.push("Instagram"),(X.includes("")||X.includes("tiktok"))&&B.push("TikTok"),B.length>0?B:["Instagram"]})().map(X=>e.jsxs(Kt,{className:`${le(X)} flex items-center space-x-1`,children:[M(X),e.jsx("span",{children:X})]},X))})]}),(C.min_followers||C.min_subscribers||C.recruitment_count)&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:" "}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[C.min_followers&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{children:[" : ",e.jsxs("strong",{children:[C.min_followers.toLocaleString(),""]})]})]}),C.min_subscribers&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{children:[" : ",e.jsxs("strong",{children:[C.min_subscribers.toLocaleString(),""]})]})]}),C.recruitment_count&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{children:[" : ",e.jsxs("strong",{children:[C.recruitment_count,""]})]})]})]})]}),(C.application_start_date||C.application_end_date||C.content_submission_deadline||C.requirements)&&e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"   "}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[C.application_start_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"h-4 w-4 text-purple-600"}),e.jsxs("span",{children:[" : ",e.jsx("strong",{children:new Date(C.application_start_date).toLocaleDateString("ko-KR")})]})]}),C.application_end_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"h-4 w-4 text-purple-600"}),e.jsxs("span",{children:[" : ",e.jsx("strong",{children:new Date(C.application_end_date).toLocaleDateString("ko-KR")})]})]}),C.campaign_type==="4week_challenge"?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-2",children:"   (4 ):"}),e.jsxs("div",{className:"space-y-1 ml-6",children:[C.week1_deadline&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"h-4 w-4 text-purple-600"}),e.jsxs("span",{children:["1: ",e.jsx("strong",{children:new Date(C.week1_deadline).toLocaleDateString("ko-KR")})]})]}),C.week2_deadline&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"h-4 w-4 text-purple-600"}),e.jsxs("span",{children:["2: ",e.jsx("strong",{children:new Date(C.week2_deadline).toLocaleDateString("ko-KR")})]})]}),C.week3_deadline&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"h-4 w-4 text-purple-600"}),e.jsxs("span",{children:["3: ",e.jsx("strong",{children:new Date(C.week3_deadline).toLocaleDateString("ko-KR")})]})]}),C.week4_deadline&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"h-4 w-4 text-purple-600"}),e.jsxs("span",{children:["4: ",e.jsx("strong",{children:new Date(C.week4_deadline).toLocaleDateString("ko-KR")})]})]})]})]}):C.campaign_type==="oliveyoung"?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 mb-2",children:"   ():"}),e.jsxs("div",{className:"space-y-1 ml-6",children:[C.step1_deadline&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"h-4 w-4 text-purple-600"}),e.jsxs("span",{children:["STEP 1: ",e.jsx("strong",{children:new Date(C.step1_deadline).toLocaleDateString("ko-KR")})]})]}),C.step2_deadline&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"h-4 w-4 text-purple-600"}),e.jsxs("span",{children:["STEP 2: ",e.jsx("strong",{children:new Date(C.step2_deadline).toLocaleDateString("ko-KR")})]})]}),C.step3_deadline&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"h-4 w-4 text-purple-600"}),e.jsxs("span",{children:["STEP 3: ",e.jsx("strong",{children:new Date(C.step3_deadline).toLocaleDateString("ko-KR")})]})]})]})]}):C.content_submission_deadline?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"h-4 w-4 text-purple-600"}),e.jsxs("span",{children:["  : ",e.jsx("strong",{children:new Date(C.content_submission_deadline).toLocaleDateString("ko-KR")})]})]}):null,C.requirements&&e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:" :"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-wrap",children:C.requirements})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:" "}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:be(C.creator_points_override||C.reward_points||C.reward_amount||0)})]}),(C.deadline||C.campaign_type)&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"  "}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[C.deadline&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"h-4 w-4 text-gray-600"}),e.jsxs("span",{children:[": ",e.jsx("strong",{children:new Date(C.deadline).toLocaleDateString("ko-KR")})]})]}),C.campaign_type&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oa,{className:"h-4 w-4 text-gray-600"}),e.jsxs("span",{children:[" : ",e.jsx("strong",{children:C.campaign_type==="4week_challenge"?"4 ":C.is_oliveyoung_sale?" ":" "})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(qe,{onClick:ie,className:"flex-1",children:"  "}),e.jsx(qe,{variant:"outline",onClick:()=>K(!1),children:""})]})]})]})})]})},Yj=()=>{const{user:i,signOut:d}=xs(),o=Qe(),{isPCView:m,setExpandedContent:x}=qt(),[n,f]=h.useState({name:"",email:"",phone:"",age:"",skin_type:"",category:"",channel_name:"",followers:"",avg_views:"",target_audience:"",instagram_url:"",youtube_url:"",tiktok_url:"",blog_url:"",bio:"",profile_image:"",postcode:"",address:"",detail_address:"",instagram_followers:"",youtube_subscribers:"",tiktok_followers:""}),[j,g]=h.useState(!1),[z,_]=h.useState(null),[A,k]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[C,b]=h.useState(!0),[J,K]=h.useState(!1),[T,O]=h.useState(""),[w,H]=h.useState(""),[y,G]=h.useState(!1),[D,$]=h.useState(!1),[ie,be]=h.useState(""),[M,le]=h.useState(""),[X,B]=h.useState(""),[ne,L]=h.useState(!1),ue=["","","","",""],re=[{value:"skincare",label:""},{value:"makeup",label:""},{value:"maskpack",label:""},{value:"suncare",label:""},{value:"haircare",label:""},{value:"bodycare",label:""},{value:"fragrance",label:""},{value:"other",label:""}];h.useEffect(()=>{i&&me()},[i]);const me=async()=>{try{b(!0);const Q=await Be.userProfiles.get(i.id);Q?(f({name:Q.name||"",email:Q.email||i.email||"",phone:Q.phone||"",age:Q.age||"",skin_type:Q.skin_type||"",category:Q.category||"",channel_name:Q.channel_name||"",followers:Q.followers||"",avg_views:Q.avg_views||"",target_audience:Q.target_audience||"",instagram_url:Q.instagram_url||"",youtube_url:Q.youtube_url||"",tiktok_url:Q.tiktok_url||"",blog_url:Q.blog_url||"",bio:Q.bio||"",profile_image:Q.profile_image||"",postcode:Q.postcode||"",address:Q.address||"",detail_address:Q.detail_address||"",instagram_followers:Q.instagram_followers||"",youtube_subscribers:Q.youtube_subscribers||"",tiktok_followers:Q.tiktok_followers||""}),Q.profile_image&&_(Q.profile_image)):f(V=>({...V,email:i.email||""}))}catch(Q){console.error("  :",Q),O("  .")}finally{b(!1)}},S=async()=>{var Q,V,P,ce,U,q,F,ye,ve,de,Y;try{if(K(!0),O(""),H(""),!n.name.trim()){O(" ."),K(!1);return}const we={id:i.id,role:"creator",name:n.name.trim(),email:n.email.trim(),phone:((Q=n.phone)==null?void 0:Q.trim())||null,age:n.age?parseInt(n.age):null,skin_type:n.skin_type||null,category:n.category||null,channel_name:((V=n.channel_name)==null?void 0:V.trim())||null,followers:n.followers?parseInt(n.followers):null,avg_views:n.avg_views?parseInt(n.avg_views):null,target_audience:((P=n.target_audience)==null?void 0:P.trim())||null,instagram_url:((ce=n.instagram_url)==null?void 0:ce.trim())||null,youtube_url:((U=n.youtube_url)==null?void 0:U.trim())||null,tiktok_url:((q=n.tiktok_url)==null?void 0:q.trim())||null,blog_url:((F=n.blog_url)==null?void 0:F.trim())||null,bio:((ye=n.bio)==null?void 0:ye.trim())||null,postcode:((ve=n.postcode)==null?void 0:ve.trim())||null,address:((de=n.address)==null?void 0:de.trim())||null,detail_address:((Y=n.detail_address)==null?void 0:Y.trim())||null,instagram_followers:n.instagram_followers?parseInt(n.instagram_followers):null,youtube_subscribers:n.youtube_subscribers?parseInt(n.youtube_subscribers):null,tiktok_followers:n.tiktok_followers?parseInt(n.tiktok_followers):null};await Be.userProfiles.upsert(we),H(""),setTimeout(()=>H(""),2e3)}catch(we){console.error("  :",we),O(` : ${we.message}`)}finally{K(!1)}},W=async()=>{try{if(K(!0),O(""),H(""),!A.currentPassword||!A.newPassword||!A.confirmPassword){O("   ."),K(!1);return}if(A.newPassword!==A.confirmPassword){O("   ."),K(!1);return}if(A.newPassword.length<6){O("   6  ."),K(!1);return}const{error:Q}=await se.auth.updateUser({password:A.newPassword});if(Q)throw Q;H("  ."),k({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>H(""),3e3)}catch(Q){console.error("  :",Q),O(`  : ${Q.message}`)}finally{K(!1)}},v=async()=>{try{if(X!==""){O("   .");return}L(!0),O("");const{data:{session:Q}}=await se.auth.getSession();if(!(Q!=null&&Q.access_token))throw new Error("  .  .");const V=await fetch("/.netlify/functions/delete-account",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q.access_token}`},body:JSON.stringify({userId:i.id,reason:ie,details:M})}),P=await V.json();if(!V.ok||!P.success)throw new Error(P.error||"   .");H("  ."),setTimeout(()=>d(),2e3)}catch(Q){console.error("  :",Q),O(Q.message||"     .")}finally{L(!1)}},R=()=>{if(typeof window>"u")return;G(!0);const Q=()=>{const V=document.getElementById("postcode-layer");V&&new window.daum.Postcode({oncomplete:function(P){let ce=P.address,U="";P.addressType==="R"&&(P.bname!==""&&(U+=P.bname),P.buildingName!==""&&(U+=U!==""?", "+P.buildingName:P.buildingName),ce+=U!==""?" ("+U+")":""),f(q=>({...q,postcode:P.zonecode,address:ce})),G(!1)},onclose:function(){G(!1)},width:"100%",height:"100%"}).embed(V)};if(window.daum&&window.daum.Postcode)setTimeout(Q,100);else{const V=document.createElement("script");V.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",V.onload=()=>setTimeout(Q,100),document.head.appendChild(V)}},ae=async Q=>{var ce;const V=(ce=Q.target.files)==null?void 0:ce[0];if(!V)return;if(V.size>10*1024*1024){O("  10MB  .");return}if(!["image/jpeg","image/jpg","image/png"].includes(V.type)){O("JPG  PNG   .");return}try{g(!0),O("");const U=new FileReader;U.onloadend=()=>_(U.result),U.readAsDataURL(V);const q=document.createElement("canvas"),F=q.getContext("2d"),ye=new Image;await new Promise((Re,fe)=>{ye.onload=Re,ye.onerror=fe,ye.src=URL.createObjectURL(V)});const ve=1920;let de=ye.width,Y=ye.height;(de>ve||Y>ve)&&(de>Y?(Y=Y*ve/de,de=ve):(de=de*ve/Y,Y=ve)),q.width=de,q.height=Y,F.drawImage(ye,0,0,de,Y);const we=await new Promise(Re=>q.toBlob(Re,"image/jpeg",.85)),E=`${i.id}-${Date.now()}.jpg`,ee=new File([we],E,{type:"image/jpeg"});URL.revokeObjectURL(ye.src);const ze=`${i.id}/${ee.name}`,{error:xe}=await se.storage.from("profile-photos").upload(ze,ee,{cacheControl:"3600",upsert:!0});if(xe)throw xe;const{data:{publicUrl:Ae}}=se.storage.from("profile-photos").getPublicUrl(ze);try{await se.from("user_profiles").update({profile_image:Ae}).eq("id",i.id)}catch(Re){console.warn("  DB  :",Re)}f(Re=>({...Re,profile_image:Ae})),_(Ae),H("  ."),setTimeout(()=>H(""),2e3)}catch(U){console.error("  :",U),O("    .")}finally{g(!1)}};return h.useEffect(()=>{if(!m){x(null);return}return x(e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-violet-100 flex items-center justify-center overflow-hidden",children:n.profile_image?e.jsx("img",{src:n.profile_image,alt:"",className:"w-full h-full object-cover"}):e.jsx(st,{size:32,className:"text-violet-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n.name||" "}),e.jsx("p",{className:"text-sm text-gray-500",children:i==null?void 0:i.email})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4",children:" "}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.phone||"-"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.age||"-"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.skin_type||"-"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.category||"-"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4",children:"SNS "}),e.jsxs("div",{className:"space-y-3",children:[n.instagram_url&&e.jsxs("div",{className:"flex items-center gap-3 bg-pink-50 rounded-xl p-4",children:[e.jsx(zt,{size:20,className:"text-pink-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Instagram"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.instagram_url})]}),n.instagram_followers&&e.jsx("span",{className:"text-sm font-bold text-pink-600",children:n.instagram_followers})]}),n.youtube_url&&e.jsxs("div",{className:"flex items-center gap-3 bg-red-50 rounded-xl p-4",children:[e.jsx(jt,{size:20,className:"text-red-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"YouTube"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.youtube_url})]}),n.youtube_subscribers&&e.jsx("span",{className:"text-sm font-bold text-red-600",children:n.youtube_subscribers})]}),n.tiktok_url&&e.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-xl p-4",children:[e.jsx(ot,{size:20,className:"text-gray-700"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"TikTok"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.tiktok_url})]}),n.tiktok_followers&&e.jsx("span",{className:"text-sm font-bold text-gray-700",children:n.tiktok_followers})]})]})]}),n.bio&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:""}),e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:n.bio})]})]})),()=>x(null)},[m,n]),C?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(Ue,{className:"h-8 w-8 animate-spin text-violet-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white border-b",children:e.jsxs("div",{className:"max-w-md mx-auto px-4 h-14 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>o("/"),className:"p-2 -ml-2",children:e.jsx(Ks,{size:24,className:"text-gray-900"})}),e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:" "}),e.jsx("button",{onClick:S,disabled:J,className:"text-violet-600 font-semibold text-[15px] disabled:opacity-50",children:J?"...":""})]})}),(T||w)&&e.jsx("div",{className:`mx-4 mt-4 p-3 rounded-xl text-sm font-medium ${T?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:T||w}),e.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-8",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[!z&&e.jsx("div",{className:"w-full mb-4 bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl p-4 text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Nr,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm",children:"    !"}),e.jsx("p",{className:"text-xs text-white/90 mt-0.5",children:"     3 "})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden bg-gray-200 border-4 border-white shadow-lg",children:z?e.jsx("img",{src:z,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-violet-400 to-pink-400",children:e.jsx(st,{className:"w-12 h-12 text-white"})})}),e.jsxs("label",{className:"absolute bottom-0 right-0 w-9 h-9 bg-gray-900 rounded-full flex items-center justify-center cursor-pointer shadow-lg",children:[j?e.jsx(Ue,{className:"w-5 h-5 text-white animate-spin"}):e.jsx(Nr,{className:"w-5 h-5 text-white"}),e.jsx("input",{type:"file",accept:"image/jpeg,image/png",onChange:ae,className:"hidden",disabled:j})]})]}),e.jsx("p",{className:"mt-3 text-sm text-gray-500",children:"  "})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-bold text-gray-900 mb-4",children:" "}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1.5",children:""}),e.jsx("input",{type:"text",value:n.name,onChange:Q=>f(V=>({...V,name:Q.target.value})),className:"w-full px-4 py-3 bg-gray-100 rounded-xl text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-violet-600 mb-1.5",children:""}),e.jsx("input",{type:"tel",value:n.phone,onChange:Q=>f(V=>({...V,phone:Q.target.value})),className:"w-full px-4 py-3 bg-gray-100 rounded-xl text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"010-1234-5678"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"block text-xs text-gray-500 mb-1.5",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n.postcode,readOnly:!0,className:"w-24 px-4 py-3 bg-gray-100 rounded-xl text-[15px] text-gray-900 focus:outline-none",placeholder:""}),e.jsxs("button",{onClick:R,className:"flex-1 px-4 py-3 bg-gray-900 text-white rounded-xl text-[15px] font-medium flex items-center justify-center gap-2",children:[e.jsx(_a,{size:18})," "]})]})]}),e.jsx("input",{type:"text",value:n.address,readOnly:!0,className:"w-full px-4 py-3 bg-gray-100 rounded-xl text-[15px] text-gray-900 mb-3 focus:outline-none",placeholder:" "}),e.jsx("input",{type:"text",value:n.detail_address,onChange:Q=>f(V=>({...V,detail_address:Q.target.value})),className:"w-full px-4 py-3 bg-gray-100 rounded-xl text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:" "})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("h2",{className:"text-base font-bold text-gray-900",children:" "}),e.jsx("span",{className:"text-xs text-violet-600 font-medium",children:"(  UP)"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:" "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ue.map(Q=>e.jsx("button",{onClick:()=>f(V=>({...V,skin_type:Q})),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${n.skin_type===Q?"bg-gray-900 text-white":"bg-white border border-gray-200 text-gray-700 hover:border-gray-400"}`,children:Q},Q))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:" "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:re.map(Q=>e.jsx("button",{onClick:()=>f(V=>({...V,category:Q.value})),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${n.category===Q.value?"bg-gray-900 text-white":"bg-white border border-gray-200 text-gray-700 hover:border-gray-400"}`,children:Q.label},Q.value))})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-bold text-gray-900 mb-4",children:"SNS  "}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-4 mb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 flex items-center justify-center",children:e.jsx(zt,{size:20,className:"text-white"})}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:n.instagram_url,onChange:Q=>f(V=>({...V,instagram_url:Q.target.value})),className:"w-full text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none",placeholder:"@username  URL"})}),e.jsxs("div",{className:"flex items-center gap-1 border-l pl-3",children:[e.jsx("input",{type:"number",value:n.instagram_followers,onChange:Q=>f(V=>({...V,instagram_followers:Q.target.value})),className:"w-16 text-right text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none",placeholder:"0"}),e.jsx("span",{className:"text-xs text-gray-400",children:""})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-4 mb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-500 flex items-center justify-center",children:e.jsx(jt,{size:20,className:"text-white"})}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:n.youtube_url,onChange:Q=>f(V=>({...V,youtube_url:Q.target.value})),className:"w-full text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none",placeholder:" URL"})}),e.jsxs("div",{className:"flex items-center gap-1 border-l pl-3",children:[e.jsx("input",{type:"number",value:n.youtube_subscribers,onChange:Q=>f(V=>({...V,youtube_subscribers:Q.target.value})),className:"w-16 text-right text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none",placeholder:"0"}),e.jsx("span",{className:"text-xs text-gray-400",children:""})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-900 flex items-center justify-center",children:e.jsx(ot,{size:20,className:"text-white"})}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:n.tiktok_url,onChange:Q=>f(V=>({...V,tiktok_url:Q.target.value})),className:"w-full text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none",placeholder:"@username  URL"})}),e.jsxs("div",{className:"flex items-center gap-1 border-l pl-3",children:[e.jsx("input",{type:"number",value:n.tiktok_followers,onChange:Q=>f(V=>({...V,tiktok_followers:Q.target.value})),className:"w-16 text-right text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none",placeholder:"0"}),e.jsx("span",{className:"text-xs text-gray-400",children:""})]})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-bold text-gray-900 mb-4",children:"  "}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"     "}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:n.channel_name,onChange:Q=>f(V=>({...V,channel_name:Q.target.value})),className:"w-full px-4 py-3 bg-gray-100 rounded-xl text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:" "}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"number",value:n.followers,onChange:Q=>f(V=>({...V,followers:Q.target.value})),className:"w-full px-4 py-3 bg-gray-100 rounded-xl text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"/ "}),e.jsx("input",{type:"number",value:n.avg_views,onChange:Q=>f(V=>({...V,avg_views:Q.target.value})),className:"w-full px-4 py-3 bg-gray-100 rounded-xl text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:" "})]}),e.jsx("input",{type:"text",value:n.target_audience,onChange:Q=>f(V=>({...V,target_audience:Q.target.value})),className:"w-full px-4 py-3 bg-gray-100 rounded-xl text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"  (: 20-30 )"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-bold text-gray-900 mb-4",children:""}),e.jsx("textarea",{value:n.bio,onChange:Q=>f(V=>({...V,bio:Q.target.value})),className:"w-full px-4 py-3 bg-gray-100 rounded-xl text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 resize-none",placeholder:"  ",rows:4})]}),e.jsx("button",{onClick:S,disabled:J,className:"w-full py-4 bg-violet-600 text-white rounded-2xl font-bold text-base hover:bg-violet-700 disabled:opacity-50 transition-colors",children:J?" ...":" "}),e.jsxs("div",{className:"bg-white rounded-2xl p-5 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(kr,{size:20,className:"text-gray-700"}),e.jsx("h2",{className:"text-base font-bold text-gray-900",children:" "})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"password",value:A.currentPassword,onChange:Q=>k(V=>({...V,currentPassword:Q.target.value})),className:"w-full px-4 py-3 bg-gray-100 rounded-xl text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:" "}),e.jsx("input",{type:"password",value:A.newPassword,onChange:Q=>k(V=>({...V,newPassword:Q.target.value})),className:"w-full px-4 py-3 bg-gray-100 rounded-xl text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:" "}),e.jsx("input",{type:"password",value:A.confirmPassword,onChange:Q=>k(V=>({...V,confirmPassword:Q.target.value})),className:"w-full px-4 py-3 bg-gray-100 rounded-xl text-[15px] text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"  "}),e.jsx("button",{onClick:W,disabled:J,className:"w-full py-3 bg-gray-900 text-white rounded-xl font-semibold text-[15px] hover:bg-gray-800 disabled:opacity-50 transition-colors",children:" "})]})]}),e.jsx("div",{className:"bg-red-50 rounded-2xl p-5 border border-red-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(_r,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-bold text-red-900 mb-1",children:" "}),e.jsx("p",{className:"text-sm text-red-700 mb-3",children:"        ."}),e.jsx("button",{onClick:()=>$(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 transition-colors",children:" "})]})]})}),e.jsxs("button",{onClick:d,className:"w-full py-4 bg-white border border-gray-200 text-gray-700 rounded-2xl font-semibold text-[15px] hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Ui,{size:18}),""]})]}),D&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-red-600",children:" "}),e.jsx("button",{onClick:()=>$(!1),children:e.jsx(Fs,{className:"w-6 h-6 text-gray-400 hover:text-gray-600"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:e.jsx("p",{className:"text-sm text-red-800",children:"         ."})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsxs("select",{value:ie,onChange:Q=>be(Q.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:"  ",children:"  "}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:"",children:""})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",e.jsx("span",{className:"text-xs text-gray-500",children:"()"})]}),e.jsx("textarea",{value:M,onChange:Q=>le(Q.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 resize-none",rows:3,placeholder:"   "})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",e.jsx("strong",{children:'""'})," "]}),e.jsx("input",{type:"text",value:X,onChange:Q=>B(Q.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:""})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>$(!1),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold",children:""}),e.jsx("button",{onClick:v,disabled:ne||X!=="",className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-semibold disabled:opacity-50",children:ne?"...":""})]})]})]})}),y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white w-full max-w-md mx-4 rounded-2xl overflow-hidden shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:" "}),e.jsx("button",{onClick:()=>G(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsx("span",{className:"text-2xl text-gray-400",children:""})})]}),e.jsx("div",{id:"postcode-layer",style:{height:"400px"}})]})})]})},_o=[{value:"dry",label:""},{value:"oily",label:""},{value:"combination",label:""},{value:"sensitive",label:""}],Rm=[{value:"shade_13",label:"13 ( )"},{value:"shade_17",label:"17"},{value:"shade_21",label:"21 ( )"},{value:"shade_23",label:"23 ( )"},{value:"shade_25",label:"25 "}],Om=[{value:"spring_warm",label:" ",description:"   (, ,  )"},{value:"summer_cool",label:" ",description:"   (, ,  )"},{value:"autumn_warm",label:" ",description:"   (, , )"},{value:"winter_cool",label:" ",description:"   (, , )"},{value:"warm_neutral",label:" ",description:"  (   )"},{value:"cool_neutral",label:" ",description:"  (   )"},{value:"true_neutral",label:"",description:"/   "}],Xh=[{value:"tone_13",label:"13"},{value:"tone_21",label:"21"},{value:"tone_23",label:"23"},{value:"warm",label:""},{value:"cool",label:""},{value:"neutral",label:""}],ko=[{value:"dry",label:""},{value:"oily",label:""},{value:"normal",label:""}],Zm=[{value:"skincare",label:" "},{value:"haircare",label:" "},{value:"diet_fitness",label:"/"},{value:"makeup",label:""},{value:"wellness",label:""},{value:"fashion",label:""},{value:"travel",label:""},{value:"parenting",label:""}],Cg=Zm,Jm=[{value:"beginner",label:"",description:"  ,  "},{value:"intermediate",label:"",description:"/ , / "},{value:"expert",label:"",description:"  , / "}],Pm=[{value:"beginner",label:"",description:"  "},{value:"intermediate",label:"",description:"/ ,  "},{value:"expert",label:"",description:"/DSLR ,   "}],Wm=[{value:"1k_10k",label:"1K~10K"},{value:"10k_100k",label:"10K~100K"},{value:"100k_1m",label:"100K~1M"},{value:"1m_plus",label:"1M+"}],zg=[{value:"weekly",label:" 1 "},{value:"biweekly",label:" 2~3"},{value:"monthly",label:" 1 "}],So=[{value:"female",label:""},{value:"male",label:""}],Qj=[{value:"public",label:""},{value:"private",label:""}],Xj=[{value:"possible",label:""},{value:"impossible",label:""}],Fj=[{value:"possible",label:""},{value:"impossible",label:""}],Zj=[{value:"possible",label:""},{value:"impossible",label:""}],Eg=[{value:"popup",label:""},{value:"oliveyoung",label:""},{value:"department",label:""},{value:"daiso",label:""},{value:"other",label:""}],Ag=[{value:"husband",label:""},{value:"wife",label:""},{value:"parents",label:""}],Jj=[{value:"boy",label:""},{value:"girl",label:""}],Tg=[{value:"longform",label:""},{value:"shortform",label:""},{value:"both",label:"  "}],Ug=[{value:"fast",label:"",description:"  ,  "},{value:"normal",label:"",description:" ,   "},{value:"slow",label:"",description:" ,  "}],Im=[{value:"emotional",label:""},{value:"review",label:""},{value:"tutorial",label:""},{value:"vlog",label:"VLOG"},{value:"unboxing",label:""},{value:"comparison",label:""},{value:"haul",label:""},{value:"asmr",label:"ASMR"}],ex=[{value:"trouble",label:""},{value:"acne",label:""},{value:"pores",label:""},{value:"pigmentation",label:"/"},{value:"wrinkles",label:""},{value:"redness",label:""},{value:"atopy",label:""},{value:"inner_dryness",label:""},{value:"oiliness",label:""}],sx=[{value:"damaged",label:""},{value:"weak",label:" "},{value:"dandruff",label:"/"},{value:"oily_scalp",label:" "},{value:"sensitive_scalp",label:" "},{value:"frizzy",label:"/"},{value:"perm_damage",label:"/ "},{value:"bleach_damage",label:" "}],Mg=[{value:"overall_weight",label:"  "},{value:"spot_reduction",label:"  "},{value:"weight_maintain",label:" "},{value:"muscle_gain",label:" "},{value:"cellulite",label:""},{value:"skin_elasticity",label:"/"},{value:"binge_eating",label:"/"},{value:"nutrition",label:" "},{value:"digestion",label:" "}],Dg=[{value:"shorts",label:"(Shorts/Reels)"},{value:"longform",label:"(YouTube)"},{value:"feed",label:"(/)"},{value:"live",label:""},{value:"story",label:""},{value:"group_buy",label:""}],tx=[{value:"product_review",label:" "},{value:"unboxing",label:""},{value:"tutorial",label:""},{value:"sponsorship",label:""},{value:"ambassador",label:""}],Lg=[{value:"korean",label:""},{value:"english",label:""},{value:"japanese",label:""},{value:"chinese",label:""}],Pj=[{value:"instagram",label:""},{value:"tiktok",label:""},{value:"youtube",label:""}],qg=[{value:"always",label:" "},{value:"sometimes",label:""},{value:"never",label:""}],Rg=[{value:"always",label:" "},{value:"sometimes",label:" "},{value:"never",label:" "}],Og=[{value:"always",label:" "},{value:"sometimes",label:" "},{value:"never",label:" "}],$g=[{value:"skincare",label:""},{value:"makeup",label:""},{value:"maskpack",label:""},{value:"suncare",label:""},{value:"haircare",label:""},{value:"bodycare",label:""},{value:"fragrance",label:""},{value:"health_supplement",label:""},{value:"other",label:""}],Wj=()=>null,pt=({options:i,value:d,onChange:o,size:m="normal"})=>e.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(x=>e.jsx("button",{type:"button",onClick:()=>o(x.value),className:`rounded-xl font-semibold transition-all duration-200 ${m==="small"?"px-4 py-2.5 text-sm":"px-5 py-3 text-base"} ${d===x.value?"bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white shadow-lg shadow-violet-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:x.label},x.value))}),Tm=({options:i,value:d,onChange:o})=>e.jsx("div",{className:"space-y-2",children:i.map(m=>e.jsxs("button",{type:"button",onClick:()=>o(m.value),className:`w-full flex items-center justify-between p-4 rounded-xl text-left transition-all ${d===m.value?"bg-violet-50 border-2 border-violet-500 shadow-sm":"bg-white border-2 border-gray-200 hover:border-violet-300"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-bold ${d===m.value?"text-violet-700":"text-gray-900"}`,children:m.label}),m.description&&e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:m.description})]}),e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ml-3 ${d===m.value?"bg-gradient-to-r from-violet-600 to-fuchsia-600":"border-2 border-gray-300"}`,children:d===m.value&&e.jsx(rt,{className:"w-4 h-4 text-white"})})]},m.value))}),Vl=({options:i,values:d=[],onChange:o,columns:m=2})=>{const x=n=>{const f=d.includes(n)?d.filter(j=>j!==n):[...d,n];o(f)};return e.jsx("div",{className:`grid gap-2.5 ${m===2?"grid-cols-2":"grid-cols-3"}`,children:i.map(n=>{const f=d.includes(n.value);return e.jsxs("button",{type:"button",onClick:()=>x(n.value),className:`flex items-center gap-2.5 px-4 py-3.5 rounded-xl text-sm font-semibold transition-all text-left ${f?"bg-violet-50 border-2 border-violet-500 text-violet-700":"bg-gray-50 border-2 border-gray-200 text-gray-700 hover:border-gray-300"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded-md flex items-center justify-center flex-shrink-0 ${f?"bg-violet-600":"border-2 border-gray-300"}`,children:f&&e.jsx(rt,{className:"w-3 h-3 text-white"})}),e.jsx("span",{children:n.label})]},n.value)})})},Ij=({children:i=[],onChange:d})=>{const o=()=>d([...i,{gender:"",age:""}]),m=n=>d(i.filter((f,j)=>j!==n)),x=(n,f,j)=>{const g=[...i];g[n]={...g[n],[f]:j},d(g)};return e.jsxs("div",{className:"space-y-3",children:[i.map((n,f)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[e.jsxs("select",{value:n.gender,onChange:j=>x(f,"gender",j.target.value),className:"flex-1 px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-violet-500",children:[e.jsx("option",{value:"",children:" "}),Jj.map(j=>e.jsx("option",{value:j.value,children:j.label},j.value))]}),e.jsx("input",{type:"number",value:n.age,onChange:j=>x(f,"age",j.target.value),placeholder:"",className:"w-20 px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-sm font-medium focus:outline-none focus:ring-2 focus:ring-violet-500",min:"0",max:"18"}),e.jsx("button",{type:"button",onClick:()=>m(f),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:e.jsx(ho,{className:"w-5 h-5"})})]},f)),e.jsxs("button",{type:"button",onClick:o,className:"w-full py-3.5 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 text-sm font-semibold flex items-center justify-center gap-2 hover:border-violet-400 hover:text-violet-600 transition-colors",children:[e.jsx(Lm,{className:"w-4 h-4"}),"  "]})]})},ey=({percentage:i,tabs:d,activeTab:o,setActiveTab:m,canAccessTab:x,checkStepComplete:n})=>{const f=2*Math.PI*24,j=f-i/100*f;return e.jsx("div",{className:"bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-2xl overflow-hidden mb-5",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative w-14 h-14 flex-shrink-0",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[e.jsx("circle",{cx:"28",cy:"28",r:"24",stroke:"rgba(255,255,255,0.3)",strokeWidth:"4",fill:"none"}),e.jsx("circle",{cx:"28",cy:"28",r:"24",stroke:"white",strokeWidth:"4",fill:"none",strokeLinecap:"round",strokeDasharray:f,strokeDashoffset:j,className:"transition-all duration-700 ease-out"})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:e.jsxs("span",{className:"text-base font-bold text-white",children:[i,"%"]})})]}),e.jsxs("div",{className:"flex-1 min-w-0 text-white",children:[e.jsx("p",{className:"text-sm font-bold leading-tight",children:"    UP!"}),e.jsxs("p",{className:"text-xs text-white/80 mt-1",children:[" 100%   ",e.jsx("span",{className:"text-yellow-300 font-bold",children:" 300%"})," "]})]})]}),e.jsx("div",{className:"flex gap-1 mt-3",children:d.filter(g=>g.id!=="account").map(g=>{const z=o===g.id,_=n(g.id),A=x(g.id);return e.jsxs("button",{onClick:()=>A&&m(g.id),disabled:!A,className:`flex-1 py-2 rounded-lg text-xs font-semibold transition-all ${z?"bg-white text-violet-700":_?"bg-white/30 text-white":A?"bg-white/10 text-white/70 hover:bg-white/20":"bg-white/5 text-white/30 cursor-not-allowed"}`,children:[_&&!z&&" ",g.label]},g.id)})})]})})},jn=({icon:i,title:d,description:o,benefit:m})=>e.jsx("div",{className:"bg-gradient-to-r from-violet-50 to-fuchsia-50 rounded-xl p-4 border border-violet-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[i&&e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-violet-500 to-fuchsia-500 flex items-center justify-center flex-shrink-0",children:e.jsx(i,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:d}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:o}),m&&e.jsxs("p",{className:"text-xs text-violet-600 font-semibold mt-1",children:[" ",m]})]})]})}),ba=({title:i,required:d=!1,subtitle:o})=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900",children:[i,d&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),o&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o})]}),Ei=({isLastStep:i,onNext:d,canProceed:o,saving:m})=>e.jsxs("div",{className:"mt-8 space-y-3",children:[i?e.jsx("button",{onClick:d,disabled:!o||m,className:"w-full py-5 bg-gradient-to-r from-violet-600 to-purple-600 text-white rounded-2xl font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-violet-200",children:m?" ...":" "}):e.jsxs("button",{onClick:d,disabled:!o,className:"w-full py-4.5 bg-violet-600 text-white rounded-2xl font-bold text-base disabled:opacity-40 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:["  ",e.jsx(et,{className:"w-5 h-5"})]}),!o&&!i&&e.jsx("p",{className:"text-center text-sm text-gray-400",children:"       "})]}),Um=()=>{const{user:i,signOut:d}=xs(),o=Qe(),{isPCView:m,setExpandedContent:x}=qt(),[n,f]=h.useState({name:"",email:"",phone:"",age:"",bio:"",profile_image:"",postcode:"",address:"",detail_address:"",instagram_url:"",youtube_url:"",tiktok_url:"",blog_url:"",instagram_followers:"",youtube_subscribers:"",tiktok_followers:"",channel_name:"",followers:"",avg_views:"",target_audience:""}),[j,g]=h.useState({skin_type:"",skin_shade:"",personal_color:"",skin_tone:"",hair_type:"",primary_interest:"",editing_level:"",shooting_level:"",follower_range:"",upload_frequency:"",gender:"",job_visibility:"",job:"",child_appearance:"",family_appearance:"",offline_visit:"",offline_region:"",linktree_available:"",nail_usage:"",circle_lens_usage:"",glasses_usage:"",mirroring_available:"",smartstore_purchase:"",video_length_style:"",shortform_tempo:"",video_style:"",category:"",skin_concerns:[],hair_concerns:[],diet_concerns:[],content_formats:[],collaboration_preferences:[],children:[],family_members:[],offline_locations:[],languages:[],linktree_channels:[],mirroring_channels:[]}),[z,_]=h.useState(!1),[A,k]=h.useState(null),[C,b]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[J,K]=h.useState(!0),[T,O]=h.useState(!1),[w,H]=h.useState(""),[y,G]=h.useState(""),[D,$]=h.useState(!1),[ie,be]=h.useState("basic"),[M,le]=h.useState([]),[X,B]=h.useState(!1),[ne,L]=h.useState(""),[ue,re]=h.useState(""),[me,S]=h.useState(""),[W,v]=h.useState(!1),R=[{id:"basic",label:"",icon:st},{id:"beauty",label:"",icon:bt},{id:"sns",label:"SNS",icon:go},{id:"video",label:"",icon:es},{id:"detail",label:"",icon:ft},{id:"account",label:"",icon:qa}],ae=E=>{switch(E){case"basic":return!!n.name&&!!n.phone;case"beauty":return!!j.skin_type&&j.skin_concerns.length>0&&!!j.hair_type&&j.hair_concerns.length>0;case"sns":return!!(n.instagram_url||n.youtube_url||n.tiktok_url);case"video":return!!j.video_length_style;case"detail":return!!j.gender;case"account":return!0;default:return!1}},Q=()=>{let E=0;const ee={name:10,phone:10,address:5,photo:10,skin_type:10,skin_concerns:10,hair_type:5,hair_concerns:5,sns:15,video_style:10,gender:10};return n.name&&(E+=ee.name),n.phone&&(E+=ee.phone),n.address&&(E+=ee.address),A&&(E+=ee.photo),j.skin_type&&(E+=ee.skin_type),j.skin_concerns.length>0&&(E+=ee.skin_concerns),j.hair_type&&(E+=ee.hair_type),j.hair_concerns.length>0&&(E+=ee.hair_concerns),(n.instagram_url||n.youtube_url||n.tiktok_url)&&(E+=ee.sns),j.video_length_style&&(E+=ee.video_style),j.gender&&(E+=ee.gender),Math.min(100,E)},V=E=>{if(E==="account")return!0;const ee=R.findIndex(ze=>ze.id===E);if(ee===0)return!0;for(let ze=0;ze<ee;ze++)if(R[ze].id!=="account"&&!ae(R[ze].id))return!1;return!0},P=async()=>{const E=R.findIndex(ee=>ee.id===ie);await U(!0),ie==="detail"?(G(" !"),setTimeout(()=>G(""),3e3)):E<R.length-2&&(M.includes(ie)||le([...M,ie]),be(R[E+1].id),window.scrollTo({top:0,behavior:"smooth"}))};h.useEffect(()=>{i&&ce()},[i]),h.useEffect(()=>{if(!m){x(null);return}const E=Q();return x(e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-violet-100 flex items-center justify-center overflow-hidden",children:A?e.jsx("img",{src:A,alt:"",className:"w-full h-full object-cover"}):e.jsx(st,{size:32,className:"text-violet-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n.name||" "}),e.jsx("p",{className:"text-sm text-gray-500",children:i==null?void 0:i.email})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:" "}),e.jsxs("span",{className:"text-sm font-bold text-purple-600",children:[E,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 rounded-full h-2 transition-all",style:{width:`${E}%`}})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4",children:" "}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.phone||"-"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.age||"-"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.skin_type||"-"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:""}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.gender||"-"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4",children:"SNS "}),e.jsxs("div",{className:"space-y-3",children:[n.instagram_url&&e.jsxs("div",{className:"flex items-center gap-3 bg-pink-50 rounded-xl p-4",children:[e.jsx(zt,{size:20,className:"text-pink-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Instagram"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.instagram_url})]}),n.instagram_followers&&e.jsxs("span",{className:"text-sm font-bold text-pink-600",children:[Number(n.instagram_followers).toLocaleString(),""]})]}),n.youtube_url&&e.jsxs("div",{className:"flex items-center gap-3 bg-red-50 rounded-xl p-4",children:[e.jsx(jt,{size:20,className:"text-red-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"YouTube"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.youtube_url})]}),n.youtube_subscribers&&e.jsxs("span",{className:"text-sm font-bold text-red-600",children:[Number(n.youtube_subscribers).toLocaleString(),""]})]}),n.tiktok_url&&e.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-xl p-4",children:[e.jsx(ot,{size:20,className:"text-gray-700"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"TikTok"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.tiktok_url})]}),n.tiktok_followers&&e.jsxs("span",{className:"text-sm font-bold text-gray-700",children:[Number(n.tiktok_followers).toLocaleString(),""]})]}),!n.instagram_url&&!n.youtube_url&&!n.tiktok_url&&e.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"SNS  "})]})]}),n.bio&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:""}),e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:n.bio})]})]})),()=>x(null)},[m,n,j,A,ie]);const ce=async()=>{var E,ee,ze;try{K(!0);const xe=await Be.userProfiles.get(i.id);if(console.log("[DEBUG]   -  :",xe),console.log("[DEBUG]   - age :",xe==null?void 0:xe.age,":",typeof(xe==null?void 0:xe.age)),console.log("[DEBUG]   - skin_type:",xe==null?void 0:xe.skin_type),console.log("[DEBUG]   - skin_concerns:",xe==null?void 0:xe.skin_concerns),console.log("[DEBUG]   - gender:",xe==null?void 0:xe.gender),xe){f({name:xe.name||"",email:xe.email||i.email||"",phone:xe.phone||"",age:xe.age!=null?String(xe.age):"",bio:xe.bio||"",profile_image:xe.profile_image||"",postcode:xe.postcode||"",address:xe.address||"",detail_address:xe.detail_address||"",instagram_url:xe.instagram_url||"",youtube_url:xe.youtube_url||"",tiktok_url:xe.tiktok_url||"",blog_url:xe.blog_url||"",instagram_followers:xe.instagram_followers!=null?String(xe.instagram_followers):"",youtube_subscribers:xe.youtube_subscribers!=null?String(xe.youtube_subscribers):"",tiktok_followers:xe.tiktok_followers!=null?String(xe.tiktok_followers):"",channel_name:xe.channel_name||"",followers:xe.followers!=null?String(xe.followers):"",avg_views:xe.avg_views!=null?String(xe.avg_views):"",target_audience:xe.target_audience||""}),g({skin_type:xe.skin_type||"",skin_shade:xe.skin_shade||"",personal_color:xe.personal_color||"",skin_tone:xe.skin_tone||"",hair_type:xe.hair_type||"",primary_interest:xe.primary_interest||"",editing_level:xe.editing_level||"",shooting_level:xe.shooting_level||"",follower_range:xe.follower_range||"",upload_frequency:xe.upload_frequency||"",gender:xe.gender||"",job_visibility:xe.job_visibility||"",job:xe.job||"",child_appearance:xe.child_appearance||"",family_appearance:xe.family_appearance||"",offline_visit:xe.offline_visit||"",offline_region:xe.offline_region||"",linktree_available:xe.linktree_available||"",nail_usage:xe.nail_usage||"",circle_lens_usage:xe.circle_lens_usage||"",glasses_usage:xe.glasses_usage||"",mirroring_available:xe.mirroring_available||"",smartstore_purchase:xe.smartstore_purchase||"",video_length_style:xe.video_length_style||"",shortform_tempo:xe.shortform_tempo||"",video_style:((E=xe.video_styles)==null?void 0:E[0])||"",category:xe.category||"",skin_concerns:xe.skin_concerns||[],hair_concerns:xe.hair_concerns||[],diet_concerns:xe.diet_concerns||[],content_formats:xe.content_formats||[],collaboration_preferences:xe.collaboration_preferences||[],children:xe.children||[],family_members:xe.family_members||[],offline_locations:xe.offline_locations||[],languages:xe.languages||[],linktree_channels:xe.linktree_channels||[],mirroring_channels:xe.mirroring_channels||[]}),xe.profile_image&&k(xe.profile_image),console.log("[DEBUG]    - profile.age:",xe.age!=null?String(xe.age):"(empty)"),console.log("[DEBUG]    - beautyProfile.skin_type:",xe.skin_type||"(empty)");const Ae=[];xe.name&&xe.phone&&Ae.push("basic"),xe.skin_type&&((ee=xe.skin_concerns)==null?void 0:ee.length)>0&&xe.hair_type&&((ze=xe.hair_concerns)==null?void 0:ze.length)>0&&Ae.push("beauty"),(xe.instagram_url||xe.youtube_url||xe.tiktok_url)&&Ae.push("sns"),xe.video_length_style&&Ae.push("video"),xe.gender&&Ae.push("detail"),Ae.push("account"),console.log("[DEBUG]  :",Ae),le(Ae)}else f(Ae=>({...Ae,email:i.email||""}))}catch(xe){console.error("  :",xe),H("  .")}finally{K(!1)}},U=async(E=!1)=>{var ee,ze,xe,Ae,Re,fe,Ce,Pe,I,ke,De,Xe,gs;try{if(O(!0),E||(H(""),G("")),!n.name.trim()){E||H(" ."),O(!1);return}console.log("[DEBUG]   profile.age:",n.age,":",typeof n.age);const cs={id:i.id,role:"creator",name:n.name.trim(),email:n.email.trim(),phone:((ee=n.phone)==null?void 0:ee.trim())||null,age:n.age?parseInt(n.age):null,bio:((ze=n.bio)==null?void 0:ze.trim())||null,postcode:((xe=n.postcode)==null?void 0:xe.trim())||null,address:((Ae=n.address)==null?void 0:Ae.trim())||null,detail_address:((Re=n.detail_address)==null?void 0:Re.trim())||null,instagram_url:((fe=n.instagram_url)==null?void 0:fe.trim())||null,youtube_url:((Ce=n.youtube_url)==null?void 0:Ce.trim())||null,tiktok_url:((Pe=n.tiktok_url)==null?void 0:Pe.trim())||null,blog_url:((I=n.blog_url)==null?void 0:I.trim())||null,instagram_followers:n.instagram_followers?parseInt(n.instagram_followers):null,youtube_subscribers:n.youtube_subscribers?parseInt(n.youtube_subscribers):null,tiktok_followers:n.tiktok_followers?parseInt(n.tiktok_followers):null,channel_name:((ke=n.channel_name)==null?void 0:ke.trim())||null,followers:n.followers?parseInt(n.followers):null,avg_views:n.avg_views?parseInt(n.avg_views):null,target_audience:((De=n.target_audience)==null?void 0:De.trim())||null,skin_type:j.skin_type||null,hair_type:j.hair_type||null,category:j.category||null,primary_interest:j.primary_interest||null,editing_level:j.editing_level||null,shooting_level:j.shooting_level||null,follower_range:j.follower_range||null,upload_frequency:j.upload_frequency||null,gender:j.gender||null,job_visibility:j.job_visibility||null,job:j.job_visibility==="public"&&((Xe=j.job)==null?void 0:Xe.trim())||null,child_appearance:j.child_appearance||null,family_appearance:j.family_appearance||null,offline_visit:j.offline_visit||null,offline_region:j.offline_visit==="possible"&&((gs=j.offline_region)==null?void 0:gs.trim())||null,linktree_available:j.linktree_available||null,video_length_style:j.video_length_style||null,shortform_tempo:j.shortform_tempo||null,skin_shade:j.skin_shade||null,personal_color:j.personal_color||null,skin_tone:j.skin_tone||null,nail_usage:j.nail_usage||null,circle_lens_usage:j.circle_lens_usage||null,glasses_usage:j.glasses_usage||null,mirroring_available:j.mirroring_available||null,smartstore_purchase:j.smartstore_purchase||null,skin_concerns:j.skin_concerns,hair_concerns:j.hair_concerns,diet_concerns:j.diet_concerns,content_formats:j.content_formats,collaboration_preferences:j.collaboration_preferences,video_styles:j.video_style?[j.video_style]:[],children:j.child_appearance==="possible"?j.children:[],family_members:j.family_appearance==="possible"?j.family_members:[],offline_locations:j.offline_visit==="possible"?j.offline_locations:[],languages:j.languages,linktree_channels:j.linktree_available==="possible"?j.linktree_channels:[],mirroring_channels:j.mirroring_available==="possible"?j.mirroring_channels:[]};console.log("[DEBUG]  profileData:",cs),console.log("[DEBUG]  age :",cs.age),await Be.userProfiles.upsert(cs),E||(G(" !"),setTimeout(()=>G(""),3e3))}catch(cs){console.error("  :",cs),E||H(` : ${cs.message}`)}finally{O(!1)}},q=()=>{if(typeof window>"u")return;$(!0);const E=()=>{const ee=document.getElementById("postcode-layer");ee&&new window.daum.Postcode({oncomplete:function(ze){let xe=ze.address,Ae="";ze.addressType==="R"&&(ze.bname!==""&&(Ae+=ze.bname),ze.buildingName!==""&&(Ae+=Ae!==""?", "+ze.buildingName:ze.buildingName),xe+=Ae!==""?" ("+Ae+")":""),f(Re=>({...Re,postcode:ze.zonecode,address:xe})),$(!1)},onclose:()=>$(!1),width:"100%",height:"100%"}).embed(ee)};if(window.daum&&window.daum.Postcode)setTimeout(E,100);else{const ee=document.createElement("script");ee.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",ee.onload=()=>setTimeout(E,100),document.head.appendChild(ee)}},F=async E=>{var xe;const ee=(xe=E.target.files)==null?void 0:xe[0];if(!ee)return;if(ee.size>10*1024*1024){H("  10MB  .");return}if(!["image/jpeg","image/jpg","image/png"].includes(ee.type)){H("JPG  PNG   .");return}try{_(!0),H("");const Ae=new FileReader;Ae.onloadend=()=>k(Ae.result),Ae.readAsDataURL(ee);const Re=document.createElement("canvas"),fe=Re.getContext("2d"),Ce=new Image;await new Promise((ks,wt)=>{Ce.onload=ks,Ce.onerror=wt,Ce.src=URL.createObjectURL(ee)});const Pe=1920;let I=Ce.width,ke=Ce.height;(I>Pe||ke>Pe)&&(I>ke?(ke=ke*Pe/I,I=Pe):(I=I*Pe/ke,ke=Pe)),Re.width=I,Re.height=ke,fe.drawImage(Ce,0,0,I,ke);const De=await new Promise(ks=>Re.toBlob(ks,"image/jpeg",.85)),Xe=`${i.id}-${Date.now()}.jpg`,gs=new File([De],Xe,{type:"image/jpeg"});URL.revokeObjectURL(Ce.src);const cs=`${i.id}/${gs.name}`,{error:Qt}=await se.storage.from("profile-photos").upload(cs,gs,{cacheControl:"3600",upsert:!0});if(Qt)throw Qt;const{data:{publicUrl:dt}}=se.storage.from("profile-photos").getPublicUrl(cs);try{await se.from("user_profiles").update({profile_image:dt}).eq("id",i.id)}catch(ks){console.warn("  DB  :",ks)}f(ks=>({...ks,profile_image:dt})),k(dt),G("  ."),setTimeout(()=>G(""),2e3)}catch(Ae){console.error("  :",Ae),H("    .")}finally{_(!1)}},ye=async()=>{try{if(O(!0),H(""),!C.currentPassword||!C.newPassword||!C.confirmPassword){H("   ."),O(!1);return}if(C.newPassword!==C.confirmPassword){H("   ."),O(!1);return}if(C.newPassword.length<6){H("   6  ."),O(!1);return}const{error:E}=await se.auth.updateUser({password:C.newPassword});if(E)throw E;G(" ."),b({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>G(""),3e3)}catch(E){H(`  : ${E.message}`)}finally{O(!1)}},ve=async()=>{if(me!==""){H("   .");return}try{v(!0),H("");const{data:{session:E}}=await se.auth.getSession();if(!(E!=null&&E.access_token))throw new Error("  .");const ee=await fetch("/.netlify/functions/delete-account",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E.access_token}`},body:JSON.stringify({userId:i.id,reason:ne,details:ue})}),ze=await ee.json();if(!ee.ok||!ze.success)throw new Error(ze.error||"  ");G("  ."),setTimeout(()=>d(),2e3)}catch(E){H(E.message)}finally{v(!1)}};if(J)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(Ue,{className:"h-10 w-10 animate-spin text-violet-600"})});R.findIndex(E=>E.id===ie);const de=ie==="detail",Y=ae(ie),we=Q();return e.jsxs("div",{className:"min-h-screen bg-gray-100 pb-safe",children:[e.jsx(Wj,{}),e.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200/50",children:e.jsxs("div",{className:"max-w-lg mx-auto px-4 h-12 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>o("/"),className:"p-2 -ml-2",children:e.jsx(Ks,{size:22,className:"text-gray-700"})}),e.jsx("h1",{className:"text-base font-bold text-gray-900",children:" "}),e.jsx("button",{onClick:()=>be("account"),className:"p-2 -mr-2",children:e.jsx(qa,{size:20,className:"text-gray-500"})})]})}),(w||y)&&e.jsx("div",{className:`mx-4 mt-4 p-4 rounded-xl text-sm font-semibold ${w?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:w||y}),e.jsxs("div",{className:"max-w-lg mx-auto px-4 py-5",children:[ie!=="account"&&e.jsx(ey,{percentage:we,tabs:R,activeTab:ie,setActiveTab:be,canAccessTab:V,checkStepComplete:ae}),ie==="basic"&&e.jsxs("div",{className:"space-y-5 mt-5",children:[e.jsx(jn,{icon:st,title:"  ",description:"      ",benefit:"      3 UP!"}),e.jsxs("div",{className:"flex items-center gap-5 p-5 bg-white rounded-2xl border border-gray-200",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 rounded-2xl overflow-hidden bg-gray-200",children:A?e.jsx("img",{src:A,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-violet-400 to-pink-400",children:e.jsx(st,{className:"w-10 h-10 text-white"})})}),e.jsxs("label",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-violet-600 rounded-full flex items-center justify-center cursor-pointer shadow-lg",children:[z?e.jsx(Ue,{className:"w-4 h-4 text-white animate-spin"}):e.jsx(Nr,{className:"w-4 h-4 text-white"}),e.jsx("input",{type:"file",accept:"image/jpeg,image/png",onChange:F,className:"hidden",disabled:z})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"   "})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 space-y-5",children:[e.jsx(ba,{title:" ",required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"}),e.jsx("input",{type:"text",value:n.name,onChange:E=>f(ee=>({...ee,name:E.target.value})),className:"w-full px-4 py-3.5 bg-gray-50 rounded-xl text-base text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),e.jsx("input",{type:"number",value:n.age,onChange:E=>f(ee=>({...ee,age:E.target.value})),className:"w-full px-4 py-3.5 bg-gray-50 rounded-xl text-base text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:" "})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" *"}),e.jsx("input",{type:"tel",value:n.phone,onChange:E=>f(ee=>({...ee,phone:E.target.value})),className:"w-full px-4 py-3.5 bg-gray-50 rounded-xl text-base text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:"010-1234-5678"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:" "}),e.jsxs("div",{className:"flex gap-3 mb-3",children:[e.jsx("input",{type:"text",value:n.postcode,readOnly:!0,className:"w-24 px-4 py-3.5 bg-gray-50 rounded-xl text-base border-2 border-transparent",placeholder:""}),e.jsxs("button",{onClick:q,className:"flex-1 px-4 py-3.5 bg-gray-900 text-white rounded-xl text-sm font-bold flex items-center justify-center gap-2",children:[e.jsx(_a,{size:18}),"  "]})]}),e.jsx("input",{type:"text",value:n.address,readOnly:!0,className:"w-full px-4 py-3.5 bg-gray-50 rounded-xl text-base mb-3 border-2 border-transparent",placeholder:""}),e.jsx("input",{type:"text",value:n.detail_address,onChange:E=>f(ee=>({...ee,detail_address:E.target.value})),className:"w-full px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),e.jsx("textarea",{value:n.bio,onChange:E=>f(ee=>({...ee,bio:E.target.value})),className:"w-full px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 resize-none border-2 border-transparent",placeholder:"  ",rows:3})]})]}),e.jsx(Ei,{isLastStep:de,onNext:P,canProceed:Y,saving:T})]}),ie==="beauty"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(jn,{icon:bt,title:"  ",description:" /    ",benefit:"     UP!"}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 space-y-5",children:[e.jsx(ba,{title:" ",required:!0,subtitle:"      "}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"  *"}),e.jsx(pt,{options:_o,value:j.skin_type,onChange:E=>g(ee=>({...ee,skin_type:E})),size:"small"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),e.jsx(pt,{options:Rm,value:j.skin_shade,onChange:E=>g(ee=>({...ee,skin_shade:E})),size:"small"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),e.jsx(Tm,{options:Om,value:j.personal_color,onChange:E=>g(ee=>({...ee,personal_color:E}))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"  * ()"}),e.jsx(Vl,{options:ex,values:j.skin_concerns,onChange:E=>g(ee=>({...ee,skin_concerns:E}))})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 space-y-5",children:[e.jsx(ba,{title:" ",required:!0,subtitle:"    "}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"  *"}),e.jsx(pt,{options:ko,value:j.hair_type,onChange:E=>g(ee=>({...ee,hair_type:E})),size:"small"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"  * ()"}),e.jsx(Vl,{options:sx,values:j.hair_concerns,onChange:E=>g(ee=>({...ee,hair_concerns:E}))})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 space-y-5",children:[e.jsx(ba,{title:" ",subtitle:"//     ()"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),e.jsx(pt,{options:qg,value:j.nail_usage,onChange:E=>g(ee=>({...ee,nail_usage:E})),size:"small"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"/"}),e.jsx(pt,{options:Rg,value:j.circle_lens_usage,onChange:E=>g(ee=>({...ee,circle_lens_usage:E})),size:"small"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),e.jsx(pt,{options:Og,value:j.glasses_usage,onChange:E=>g(ee=>({...ee,glasses_usage:E})),size:"small"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5",children:[e.jsx(ba,{title:" ",subtitle:"/    ()"}),e.jsx(Vl,{options:Mg,values:j.diet_concerns,onChange:E=>g(ee=>({...ee,diet_concerns:E}))})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 space-y-5",children:[e.jsx(ba,{title:" ",subtitle:"    ()"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"  "}),e.jsx(pt,{options:Zm,value:j.primary_interest,onChange:E=>g(ee=>({...ee,primary_interest:E})),size:"small"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),e.jsx(pt,{options:$g,value:j.category,onChange:E=>g(ee=>({...ee,category:E})),size:"small"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),e.jsx(Tm,{options:Jm,value:j.editing_level,onChange:E=>g(ee=>({...ee,editing_level:E}))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),e.jsx(Tm,{options:Pm,value:j.shooting_level,onChange:E=>g(ee=>({...ee,shooting_level:E}))})]})]}),e.jsx(Ei,{isLastStep:de,onNext:P,canProceed:Y,saving:T})]}),ie==="sns"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(jn,{icon:go,title:"SNS  ",description:"    ",benefit:"     UP!"}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 space-y-5",children:[e.jsx(ba,{title:"SNS ",required:!0,subtitle:" 1  "}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 flex items-center justify-center flex-shrink-0",children:e.jsx(zt,{size:22,className:"text-white"})}),e.jsxs("div",{className:"flex-1 grid grid-cols-5 gap-3",children:[e.jsx("input",{type:"text",value:n.instagram_url,onChange:E=>f(ee=>({...ee,instagram_url:E.target.value})),className:"col-span-3 px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:"@username"}),e.jsx("input",{type:"number",value:n.instagram_followers,onChange:E=>f(ee=>({...ee,instagram_followers:E.target.value})),className:"col-span-2 px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:""})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-500 flex items-center justify-center flex-shrink-0",children:e.jsx(jt,{size:22,className:"text-white"})}),e.jsxs("div",{className:"flex-1 grid grid-cols-5 gap-3",children:[e.jsx("input",{type:"text",value:n.youtube_url,onChange:E=>f(ee=>({...ee,youtube_url:E.target.value})),className:"col-span-3 px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:" URL"}),e.jsx("input",{type:"number",value:n.youtube_subscribers,onChange:E=>f(ee=>({...ee,youtube_subscribers:E.target.value})),className:"col-span-2 px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:""})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-900 flex items-center justify-center flex-shrink-0",children:e.jsx(ot,{size:22,className:"text-white"})}),e.jsxs("div",{className:"flex-1 grid grid-cols-5 gap-3",children:[e.jsx("input",{type:"text",value:n.tiktok_url,onChange:E=>f(ee=>({...ee,tiktok_url:E.target.value})),className:"col-span-3 px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:"@username"}),e.jsx("input",{type:"number",value:n.tiktok_followers,onChange:E=>f(ee=>({...ee,tiktok_followers:E.target.value})),className:"col-span-2 px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:""})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 space-y-5",children:[e.jsx(ba,{title:" ",subtitle:"   "}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"text",value:n.channel_name,onChange:E=>f(ee=>({...ee,channel_name:E.target.value})),className:"px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:" "}),e.jsx("input",{type:"number",value:n.avg_views,onChange:E=>f(ee=>({...ee,avg_views:E.target.value})),className:"px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:" "})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),e.jsx(pt,{options:Wm,value:j.follower_range,onChange:E=>g(ee=>({...ee,follower_range:E})),size:"small"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),e.jsx(pt,{options:zg,value:j.upload_frequency,onChange:E=>g(ee=>({...ee,upload_frequency:E})),size:"small"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 space-y-5",children:[e.jsx(ba,{title:" & ",subtitle:"   ()"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),e.jsx(Vl,{options:Dg,values:j.content_formats,onChange:E=>g(ee=>({...ee,content_formats:E})),columns:3})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),e.jsx(Vl,{options:tx,values:j.collaboration_preferences,onChange:E=>g(ee=>({...ee,collaboration_preferences:E})),columns:3})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-2xl border border-emerald-200 overflow-hidden",children:[e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center flex-shrink-0",children:e.jsx(lg,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:" "}),e.jsx("span",{className:"px-2 py-0.5 bg-emerald-500 text-white text-[10px] font-bold rounded-full",children:"NEW"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"SNS    ?"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>g(E=>({...E,linktree_available:"possible"})),className:`flex-1 py-3 px-4 rounded-xl font-semibold text-sm transition-all flex items-center justify-center gap-2 ${j.linktree_available==="possible"?"bg-emerald-500 text-white shadow-lg shadow-emerald-200":"bg-white text-gray-600 border border-gray-200 hover:border-emerald-300"}`,children:[j.linktree_available==="possible"&&e.jsx(rt,{className:"w-4 h-4"}),""]}),e.jsx("button",{type:"button",onClick:()=>g(E=>({...E,linktree_available:"impossible",linktree_channels:[]})),className:`flex-1 py-3 px-4 rounded-xl font-semibold text-sm transition-all ${j.linktree_available==="impossible"?"bg-gray-700 text-white":"bg-white text-gray-600 border border-gray-200 hover:border-gray-300"}`,children:""})]}),j.linktree_available==="possible"&&e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"   ?"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"instagram",label:"",icon:zt,color:"from-purple-500 via-pink-500 to-orange-400"},{value:"tiktok",label:"",icon:ot,color:"from-gray-800 to-gray-900"},{value:"youtube",label:"",icon:jt,color:"from-red-500 to-red-600"}].map(E=>{var xe;const ee=(xe=j.linktree_channels)==null?void 0:xe.includes(E.value),ze=E.icon;return e.jsxs("button",{type:"button",onClick:()=>{const Ae=j.linktree_channels||[],Re=ee?Ae.filter(fe=>fe!==E.value):[...Ae,E.value];g(fe=>({...fe,linktree_channels:Re}))},className:`relative p-3 rounded-xl transition-all flex flex-col items-center gap-2 ${ee?"bg-white border-2 border-emerald-500 shadow-md":"bg-white/60 border-2 border-transparent hover:bg-white"}`,children:[ee&&e.jsx("div",{className:"absolute -top-1.5 -right-1.5 w-5 h-5 bg-emerald-500 rounded-full flex items-center justify-center",children:e.jsx(rt,{className:"w-3 h-3 text-white"})}),e.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${E.color} flex items-center justify-center`,children:e.jsx(ze,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:`text-xs font-semibold ${ee?"text-emerald-700":"text-gray-600"}`,children:E.label})]},E.value)})})]})]}),j.linktree_available==="possible"&&e.jsx("div",{className:"px-5 py-3 bg-emerald-500/10 border-t border-emerald-200",children:e.jsxs("p",{className:"text-xs text-emerald-700 font-medium flex items-center gap-1.5",children:[e.jsx(bt,{className:"w-3.5 h-3.5"}),"        !"]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl border border-blue-200 overflow-hidden",children:[e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center flex-shrink-0",children:e.jsx(es,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:" "}),e.jsx("span",{className:"px-2 py-0.5 bg-blue-500 text-white text-[10px] font-bold rounded-full",children:"NEW"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"       ?"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>g(E=>({...E,mirroring_available:"possible"})),className:`flex-1 py-3 px-4 rounded-xl font-semibold text-sm transition-all flex items-center justify-center gap-2 ${j.mirroring_available==="possible"?"bg-blue-500 text-white shadow-lg shadow-blue-200":"bg-white text-gray-600 border border-gray-200 hover:border-blue-300"}`,children:[j.mirroring_available==="possible"&&e.jsx(rt,{className:"w-4 h-4"}),""]}),e.jsx("button",{type:"button",onClick:()=>g(E=>({...E,mirroring_available:"impossible",mirroring_channels:[]})),className:`flex-1 py-3 px-4 rounded-xl font-semibold text-sm transition-all ${j.mirroring_available==="impossible"?"bg-gray-700 text-white":"bg-white text-gray-600 border border-gray-200 hover:border-gray-300"}`,children:""})]}),j.mirroring_available==="possible"&&e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"   ? ()"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"naver_clip",label:" ",color:"from-green-500 to-green-600"},{value:"youtube",label:"",color:"from-red-500 to-red-600"},{value:"instagram",label:"",color:"from-purple-500 via-pink-500 to-orange-400"},{value:"tiktok",label:"",color:"from-gray-800 to-gray-900"}].map(E=>{var ze;const ee=(ze=j.mirroring_channels)==null?void 0:ze.includes(E.value);return e.jsxs("button",{type:"button",onClick:()=>{const xe=j.mirroring_channels||[],Ae=ee?xe.filter(Re=>Re!==E.value):[...xe,E.value];g(Re=>({...Re,mirroring_channels:Ae}))},className:`relative p-3 rounded-xl transition-all flex items-center gap-3 ${ee?"bg-white border-2 border-blue-500 shadow-md":"bg-white/60 border-2 border-transparent hover:bg-white"}`,children:[ee&&e.jsx("div",{className:"absolute -top-1.5 -right-1.5 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(rt,{className:"w-3 h-3 text-white"})}),e.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${E.color} flex items-center justify-center`,children:e.jsx(es,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:`text-sm font-semibold ${ee?"text-blue-700":"text-gray-600"}`,children:E.label})]},E.value)})})]})]}),j.mirroring_available==="possible"&&e.jsx("div",{className:"px-5 py-3 bg-blue-500/10 border-t border-blue-200",children:e.jsxs("p",{className:"text-xs text-blue-700 font-medium flex items-center gap-1.5",children:[e.jsx(bt,{className:"w-3.5 h-3.5"}),"       !"]})})]}),e.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-2xl border border-orange-200 overflow-hidden",children:e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-amber-500 flex items-center justify-center flex-shrink-0",children:e.jsx(ft,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"   "}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"     ?"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>g(E=>({...E,smartstore_purchase:"possible"})),className:`flex-1 py-3 px-4 rounded-xl font-semibold text-sm transition-all flex items-center justify-center gap-2 ${j.smartstore_purchase==="possible"?"bg-orange-500 text-white shadow-lg shadow-orange-200":"bg-white text-gray-600 border border-gray-200 hover:border-orange-300"}`,children:[j.smartstore_purchase==="possible"&&e.jsx(rt,{className:"w-4 h-4"}),""]}),e.jsx("button",{type:"button",onClick:()=>g(E=>({...E,smartstore_purchase:"impossible"})),className:`flex-1 py-3 px-4 rounded-xl font-semibold text-sm transition-all ${j.smartstore_purchase==="impossible"?"bg-gray-700 text-white":"bg-white text-gray-600 border border-gray-200 hover:border-gray-300"}`,children:""})]})]})}),e.jsx(Ei,{isLastStep:de,onNext:P,canProceed:Y,saving:T})]}),ie==="video"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(jn,{icon:es,title:"  ",description:"    ",benefit:"    DOWN!"}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 space-y-5",children:[e.jsx(ba,{title:" ",required:!0,subtitle:"    "}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"  *"}),e.jsx(pt,{options:Tg,value:j.video_length_style,onChange:E=>g(ee=>({...ee,video_length_style:E}))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),e.jsx("div",{className:"space-y-3",children:Ug.map(E=>e.jsxs("button",{type:"button",onClick:()=>g(ee=>({...ee,shortform_tempo:E.value})),className:`w-full flex items-center justify-between p-4 rounded-xl text-left transition-all ${j.shortform_tempo===E.value?"bg-violet-50 border-2 border-violet-500":"bg-gray-50 border-2 border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-base font-semibold ${j.shortform_tempo===E.value?"text-violet-700":"text-gray-900"}`,children:E.label}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:E.description})]}),e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${j.shortform_tempo===E.value?"bg-violet-600":"border-2 border-gray-300"}`,children:j.shortform_tempo===E.value&&e.jsx(rt,{className:"w-4 h-4 text-white"})})]},E.value))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"SNS   (1 )"}),e.jsx(pt,{options:Im,value:j.video_style,onChange:E=>g(ee=>({...ee,video_style:E})),size:"small"})]})]}),e.jsx(Ei,{isLastStep:de,onNext:P,canProceed:Y,saving:T})]}),ie==="detail"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(jn,{icon:ft,title:"  ",description:"    ",benefit:"  =    !"}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 space-y-5",children:[e.jsx(ba,{title:" ",required:!0,subtitle:"  "}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" *"}),e.jsx(pt,{options:So,value:j.gender,onChange:E=>g(ee=>({...ee,gender:E}))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),e.jsx(pt,{options:Qj,value:j.job_visibility,onChange:E=>g(ee=>({...ee,job_visibility:E})),size:"small"}),j.job_visibility==="public"&&e.jsx("input",{type:"text",value:j.job,onChange:E=>g(ee=>({...ee,job:E.target.value})),className:"w-full mt-3 px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:"  (: , , )"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"  "}),e.jsx(pt,{options:Xj,value:j.child_appearance,onChange:E=>g(ee=>({...ee,child_appearance:E})),size:"small"}),j.child_appearance==="possible"&&e.jsx("div",{className:"mt-3",children:e.jsx(Ij,{children:j.children,onChange:E=>g(ee=>({...ee,children:E}))})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"/  "}),e.jsx(pt,{options:Fj,value:j.family_appearance,onChange:E=>g(ee=>({...ee,family_appearance:E})),size:"small"}),j.family_appearance==="possible"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"   "}),e.jsx(Vl,{options:Ag,values:j.family_members,onChange:E=>g(ee=>({...ee,family_members:E})),columns:3})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"  "}),e.jsx(pt,{options:Zj,value:j.offline_visit,onChange:E=>g(ee=>({...ee,offline_visit:E})),size:"small"}),j.offline_visit==="possible"&&e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"  "}),e.jsx(Vl,{options:Eg,values:j.offline_locations,onChange:E=>g(ee=>({...ee,offline_locations:E})),columns:3})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"  "}),e.jsx("input",{type:"text",value:j.offline_region,onChange:E=>g(ee=>({...ee,offline_region:E.target.value})),className:"w-full px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:": , ,  "})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"  (  )"}),e.jsx(Vl,{options:Lg,values:j.languages,onChange:E=>g(ee=>({...ee,languages:E})),columns:2})]})]}),e.jsx(Ei,{isLastStep:de,onNext:P,canProceed:Y,saving:T})]}),ie==="account"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(jn,{icon:yn,title:" ",description:"     ",benefit:"      "}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 space-y-4",children:[e.jsx(ba,{title:" ",subtitle:"    "}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"password",value:C.currentPassword,onChange:E=>b(ee=>({...ee,currentPassword:E.target.value})),className:"w-full px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:" "}),e.jsx("input",{type:"password",value:C.newPassword,onChange:E=>b(ee=>({...ee,newPassword:E.target.value})),className:"w-full px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:"  (6 )"}),e.jsx("input",{type:"password",value:C.confirmPassword,onChange:E=>b(ee=>({...ee,confirmPassword:E.target.value})),className:"w-full px-4 py-3.5 bg-gray-50 rounded-xl text-base placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500 border-2 border-transparent",placeholder:"  "}),e.jsx("button",{onClick:ye,disabled:T,className:"w-full py-4 bg-gray-900 text-white rounded-xl text-base font-bold disabled:opacity-50",children:T?" ...":" "})]})]}),e.jsxs("button",{onClick:d,className:"w-full py-4 bg-white border-2 border-gray-200 text-gray-700 rounded-2xl text-base font-bold flex items-center justify-center gap-3",children:[e.jsx(Ui,{size:20})," "]}),e.jsx("div",{className:"bg-red-50 rounded-2xl border border-red-200 p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:e.jsx(_r,{className:"w-6 h-6 text-red-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-lg font-bold text-red-800",children:" "}),e.jsx("p",{className:"text-sm text-red-600 mt-1",children:"     ."}),e.jsx("button",{onClick:()=>B(!0),className:"mt-4 px-5 py-2.5 bg-red-600 text-white rounded-xl text-sm font-bold",children:""})]})]})})]})]}),X&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-red-600",children:" "}),e.jsx("button",{onClick:()=>B(!1),className:"p-1",children:e.jsx(Fs,{className:"w-6 h-6 text-gray-400"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:e.jsx("p",{className:"text-sm text-red-800 font-medium",children:"      ."})}),e.jsxs("select",{value:ne,onChange:E=>L(E.target.value),className:"w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl text-base font-medium",children:[e.jsx("option",{value:"",children:"  "}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:"  ",children:"  "}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:"",children:""})]}),e.jsx("textarea",{value:ue,onChange:E=>re(E.target.value),className:"w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl text-base resize-none",rows:2,placeholder:"  ()"}),e.jsx("input",{type:"text",value:me,onChange:E=>S(E.target.value),className:"w-full px-4 py-3.5 border-2 border-gray-200 rounded-xl text-base",placeholder:'"" '}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>B(!1),className:"flex-1 py-3.5 bg-gray-100 text-gray-700 rounded-xl font-bold text-base",children:""}),e.jsx("button",{onClick:ve,disabled:W||me!=="",className:"flex-1 py-3.5 bg-red-600 text-white rounded-xl font-bold text-base disabled:opacity-50",children:W?"...":""})]})]})]})}),D&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white w-full max-w-md mx-4 rounded-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:" "}),e.jsx("button",{onClick:()=>$(!1),className:"p-1",children:e.jsx(Fs,{className:"w-6 h-6 text-gray-400"})})]}),e.jsx("div",{id:"postcode-layer",style:{height:"400px"}})]})})]})},ms=(i,d)=>{if(!d)return null;const o=i.find(m=>m.value===d);return(o==null?void 0:o.label)||d},Vt=(i,d)=>!d||!Array.isArray(d)||d.length===0?[]:d.map(o=>ms(i,o)).filter(Boolean),ol=({children:i})=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700 border border-gray-200",children:["#",i]}),dl=({children:i})=>e.jsx("p",{className:"text-xs font-medium text-gray-400 mb-2",children:i}),sy=({profile:i,beautyProfile:d,savedText:o,onSave:m,saving:x})=>{const[n,f]=h.useState(o||""),[j,g]=h.useState(!1),[z,_]=h.useState(!1),[A,k]=h.useState(!1),[C,b]=h.useState(!1);h.useEffect(()=>{o&&!n&&f(o)},[o]);const J=()=>{g(!0),setTimeout(()=>{const T=i.name||"",O=i.age||"",w=ms(So,d.gender)||"",H=ms(_o,d.skin_type);ms(ko,d.hair_type);const y=ms(Cg,d.primary_interest),G=ms(Jm,d.editing_level),D=ms(Pm,d.shooting_level),$=ms(Wm,d.follower_range),ie=Vt(ex,d.skin_concerns),be=Vt(sx,d.hair_concerns),M=Vt(tx,d.collaboration_preferences),le=Vt(Im,d.video_styles);let X=[],B=`, ${T}.`;O&&w?B=`, ${O} ${w}   ${T}.`:w&&(B=`, ${w}   ${T}.`),X.push(B),y&&X.push(`${y}     ,      .`);const ne=[...ie,...be];H&&ne.length>0?X.push(`${H}   ${ne.slice(0,3).join(", ")}      .`):H&&X.push(`${H}        .`),$&&X.push(` ${$}      .`),le.length>0&&X.push(`${le.slice(0,3).join(", ")}   .`),G&&D&&X.push(` ${G},  ${D}        .`),M.length>0&&X.push(`${M.join(", ")}     .`),X.push("       .    ."),f(X.join(`

`)),g(!1)},1e3)},K=async()=>{try{await navigator.clipboard.writeText(n),_(!0),setTimeout(()=>_(!1),2e3)}catch(T){console.error(" :",T)}};return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(bt,{className:"w-4 h-4 text-violet-500"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:"AI  "})]}),e.jsxs("button",{onClick:J,disabled:j,className:"w-full py-3 bg-gradient-to-r from-violet-500 to-purple-500 text-white rounded-xl font-bold text-sm flex items-center justify-center gap-2 disabled:opacity-70",children:[j?e.jsx(Ue,{className:"w-4 h-4 animate-spin"}):e.jsx(bt,{className:"w-4 h-4"}),j?" ...":"AI  "]}),n&&e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"relative",children:[A?e.jsx("textarea",{value:n,onChange:T=>f(T.target.value),className:"w-full p-4 bg-gray-50 rounded-xl border border-gray-200 text-sm text-gray-700 leading-relaxed focus:outline-none focus:ring-2 focus:ring-violet-500 resize-none",rows:8}):e.jsx("div",{className:"p-4 bg-gray-50 rounded-xl",children:e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line leading-relaxed",children:n})}),!A&&e.jsx("button",{onClick:K,className:"absolute top-3 right-3 p-2 bg-white rounded-lg shadow-sm border border-gray-200 hover:bg-gray-50",children:z?e.jsx(rt,{className:"w-4 h-4 text-green-500"}):e.jsx(ta,{className:"w-4 h-4 text-gray-400"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>k(!A),className:"flex-1 py-2.5 bg-gray-100 text-gray-700 rounded-xl font-medium text-sm hover:bg-gray-200",children:A?"":""}),e.jsx("button",{onClick:async()=>{m&&(await m(n),b(!0),setTimeout(()=>b(!1),2e3))},disabled:x,className:"flex-1 py-2.5 bg-violet-500 text-white rounded-xl font-medium text-sm disabled:opacity-70 hover:bg-violet-600",children:x?" ...":C?"!":""})]})]})]})},ty=()=>{var ie,be;const{user:i}=xs(),d=Qe(),[o,m]=h.useState(null),[x,n]=h.useState(null),[f,j]=h.useState(""),[g,z]=h.useState(!0),[_,A]=h.useState(!1),[k,C]=h.useState("");h.useEffect(()=>{i&&b()},[i]);const b=async()=>{try{z(!0);const M=await Be.userProfiles.get(i.id);M&&(m({name:M.name||"",email:M.email||"",phone:M.phone||"",age:M.age,bio:M.bio||"",profile_image:M.profile_image||"",postcode:M.postcode||"",address:M.address||"",detail_address:M.detail_address||"",instagram_url:M.instagram_url||"",youtube_url:M.youtube_url||"",tiktok_url:M.tiktok_url||"",blog_url:M.blog_url||"",instagram_followers:M.instagram_followers,youtube_subscribers:M.youtube_subscribers,tiktok_followers:M.tiktok_followers,channel_name:M.channel_name||"",followers:M.followers,avg_views:M.avg_views,target_audience:M.target_audience||""}),n({skin_type:M.skin_type||"",skin_shade:M.skin_shade||"",personal_color:M.personal_color||"",skin_tone:M.skin_tone||"",hair_type:M.hair_type||"",primary_interest:M.primary_interest||"",editing_level:M.editing_level||"",shooting_level:M.shooting_level||"",follower_range:M.follower_range||"",upload_frequency:M.upload_frequency||"",gender:M.gender||"",job_visibility:M.job_visibility||"",job:M.job||"",child_appearance:M.child_appearance||"",family_appearance:M.family_appearance||"",offline_visit:M.offline_visit||"",offline_region:M.offline_region||"",linktree_available:M.linktree_available||"",video_length_style:M.video_length_style||"",shortform_tempo:M.shortform_tempo||"",nail_usage:M.nail_usage||"",circle_lens_usage:M.circle_lens_usage||"",glasses_usage:M.glasses_usage||"",mirroring_available:M.mirroring_available||"",smartstore_purchase:M.smartstore_purchase||"",category:M.category||"",skin_concerns:M.skin_concerns||[],hair_concerns:M.hair_concerns||[],diet_concerns:M.diet_concerns||[],content_formats:M.content_formats||[],collaboration_preferences:M.collaboration_preferences||[],video_styles:M.video_styles||[],children:M.children||[],family_members:M.family_members||[],offline_locations:M.offline_locations||[],languages:M.languages||[],linktree_channels:M.linktree_channels||[],mirroring_channels:M.mirroring_channels||[]}),M.ai_profile_text&&j(M.ai_profile_text))}catch(M){console.error("  :",M),C("  .")}finally{z(!1)}},J=async M=>{try{A(!0),await Be.userProfiles.update(i.id,{ai_profile_text:M}),j(M)}catch(le){console.error("AI   :",le),C("   .")}finally{A(!1)}};if(g)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx(Ue,{className:"h-8 w-8 animate-spin text-violet-500"})});if(!o)return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-4",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"  ."}),e.jsx("button",{onClick:()=>d("/profile-test-beta-2025"),className:"px-6 py-3 bg-violet-500 text-white rounded-xl font-bold",children:" "})]});const K=[];x.skin_type&&K.push(ms(_o,x.skin_type)),x.skin_shade&&K.push(ms(Rm,x.skin_shade)),x.personal_color&&K.push(ms(Om,x.personal_color)),x.skin_tone&&!x.skin_shade&&!x.personal_color&&K.push(ms(Xh,x.skin_tone)),Vt(ex,x.skin_concerns).forEach(M=>K.push(M)),x.hair_type&&K.push(ms(ko,x.hair_type)),Vt(sx,x.hair_concerns).forEach(M=>K.push(M)),x.nail_usage&&x.nail_usage!=="never"&&K.push(` ${ms(qg,x.nail_usage)}`),x.circle_lens_usage&&x.circle_lens_usage!=="never"&&K.push(` ${ms(Rg,x.circle_lens_usage)}`),x.glasses_usage&&x.glasses_usage!=="never"&&K.push(` ${ms(Og,x.glasses_usage)}`);const T=Vt(Mg,x.diet_concerns),O=[];x.primary_interest&&O.push(ms(Zm,x.primary_interest)),x.category&&O.push(ms($g,x.category)),x.editing_level&&O.push(` ${ms(Jm,x.editing_level)}`),x.shooting_level&&O.push(` ${ms(Pm,x.shooting_level)}`);const w=[];x.follower_range&&w.push(ms(Wm,x.follower_range)),x.upload_frequency&&w.push(ms(zg,x.upload_frequency)),Vt(Dg,x.content_formats).forEach(M=>w.push(M)),Vt(tx,x.collaboration_preferences).forEach(M=>w.push(M));const H=[];x.video_length_style&&H.push(ms(Tg,x.video_length_style)),x.shortform_tempo&&H.push(`${ms(Ug,x.shortform_tempo)} `),Vt(Im,x.video_styles).forEach(M=>H.push(M));const y=[];x.child_appearance==="possible"&&y.push(""),x.family_appearance==="possible"&&(y.push(""),Vt(Ag,x.family_members).forEach(M=>y.push(`${M}`))),x.offline_visit==="possible"&&(y.push(""),Vt(Eg,x.offline_locations).forEach(M=>y.push(M)),x.offline_region&&y.push(x.offline_region));const G=[];x.linktree_available==="possible"&&(G.push(""),Vt(Pj,x.linktree_channels).forEach(M=>G.push(`${M} `))),x.mirroring_available==="possible"&&(G.push(""),(ie=x.mirroring_channels)==null||ie.forEach(M=>{const le={naver_clip:"",youtube:"",instagram:"",tiktok:""};G.push(`${le[M]||M} `)})),x.smartstore_purchase==="possible"&&G.push("");const D=Vt(Lg,x.languages),$=[];return x.gender&&$.push(ms(So,x.gender)),o.age&&$.push(`${o.age}`),x.job_visibility==="public"&&x.job&&$.push(x.job),e.jsxs("div",{className:"min-h-screen bg-white pb-safe",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-100",children:e.jsxs("div",{className:"max-w-lg mx-auto px-4 h-12 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>d(-1),className:"p-1.5 -ml-1.5",children:e.jsx(Ks,{size:22,className:"text-gray-900"})}),e.jsx("h1",{className:"text-base font-bold text-gray-900",children:""}),e.jsx("button",{onClick:()=>d("/profile-test-beta-2025"),className:"p-1.5 -mr-1.5",children:e.jsx(Eh,{size:18,className:"text-violet-500"})})]})}),k&&e.jsx("div",{className:"mx-4 mt-3 p-3 rounded-xl bg-red-50 text-red-600 text-sm font-medium",children:k}),e.jsxs("div",{className:"max-w-lg mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsx("div",{className:"w-24 h-24 rounded-2xl overflow-hidden bg-gray-100 border-4 border-white shadow-lg",children:o.profile_image?e.jsx("img",{src:o.profile_image,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-violet-100 to-purple-100",children:e.jsx(st,{className:"w-10 h-10 text-violet-300"})})}),x.primary_interest&&e.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 px-3 py-1 bg-violet-500 text-white text-[10px] font-bold rounded-full whitespace-nowrap",children:ms(Cg,x.primary_interest)})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-2",children:o.name||" "}),e.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:[ms(So,x.gender),o.age?`  ${o.age}`:""]}),e.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[o.instagram_url&&e.jsx("a",{href:o.instagram_url.startsWith("http")?o.instagram_url:`https://instagram.com/${o.instagram_url.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400 flex items-center justify-center text-white",children:e.jsx(zt,{size:18})}),o.youtube_url&&e.jsx("a",{href:o.youtube_url.startsWith("http")?o.youtube_url:`https://youtube.com/${o.youtube_url}`,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center text-white",children:e.jsx(jt,{size:18})}),o.tiktok_url&&e.jsx("a",{href:o.tiktok_url.startsWith("http")?o.tiktok_url:`https://tiktok.com/@${o.tiktok_url.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-gray-900 flex items-center justify-center text-white",children:e.jsx(ot,{size:18})}),o.blog_url&&e.jsx("a",{href:o.blog_url.startsWith("http")?o.blog_url:`https://${o.blog_url}`,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center text-white",children:e.jsx(ns,{size:18})})]})]}),(o.instagram_followers||o.youtube_subscribers||o.tiktok_followers)&&e.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[o.instagram_url&&o.instagram_followers&&e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900",children:o.instagram_followers.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-400",children:" "})]}),o.youtube_url&&o.youtube_subscribers&&e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900",children:o.youtube_subscribers.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-400",children:" "})]}),o.tiktok_url&&o.tiktok_followers&&e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900",children:o.tiktok_followers.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-400",children:" "})]})]}),e.jsx(sy,{profile:o,beautyProfile:x,savedText:f,onSave:J,saving:_}),(o.channel_name||o.avg_views)&&e.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[o.channel_name&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400",children:" "}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:o.channel_name})]}),o.avg_views&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-400",children:" "}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:o.avg_views.toLocaleString()})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(st,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:""})]}),e.jsx("p",{className:"text-base font-bold text-gray-900",children:o.age?`${o.age}`:"-"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(bt,{className:"w-4 h-4 text-violet-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:" "})]}),e.jsx("p",{className:"text-base font-bold text-gray-900",children:x.skin_type?ms(_o,x.skin_type):"-"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[x.skin_shade&&e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-amber-200 to-amber-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:" "})]}),e.jsx("p",{className:"text-base font-bold text-gray-900",children:ms(Rm,x.skin_shade)})]}),x.hair_type&&e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsx("span",{className:"text-xs text-gray-400",children:" "})]}),e.jsx("p",{className:"text-base font-bold text-gray-900",children:ms(ko,x.hair_type)})]})]}),(x.personal_color||x.skin_tone)&&e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-r from-pink-300 to-orange-300"}),e.jsx("span",{className:"text-xs text-gray-400",children:" "})]}),e.jsx("p",{className:"text-base font-bold text-gray-900",children:x.personal_color?ms(Om,x.personal_color):ms(Xh,x.skin_tone)})]}),o.bio&&e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 mb-4",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Introduction"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:o.bio})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ot,{className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:" "})]}),K.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx(dl,{children:" & "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:K.map((M,le)=>e.jsx(ol,{children:M},`beauty-${le}`))})]}),T.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx(dl,{children:" & "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:T.map((M,le)=>e.jsx(ol,{children:M},`diet-${le}`))})]}),O.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx(dl,{children:" & "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:O.map((M,le)=>e.jsx(ol,{children:M},`exp-${le}`))})]}),w.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx(dl,{children:" & "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.map((M,le)=>e.jsx(ol,{children:M},`ch-${le}`))})]}),H.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx(dl,{children:" "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:H.map((M,le)=>e.jsx(ol,{children:M},`vid-${le}`))})]}),y.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx(dl,{children:" & "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((M,le)=>e.jsx(ol,{children:M},`act-${le}`))})]}),G.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx(dl,{children:" "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:G.map((M,le)=>e.jsx(ol,{children:M},`spec-${le}`))})]}),D.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx(dl,{children:""}),e.jsx("div",{className:"flex flex-wrap gap-2",children:D.map((M,le)=>e.jsx(ol,{children:M},`lang-${le}`))})]}),$.length>0&&e.jsxs("div",{className:"mb-0",children:[e.jsx(dl,{children:" "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:$.map((M,le)=>e.jsx(ol,{children:M},`pers-${le}`))})]}),K.length===0&&O.length===0&&w.length===0&&$.length===0&&e.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:" "})]}),x.child_appearance==="possible"&&((be=x.children)==null?void 0:be.length)>0&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 mb-4",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"  "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.children.map((M,le)=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-pink-50 rounded-xl",children:[e.jsx("span",{className:"text-base",children:M.gender==="boy"?"":""}),e.jsxs("span",{className:"text-sm font-medium text-pink-700",children:[M.gender==="boy"?"":""," ",M.age,""]})]},le))})]}),(o.phone||o.address)&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 mb-4",children:[o.phone&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:""}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.phone})]}),o.address&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:""}),e.jsxs("p",{className:"text-sm text-gray-700",children:["[",o.postcode,"] ",o.address,o.detail_address&&` ${o.detail_address}`]})]})]}),e.jsxs("button",{onClick:()=>d("/profile-test-beta-2025"),className:"w-full mt-4 py-4 bg-gray-900 text-white rounded-2xl font-bold text-sm flex items-center justify-center gap-2",children:[e.jsx(Eh,{className:"w-4 h-4"})," "]})]})]})},Fh="cnec_notification_settings",ay=()=>{const{user:i}=xs(),d=Qe(),[o,m]=h.useState({sms_notifications:!0,kakao_notifications:!0,email_notifications:!0,marketing_notifications:!1}),[x,n]=h.useState(!0),[f,j]=h.useState(!1),[g,z]=h.useState("");h.useEffect(()=>{i&&_()},[i]);const _=async()=>{try{n(!0);const k=`${Fh}_${i.id}`,C=localStorage.getItem(k);if(C){const b=JSON.parse(C);m({sms_notifications:b.sms_notifications??!0,kakao_notifications:b.kakao_notifications??!0,email_notifications:b.email_notifications??!0,marketing_notifications:b.marketing_notifications??!1})}}catch(k){console.error("   :",k)}finally{n(!1)}},A=async k=>{const C=!o[k],b={...o,[k]:C};m(b);try{j(!0);const J=`${Fh}_${i.id}`;localStorage.setItem(J,JSON.stringify({...b,updated_at:new Date().toISOString()})),z(""),setTimeout(()=>z(""),2e3)}catch(J){console.error("   :",J),m(K=>({...K,[k]:!C}))}finally{j(!1)}};return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(Ue,{className:"h-8 w-8 animate-spin text-violet-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white border-b",children:e.jsxs("div",{className:"max-w-md mx-auto px-4 h-14 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>d(-1),className:"p-2 -ml-2",children:e.jsx(Ks,{size:24,className:"text-gray-900"})}),e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:" "}),e.jsx("div",{className:"w-10"})]})}),g&&e.jsx("div",{className:"mx-4 mt-4 p-3 rounded-xl text-sm font-medium bg-green-100 text-green-700",children:g}),e.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-bold text-gray-900 mb-4",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:" ,       ."}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx(Mi,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"SMS "}),e.jsx("p",{className:"text-xs text-gray-500",children:"   "})]})]}),e.jsx("button",{onClick:()=>A("sms_notifications"),disabled:f,className:`relative w-12 h-7 rounded-full transition-colors ${o.sms_notifications?"bg-violet-600":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${o.sms_notifications?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-xl flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-yellow-600",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 3C6.48 3 2 6.58 2 11c0 2.76 1.78 5.19 4.5 6.61-.14.53-.52 1.9-.6 2.19-.1.38.14.37.3.27.12-.08 1.94-1.31 2.72-1.84.68.1 1.39.15 2.08.15 5.52 0 10-3.58 10-8S17.52 3 12 3z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:" "}),e.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]}),e.jsx("button",{onClick:()=>A("kakao_notifications"),disabled:f,className:`relative w-12 h-7 rounded-full transition-colors ${o.kakao_notifications?"bg-violet-600":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${o.kakao_notifications?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center",children:e.jsx(ra,{size:20,className:"text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:" "}),e.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]}),e.jsx("button",{onClick:()=>A("email_notifications"),disabled:f,className:`relative w-12 h-7 rounded-full transition-colors ${o.email_notifications?"bg-violet-600":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${o.email_notifications?"translate-x-6":"translate-x-1"}`})})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-bold text-gray-900 mb-4",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:" ,     ."}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-xl flex items-center justify-center",children:e.jsx(xo,{size:20,className:"text-pink-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"  "}),e.jsx("p",{className:"text-xs text-gray-500",children:",  "})]})]}),e.jsx("button",{onClick:()=>A("marketing_notifications"),disabled:f,className:`relative w-12 h-7 rounded-full transition-colors ${o.marketing_notifications?"bg-violet-600":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${o.marketing_notifications?"translate-x-6":"translate-x-1"}`})})]})})]}),e.jsx("div",{className:"bg-gray-100 rounded-xl p-4",children:e.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["        .",e.jsx("br",{}),"       .",e.jsx("br",{}),"   ."]})})]})]})},ly=()=>{var Q,V,P,ce;const{id:i}=Ca(),[d]=zo(),o=Qe(),{user:m}=xs(),x=i||d.get("campaign_id"),[n,f]=h.useState(null),[j,g]=h.useState(null),[z,_]=h.useState(null),[A,k]=h.useState(!0),[C,b]=h.useState(!1),[J,K]=h.useState(""),[T,O]=h.useState(""),[w,H]=h.useState(!1),[y,G]=h.useState(!1),[D,$]=h.useState(0),[ie,be]=h.useState([]),M=U=>{if(!U)return{completeness:0,missingFields:["","","SNS "," "]};const q=[];let F=0;return U.name&&U.name.trim()?F+=25:q.push(""),U.phone&&U.phone.trim()?F+=25:q.push(""),U.instagram_url&&U.instagram_url.trim()||U.youtube_url&&U.youtube_url.trim()||U.tiktok_url&&U.tiktok_url.trim()?F+=25:q.push("SNS  (//  1)"),U.address&&U.address.trim()||U.postcode&&U.postcode.trim()?F+=25:q.push(" "),{completeness:F,missingFields:q}},le=U=>{if(!U)return!1;const q=U.name&&U.name.trim()!=="",F=U.phone&&U.phone.trim()!=="",ye=U.instagram_url&&U.instagram_url.trim()!==""||U.youtube_url&&U.youtube_url.trim()!==""||U.tiktok_url&&U.tiktok_url.trim()!=="",ve=U.address&&U.address.trim()!==""||U.postcode&&U.postcode.trim()!=="";return q&&F&&ye&&ve},[X,B]=h.useState({instagram:!0,youtube:!1,tiktok:!1}),[ne,L]=h.useState({answer_1:"",answer_2:"",answer_3:"",answer_4:"",additional_info:"",applicant_name:"",age:"",skin_type:"",postal_code:"",address:"",delivery_request:"",phone_number:"",instagram_url:"",youtube_url:"",tiktok_url:"",offline_visit_available:!1,offline_visit_notes:"",meta_ad_code_available:!1}),re={ko:{title:" ",backToCampaigns:" ",campaignInfo:" ",applicationForm:" ",personalInfo:"",contactInfo:"   ",snsInfo:"SNS ",questions:" ",additionalInfo:" ",submit:"",submitting:" ...",alreadyApplied:"  ",applicationSuccess:"  !",requiredField:" ",optionalField:" ",reward:"",participants:" ",deadline:" ",period:" ",requirements:" ",description:" ",brand:"",category:"",profileIncomplete:"  ",goToProfile:" ",campaignNotFound:"   ",loginRequired:" ",name:"",email:"",age:"",skinType:"",postalCode:"",address:"",deliveryRequest:"  ",phoneNumber:"",instagramUrl:" URL",youtubeUrl:" URL",tiktokUrl:" URL",postalCodePlaceholder:": 123-4567",addressPlaceholder:"  ",deliveryRequestPlaceholder:"     ()",phoneNumberPlaceholder:": 010-1234-5678",instagramPlaceholder:"https://instagram.com/username",youtubePlaceholder:"https://youtube.com/@username",tiktokPlaceholder:"https://tiktok.com/@username",postalCodeRequired:" ",addressRequired:" ",phoneRequired:" ",atLeastOneSnsRequired:"    1 SNS URL ",portraitRightsRequired:"   ",portraitRightsTitle:"  ",portraitRightsConsent:"       (, ,  ) ,   CNEC  , ,     1   .   , , ,          .",portraitRightsConsentShort:"   1   ",campaignGuide:" ",requiredDialogues:" ",requiredScenes:" ",requiredHashtags:" ",videoDuration:" ",videoTempo:" ",videoTone:" ",additionalDetails:"  ",shootingScenes:"  ",additionalShootingRequests:"  ",translateVideoDuration:U=>U&&U.replace(/sec$/,"").replace(/min$/,""),translateVideoTempo:U=>({slow:"",normal:"",fast:""})[U==null?void 0:U.toLowerCase()]||U,translateVideoTone:U=>({bright:"",dark:"",warm:"",cool:"",natural:""})[U==null?void 0:U.toLowerCase()]||U,metaAdCodeRequired:"  ",metaAdCodeAvailable:"   ",metaAdCodeAvailableConfirm:"  ",metaAdCodeRequiredWarning:"    .       .",metaAdCodeNotAvailableError:"   .     ."}}.ko;h.useEffect(()=>{if(!m){K(re.loginRequired),k(!1);return}if(!x){K(re.campaignNotFound),k(!1);return}me()},[m,x]);const me=async()=>{try{k(!0),K(""),console.log("  :",{campaignId:x,userId:m==null?void 0:m.id});const U=await Be.campaigns.getById(x);if(console.log(" :",U),!U)throw new Error(re.campaignNotFound);f(U);const q=await Be.userProfiles.get(m.id);console.log(" :",q),g(q);const{completeness:F,missingFields:ye}=M(q);$(F),be(ye),le(q)||G(!0),q&&L(de=>({...de,applicant_name:q.name||"",age:q.age||"",skin_type:q.skin_type||"",postal_code:q.postcode||"",address:q.address?`${q.address} ${q.detail_address||""}`.trim():"",phone_number:q.phone||"",instagram_url:q.instagram_url||"",youtube_url:q.youtube_url||"",tiktok_url:q.tiktok_url||""}));const ve=await Be.applications.getByUserAndCampaign(m.id,x);console.log(" :",ve),_(ve),ve&&L(de=>({...de,applicant_name:ve.applicant_name||(q==null?void 0:q.name)||"",answer_1:ve.answer_1||"",answer_2:ve.answer_2||"",answer_3:ve.answer_3||"",answer_4:ve.answer_4||"",additional_info:ve.additional_info||"",age:ve.age||(q==null?void 0:q.age)||"",skin_type:ve.skin_type||(q==null?void 0:q.skin_type)||"",postal_code:ve.postal_code||"",address:ve.address||"",delivery_request:ve.delivery_request||"",phone_number:ve.phone_number||"",instagram_url:ve.instagram_url||(q==null?void 0:q.instagram_url)||"",youtube_url:ve.youtube_url||(q==null?void 0:q.youtube_url)||"",tiktok_url:ve.tiktok_url||(q==null?void 0:q.tiktok_url)||"",offline_visit_available:ve.offline_visit_available||!1,offline_visit_notes:ve.offline_visit_notes||""}))}catch(U){console.error("  :",U),K(U.message||"    .")}finally{k(!1)}},S=()=>{const U=[];return(!ne.age||ne.age.toString().trim()===""||ne.age<1)&&U.push("  "),(!ne.skin_type||ne.skin_type.trim()==="")&&U.push(" "),ne.postal_code.trim()||U.push(re.postalCodeRequired),ne.address.trim()||U.push(re.addressRequired),ne.phone_number.trim()||U.push(re.phoneRequired),X.instagram&&ne.instagram_url.trim()||X.youtube&&ne.youtube_url.trim()||X.tiktok&&ne.tiktok_url.trim()||U.push(re.atLeastOneSnsRequired),n!=null&&n.meta_ad_code_requested&&!ne.meta_ad_code_available&&U.push(re.metaAdCodeNotAvailableError),n!=null&&n.questions&&Array.isArray(n.questions)&&n.questions.forEach((F,ye)=>{var de;const ve=`answer_${ye+1}`;(de=ne[ve])!=null&&de.trim()||U.push(` ${ye+1} `)}),U},W=async U=>{if(U.preventDefault(),!le(j)){G(!0),K("      .");return}const q=S();if(q.length>0){K(q.join(`
`));return}try{b(!0),K("");const F={user_id:m.id,campaign_id:x,applicant_name:ne.applicant_name,age:parseInt(ne.age)||null,skin_type:ne.skin_type,postal_code:ne.postal_code,address:ne.address,delivery_request:ne.delivery_request||null,phone_number:ne.phone_number,instagram_url:ne.instagram_url,youtube_url:ne.youtube_url||null,tiktok_url:ne.tiktok_url||null,answer_1:ne.answer_1||null,answer_2:ne.answer_2||null,answer_3:ne.answer_3||null,answer_4:ne.answer_4||null,additional_info:ne.additional_info||null,offline_visit_available:ne.offline_visit_available||!1,offline_visit_notes:ne.offline_visit_notes||null,meta_ad_code_available:ne.meta_ad_code_available||!1,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log(":",F),z?(console.log(":",z.id),await Be.applications.update(z.id,F)):(console.log(""),await Be.applications.create(F)),O(re.applicationSuccess),setTimeout(()=>{o("/")},3e3)}catch(F){console.error("  :",F),K("    .  .")}finally{b(!1)}},v=U=>{if(!U)return" ";try{const q=new Date(U);return isNaN(q.getTime())?" ":q.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})}catch{return" "}},R=U=>U?`${U.toLocaleString()}P`:"0P",ae=U=>{const q={regular:{label:"  ",color:"bg-blue-100 text-blue-700"},oliveyoung:{label:"  ",color:"bg-pink-100 text-pink-700"},"4week_challenge":{label:" 4 ",color:"bg-purple-100 text-purple-700"}},F=q[U]||q.regular;return e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${F.color}`,children:F.label})};return A?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:" ..."})]})}):J&&!n?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:J}),e.jsx("button",{onClick:()=>o("/"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700",children:re.backToCampaigns})]})}):T?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),T]}),e.jsx("p",{className:"text-gray-600",children:"3    ..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden animate-in fade-in zoom-in duration-300",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 p-6 text-white text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-white/20 backdrop-blur mb-4",children:e.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-2xl font-bold mb-1",children:"  "}),e.jsx("p",{className:"text-white/80 text-sm",children:"    "})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"  "}),e.jsxs("span",{className:"font-bold text-orange-600",children:[D,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 h-3 rounded-full transition-all duration-700 ease-out",style:{width:`${D}%`}})})]}),ie.length>0&&e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4 mb-6",children:[e.jsx("p",{className:"text-sm font-semibold text-orange-800 mb-3",children:"  "}),e.jsx("div",{className:"space-y-2",children:ie.map((U,q)=>e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center mr-3 bg-orange-300",children:e.jsx("span",{className:"text-white text-xs font-bold",children:q+1})}),e.jsx("span",{className:"text-orange-700",children:U})]},q))})]}),e.jsx("button",{onClick:()=>o("/profile"),className:"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"  "}),e.jsx("button",{onClick:()=>{G(!1),o("/")},className:"w-full mt-3 py-3 text-gray-500 text-sm hover:text-gray-700 transition-colors",children:" "})]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-3 md:px-4 py-4 md:py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>o("/"),className:"inline-flex items-center text-purple-600 hover:text-purple-800 mb-4",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),re.backToCampaigns]}),e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:re.title})]}),!le(j)&&e.jsx("div",{className:"mb-6 bg-gradient-to-r from-orange-100 to-red-100 border-l-4 border-orange-500 rounded-lg p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-orange-800",children:"  "}),e.jsxs("p",{className:"text-sm text-orange-700 mt-1",children:["    .",ie.length>0&&e.jsxs("span",{className:"block mt-1 font-medium",children:[" : ",ie.join(", ")]})]})]}),e.jsx("div",{className:"ml-4",children:e.jsx("button",{onClick:()=>o("/profile"),className:"bg-orange-500 hover:bg-orange-600 text-white text-sm font-medium px-4 py-2 rounded-lg transition-colors",children:" "})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),re.campaignInfo]}),ae(n.campaign_type)]}),n&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[n.image_url&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:n.image_url,alt:n.title,className:"w-24 h-24 md:w-32 md:h-32 object-cover rounded-lg border border-gray-200"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 flex-1",children:n.title}),n.detail_images&&n.detail_images.length>0&&e.jsxs("button",{onClick:()=>H(!0),className:"ml-4 flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg text-sm font-medium",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"  "]})]}),e.jsxs("div",{className:"flex items-center mt-2 space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[re.brand,":"]}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:n.brand}),n.category&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:"|"}),(Array.isArray(n.category)?n.category:[n.category]).map(U=>{const F={youtube:"bg-red-100 text-red-800",instagram:"bg-pink-100 text-pink-800",tiktok:"bg-gray-800 text-white"}[U.toLowerCase()]||"bg-purple-100 text-purple-800";return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F}`,children:U.charAt(0).toUpperCase()+U.slice(1)},U)})]})]})]})]}),n.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:re.description}),e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:n.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:re.reward}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:R(n.reward_points||n.reward_amount||0)})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:re.participants}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[n.total_slots||n.max_participants,""]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3a4 4 0 118 0v4m-4 6v6m-4-6h8m-8 0H4a2 2 0 00-2 2v6a2 2 0 002 2h16a2 2 0 002-2v-6a2 2 0 00-2-2h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:re.deadline}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:v(n.application_deadline)})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-purple-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3a4 4 0 118 0v4m-4 6v6m-4-6h8m-8 0H4a2 2 0 00-2 2v6a2 2 0 002 2h16a2 2 0 002-2v-6a2 2 0 00-2-2h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:re.period}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:(()=>{if(n.campaign_type==="4week_challenge"){const U=[{label:"1",date:n.week1_deadline},{label:"2",date:n.week2_deadline},{label:"3",date:n.week3_deadline},{label:"4",date:n.week4_deadline}].filter(q=>q.date);if(U.length>0)return e.jsx("div",{className:"space-y-1",children:U.map((q,F)=>e.jsxs("div",{className:"text-xs",children:[q.label,": ",v(q.date)]},F))})}if(n.campaign_type==="oliveyoung"){const U=[{label:"1",date:n.step1_deadline},{label:"2",date:n.step2_deadline},{label:"3",date:n.step3_deadline}].filter(q=>q.date);if(U.length>0)return e.jsx("div",{className:"space-y-1",children:U.map((q,F)=>e.jsxs("div",{className:"text-xs",children:[q.label,": ",v(q.date)]},F))})}return n.campaign_type==="planned"?e.jsxs("div",{className:"space-y-1",children:[n.start_date&&e.jsxs("div",{className:"text-xs",children:["  : ",v(n.start_date)]}),n.end_date&&e.jsxs("div",{className:"text-xs",children:["  : ",v(n.end_date)]})]}):`${v(n.start_date)} ~ ${v(n.end_date)}`})()})]})]})]}),n.target_platforms&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:" SNS "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{if(Array.isArray(n.target_platforms))return n.target_platforms.map(U=>U.charAt(0).toUpperCase()+U.slice(1));if(n.target_platforms&&typeof n.target_platforms=="object"){const U=[];return n.target_platforms.instagram&&U.push("Instagram"),n.target_platforms.youtube&&U.push("YouTube"),n.target_platforms.tiktok&&U.push("TikTok"),U}return[]})().map(U=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:U},U))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:re.requirements}),e.jsxs("div",{className:"space-y-2",children:[n.requirements&&e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:n.requirements}),n.age_requirement&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium mr-2",children:":"}),e.jsx("span",{children:n.age_requirement})]}),n.skin_type_requirement&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium mr-2",children:":"}),e.jsx("span",{children:n.skin_type_requirement})]}),n.offline_visit_requirement&&e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-sm text-blue-800 mb-1",children:[e.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"font-medium",children:"  "})]}),e.jsx("p",{className:"text-sm text-blue-700 whitespace-pre-wrap",children:n.offline_visit_requirement})]})]})]}),e.jsxs("div",{className:"border-t pt-4 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:re.campaignGuide}),ae(n.campaign_type)]}),n.campaign_type==="oliveyoung"&&e.jsx("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 border-2 border-pink-300 rounded-lg p-4 mb-4 shadow-md",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("svg",{className:"w-6 h-6 text-pink-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("p",{className:"text-base font-bold text-pink-900",children:"  "}),n.content_type&&e.jsx("span",{className:n.content_type==="store_visit"?"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-purple-200 text-purple-800":"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-blue-200 text-blue-800",children:n.content_type==="store_visit"?"  ":"  "})]}),e.jsxs("p",{className:"text-sm text-pink-800 leading-relaxed",children:["  ",e.jsx("strong",{className:"text-pink-900",children:"3(STEP 1/2/3) "}),".  STEP   . ",e.jsx("strong",{className:"text-pink-900",children:"    "}),"."]}),n.content_type==="store_visit"&&e.jsx("p",{className:"text-sm text-purple-700 mt-2 font-medium",children:"       ."}),n.content_type==="product_delivery"&&e.jsx("p",{className:"text-sm text-blue-700 mt-2 font-medium",children:"     ."})]})]})}),n.campaign_type==="4week_challenge"&&e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-2 border-purple-300 rounded-lg p-4 mb-4 shadow-md",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-bold text-purple-900 mb-2",children:" 4  "}),e.jsxs("p",{className:"text-sm text-purple-800 leading-relaxed",children:["  ",e.jsx("strong",{className:"text-purple-900",children:"4  "}),".        . ",e.jsx("strong",{className:"text-purple-900",children:"    "}),"."]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-400 rounded-lg p-4 mb-4 shadow-md",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-base font-bold text-yellow-900 mb-2",children:[" ",n.campaign_type==="planned"?" ":" "]}),e.jsxs("p",{className:"text-sm text-yellow-800 leading-relaxed",children:["  ",e.jsx("strong",{className:"text-yellow-900",children:" "}),",   ",e.jsx("strong",{className:"text-yellow-900",children:"       "})," .     ."]})]})]})}),e.jsx(nj,{guide:n.ai_generated_guide,campaign:n}),n.campaign_type==="oliveyoung"&&(n.oliveyoung_step1_guide_ai||n.oliveyoung_step2_guide_ai||n.oliveyoung_step3_guide_ai)&&e.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-300 rounded-lg p-6 mb-4 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("svg",{className:"w-6 h-6 text-pink-600",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),e.jsx("h4",{className:"text-lg font-bold text-pink-900",children:"     "})]}),e.jsx("p",{className:"text-sm text-pink-800 mb-4",children:"   SNS       .     ."}),n.oliveyoung_step1_guide_ai&&e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"bg-pink-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:"STEP 1"}),e.jsx("h5",{className:"font-semibold text-gray-800",children:" "})]}),e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:n.oliveyoung_step1_guide_ai})]}),n.oliveyoung_step2_guide_ai&&e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"bg-pink-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:"STEP 2"}),e.jsx("h5",{className:"font-semibold text-gray-800",children:" "})]}),e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:n.oliveyoung_step2_guide_ai})]}),n.oliveyoung_step3_guide_ai&&e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"bg-pink-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:"STEP 3"}),e.jsx("h5",{className:"font-semibold text-gray-800",children:"  "})]}),e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:n.oliveyoung_step3_guide_ai})]}),n.oliveyoung_cautions&&e.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 mt-3",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 mr-2 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-bold text-amber-900 mb-1",children:" "}),e.jsx("p",{className:"text-sm text-amber-800 whitespace-pre-wrap",children:n.oliveyoung_cautions})]})]})})]}),n.campaign_type==="4week_challenge"&&n.challenge_weekly_guides_ai&&e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-300 rounded-lg p-6 mb-4 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("svg",{className:"w-6 h-6 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),e.jsx("h4",{className:"text-lg font-bold text-purple-900",children:" 4   "})]}),e.jsx("p",{className:"text-sm text-purple-800 mb-4",children:"4          .     ."}),((Q=n.challenge_weekly_guides_ai)==null?void 0:Q.week1)&&e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3 shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:"1"})}),n.challenge_weekly_guides_ai.week1===""?e.jsx("p",{className:"text-sm text-gray-400 italic",children:""}):e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:n.challenge_weekly_guides_ai.week1})]}),((V=n.challenge_weekly_guides_ai)==null?void 0:V.week2)&&e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3 shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:"2"})}),n.challenge_weekly_guides_ai.week2===""?e.jsx("p",{className:"text-sm text-gray-400 italic",children:""}):e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:n.challenge_weekly_guides_ai.week2})]}),((P=n.challenge_weekly_guides_ai)==null?void 0:P.week3)&&e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3 shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:"3"})}),n.challenge_weekly_guides_ai.week3===""?e.jsx("p",{className:"text-sm text-gray-400 italic",children:""}):e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:n.challenge_weekly_guides_ai.week3})]}),((ce=n.challenge_weekly_guides_ai)==null?void 0:ce.week4)&&e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-3 shadow-sm",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:"4"})}),n.challenge_weekly_guides_ai.week4===""?e.jsx("p",{className:"text-sm text-gray-400 italic",children:""}):e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:n.challenge_weekly_guides_ai.week4})]}),e.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 mt-3",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 mr-2 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-bold text-amber-900 mb-2",children:" "}),e.jsxs("ul",{className:"text-sm text-amber-800 space-y-1 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"4  "}),"   "]}),e.jsx("li",{children:"     "}),e.jsx("li",{children:"       "}),e.jsx("li",{children:"     "})]})]})]})})]}),n.creator_guide&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[e.jsx("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:" "}),e.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:n.creator_guide})]}),e.jsxs("div",{className:"space-y-3",children:[n.required_dialogues&&n.required_dialogues.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-purple-700 mb-1",children:re.requiredDialogues}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:n.required_dialogues.map((U,q)=>e.jsx("li",{className:"text-sm text-gray-600",children:U},q))})]}),n.required_scenes&&n.required_scenes.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-purple-700 mb-1",children:re.requiredScenes}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:n.required_scenes.map((U,q)=>e.jsx("li",{className:"text-sm text-gray-600",children:U},q))})]}),(n.shooting_scenes_ba_photo||n.shooting_scenes_no_makeup||n.shooting_scenes_closeup||n.shooting_scenes_product_closeup||n.shooting_scenes_product_texture||n.shooting_scenes_outdoor||n.shooting_scenes_couple||n.shooting_scenes_child||n.shooting_scenes_troubled_skin||n.shooting_scenes_wrinkles)&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-purple-700 mb-1",children:re.shootingScenes}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.shooting_scenes_ba_photo&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:" B&A "}),n.shooting_scenes_no_makeup&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:""}),n.shooting_scenes_closeup&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:""}),n.shooting_scenes_product_closeup&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:" "}),n.shooting_scenes_product_texture&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"  "}),n.shooting_scenes_outdoor&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:""}),n.shooting_scenes_couple&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:""}),n.shooting_scenes_child&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:""}),n.shooting_scenes_troubled_skin&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"  "}),n.shooting_scenes_wrinkles&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"  "})]})]}),n.additional_shooting_requests&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-purple-700 mb-1",children:re.additionalShootingRequests}),e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:n.additional_shooting_requests})]}),n.required_hashtags&&n.required_hashtags.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-purple-700 mb-1",children:re.requiredHashtags}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.required_hashtags.map((U,q)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:U},q))})]}),(n.video_duration||n.video_tempo||n.video_tone)&&e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.video_duration&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:re.videoDuration}),e.jsx("p",{className:"text-sm text-gray-700",children:re.translateVideoDuration(n.video_duration)})]}),n.video_tempo&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:re.videoTempo}),e.jsx("p",{className:"text-sm text-gray-700",children:re.translateVideoTempo(n.video_tempo)})]}),n.video_tone&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:re.videoTone}),e.jsx("p",{className:"text-sm text-gray-700",children:re.translateVideoTone(n.video_tone)})]})]}),n.additional_details&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-purple-700 mb-1",children:re.additionalDetails}),e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:n.additional_details})]}),n.meta_ad_code_requested&&e.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center text-sm text-yellow-800 mb-1",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("span",{className:"font-medium",children:re.metaAdCodeRequired})]}),e.jsx("p",{className:"text-sm text-yellow-700",children:re.metaAdCodeRequiredWarning})]})]})]}),e.jsx("div",{className:"border-t pt-4 mt-4",children:e.jsxs("div",{className:"bg-red-50 border-2 border-red-300 rounded-lg p-5 shadow-md",children:[e.jsxs("div",{className:"flex items-start mb-3",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"flex-1",children:e.jsx("h4",{className:"text-lg font-bold text-red-900 mb-2",children:"  "})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-2",children:e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-red-100 text-red-800 text-sm font-bold",children:"1"})}),e.jsxs("p",{className:"text-sm text-gray-800",children:[e.jsx("strong",{className:"text-red-900",children:" "}),":     ",e.jsx("strong",{className:"text-red-900",children:" "}),".      ."]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-2",children:e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-red-100 text-red-800 text-sm font-bold",children:"2"})}),e.jsxs("p",{className:"text-sm text-gray-800",children:[e.jsx("strong",{className:"text-red-900",children:"  "}),":     ",e.jsx("strong",{className:"text-red-900",children:"100% "}),"   ."]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-2",children:e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-red-100 text-red-800 text-sm font-bold",children:"3"})}),e.jsxs("p",{className:"text-sm text-gray-800",children:[e.jsx("strong",{className:"text-red-900",children:" "}),":   ",e.jsx("strong",{className:"text-red-900",children:"        "})," ."]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-2",children:e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-red-100 text-red-800 text-sm font-bold",children:"4"})}),e.jsxs("p",{className:"text-sm text-gray-800",children:[e.jsx("strong",{className:"text-red-900",children:" "}),":     , ",e.jsx("strong",{className:"text-red-900",children:" "}),".    ."]})]})]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),re.applicationForm]}),z&&e.jsx("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-6",children:re.alreadyApplied}),J&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 whitespace-pre-wrap",children:J}),e.jsxs("form",{onSubmit:W,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:re.personalInfo}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[re.name," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:ne.applicant_name||(j==null?void 0:j.name)||"",onChange:U=>L(q=>({...q,applicant_name:U.target.value})),placeholder:" ",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[re.email," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:(j==null?void 0:j.email)||(m==null?void 0:m.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[re.age," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:ne.age||(j==null?void 0:j.age)||"",onChange:U=>L(q=>({...q,age:U.target.value})),placeholder:" ",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[re.skinType," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:ne.skin_type||(j==null?void 0:j.skin_type)||"",onChange:U=>L(q=>({...q,skin_type:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0,children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"dry",children:" "}),e.jsx("option",{value:"oily",children:" "}),e.jsx("option",{value:"combination",children:" "}),e.jsx("option",{value:"sensitive",children:" "}),e.jsx("option",{value:"normal",children:" "})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:re.contactInfo}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[re.postalCode," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:ne.postal_code,onChange:U=>L(q=>({...q,postal_code:U.target.value})),placeholder:re.postalCodePlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[re.phoneNumber," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",value:ne.phone_number,onChange:U=>L(q=>({...q,phone_number:U.target.value})),placeholder:re.phoneNumberPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[re.address," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:ne.address,onChange:U=>L(q=>({...q,address:U.target.value})),placeholder:re.addressPlaceholder,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:re.deliveryRequest}),e.jsx("textarea",{value:ne.delivery_request,onChange:U=>L(q=>({...q,delivery_request:U.target.value})),placeholder:re.deliveryRequestPlaceholder,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),(n==null?void 0:n.offline_visit_requirement)&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"  "}),e.jsx("p",{className:"text-blue-800 text-sm mb-3",children:n.offline_visit_requirement}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:ne.offline_visit_available||!1,onChange:U=>L(q=>({...q,offline_visit_available:U.target.checked})),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"     "})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:language==="ja"?"":"   "}),e.jsx("textarea",{value:ne.offline_visit_notes||"",onChange:U=>L(q=>({...q,offline_visit_notes:U.target.value})),placeholder:"",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]})]})]})]})]}),(n==null?void 0:n.meta_ad_code_requested)&&e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsxs("h3",{className:"text-lg font-medium text-yellow-900 mb-2 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),re.metaAdCodeRequired]}),e.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:re.metaAdCodeRequiredWarning}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:ne.meta_ad_code_available||!1,onChange:U=>L(q=>({...q,meta_ad_code_available:U.target.checked})),className:"mr-2 w-4 h-4",required:!0}),e.jsx("span",{className:"text-sm font-medium text-yellow-900",children:re.metaAdCodeAvailableConfirm})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:re.snsInfo}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" SNS ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:X.instagram,onChange:U=>{B(q=>({...q,instagram:U.target.checked})),U.target.checked||L(q=>({...q,instagram_url:""}))},className:"mr-2 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:""})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:X.youtube,onChange:U=>{B(q=>({...q,youtube:U.target.checked})),U.target.checked||L(q=>({...q,youtube_url:""}))},className:"mr-2 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:""})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:X.tiktok,onChange:U=>{B(q=>({...q,tiktok:U.target.checked})),U.target.checked||L(q=>({...q,tiktok_url:""}))},className:"mr-2 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:""})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[X.instagram&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:re.instagramUrl}),e.jsx("input",{type:"url",value:ne.instagram_url,onChange:U=>L(q=>({...q,instagram_url:U.target.value})),placeholder:re.instagramPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),X.youtube&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:re.youtubeUrl}),e.jsx("input",{type:"url",value:ne.youtube_url,onChange:U=>L(q=>({...q,youtube_url:U.target.value})),placeholder:re.youtubePlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),X.tiktok&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:re.tiktokUrl}),e.jsx("input",{type:"url",value:ne.tiktok_url,onChange:U=>L(q=>({...q,tiktok_url:U.target.value})),placeholder:re.tiktokPlaceholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]})]})]}),(n==null?void 0:n.questions)&&Array.isArray(n.questions)&&n.questions.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:re.questions}),e.jsx("div",{className:"space-y-4",children:n.questions.map((U,q)=>{const F=`answer_${q+1}`;return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[U.question," ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),U.type==="checkbox"&&U.options?e.jsx("div",{className:"space-y-2",children:U.options.split(",").map((ye,ve)=>{var de;return e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:ye.trim(),checked:((de=ne[F])==null?void 0:de.includes(ye.trim()))||!1,onChange:Y=>{var ee;const we=((ee=ne[F])==null?void 0:ee.split(",").map(ze=>ze.trim()).filter(Boolean))||[],E=Y.target.checked?[...we,ye.trim()]:we.filter(ze=>ze!==ye.trim());L(ze=>({...ze,[F]:E.join(", ")}))},className:"mr-2"}),ye.trim()]},ve)})}):e.jsx("textarea",{value:ne[F]||"",onChange:ye=>L(ve=>({...ve,[F]:ye.target.value})),rows:U.type==="long"?5:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:" ",required:!0})]},q)})})]}),e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:re.portraitRightsTitle}),e.jsx("div",{className:"bg-white rounded p-4 mb-4 text-sm text-gray-700 leading-relaxed",children:re.portraitRightsConsent}),e.jsxs("label",{className:"flex items-start cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ne.portrait_rights_consent,onChange:U=>L(q=>({...q,portrait_rights_consent:U.target.checked})),className:"mt-1 mr-3 h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 rounded",required:!0}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[re.portraitRightsConsentShort," ",e.jsx("span",{className:"text-red-500",children:"*"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:re.additionalInfo}),e.jsx("textarea",{value:ne.additional_info,onChange:U=>L(q=>({...q,additional_info:U.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"     ."})]}),e.jsx("div",{className:"pt-4",children:le(j)?e.jsx("button",{type:"submit",disabled:C,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:C?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),re.submitting]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),re.submit]})}):e.jsxs("button",{type:"button",onClick:()=>G(!0),className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"    "]})})]})]})]})]}),w&&(n==null?void 0:n.detail_images)&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:()=>H(!1),children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",onClick:U=>U.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"  "}),e.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-100px)] space-y-4",children:n.detail_images.map((U,q)=>e.jsx("div",{className:"w-full",children:e.jsx("img",{src:U,alt:`   ${q+1}`,className:"w-full h-auto rounded-lg shadow-md",loading:"lazy"})},q))})]})})]})};function Di({...i}){return e.jsx($f,{"data-slot":"select",...i})}function Li({...i}){return e.jsx(Vf,{"data-slot":"select-value",...i})}function qi({className:i,size:d="default",children:o,...m}){return e.jsxs(Bf,{"data-slot":"select-trigger","data-size":d,className:ps("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...m,children:[o,e.jsx(Gf,{asChild:!0,children:e.jsx(Sa,{className:"size-4 opacity-50"})})]})}function Ri({className:i,children:d,position:o="popper",...m}){return e.jsx(Hf,{children:e.jsxs(Kf,{"data-slot":"select-content",className:ps("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:o,...m,children:[e.jsx(ry,{}),e.jsx(Yf,{className:ps("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:d}),e.jsx(ny,{})]})})}function aa({className:i,children:d,...o}){return e.jsxs(Qf,{"data-slot":"select-item",className:ps("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",i),...o,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Xf,{children:e.jsx(rt,{className:"size-4"})})}),e.jsx(Ff,{children:d})]})}function ry({className:i,...d}){return e.jsx(Zf,{"data-slot":"select-scroll-up-button",className:ps("flex cursor-default items-center justify-center py-1",i),...d,children:e.jsx(Oi,{className:"size-4"})})}function ny({className:i,...d}){return e.jsx(Jf,{"data-slot":"select-scroll-down-button",className:ps("flex cursor-default items-center justify-center py-1",i),...d,children:e.jsx(Sa,{className:"size-4"})})}function Bg({className:i,...d}){return e.jsx(Pf,{"data-slot":"tabs",className:ps("flex flex-col gap-2",i),...d})}function Gg({className:i,...d}){return e.jsx(Wf,{"data-slot":"tabs-list",className:ps("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",i),...d})}function Nn({className:i,...d}){return e.jsx(If,{"data-slot":"tabs-trigger",className:ps("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...d})}function Mm({className:i,...d}){return e.jsx(eb,{"data-slot":"tabs-content",className:ps("flex-1 outline-none",i),...d})}const iy={ko:{title:" ",subtitle:"      ",applicantList:" ",name:"",snsAddress:"SNS ",skinType:" ",questions:" ",virtualSelect:" ",cancel:"",selected:"",adminApprovalRequired:"        ",loading:"  ...",error:" ",noApplications:" ",instagram:"",tiktok:"",youtube:"",twitter:"",pending:"",approved:"",rejected:"",completed:"",virtualSelected:" "},ja:{title:"",subtitle:"",applicantList:"",name:"",snsAddress:"SNS",skinType:"",questions:"",virtualSelect:"",cancel:"",selected:"",adminApprovalRequired:"",loading:"...",error:"",noApplications:"",instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",twitter:"Twitter",pending:"",approved:"",rejected:"",completed:"",virtualSelected:""},en:{title:"Company Report",subtitle:"View campaign performance and analytics data",applicantList:"Applicant List",name:"Name",snsAddress:"SNS Address",skinType:"Skin Type",questions:"Questions & Answers",virtualSelect:"Virtual Select",cancel:"Cancel",selected:"Selected",adminApprovalRequired:"Even if you press the red select button, it will be confirmed after final approval by the administrator",loading:"Loading data...",error:"An error occurred",noApplications:"No applicants",instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",twitter:"Twitter",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed",virtualSelected:"Virtual Selected"}},cy=()=>{const{campaignId:i}=Ca(),[d]=zo();d.get("token");const[o,m]=h.useState(null),[x,n]=h.useState([]),[f,j]=h.useState(!0),[g,z]=h.useState(""),[_,A]=h.useState("ko"),[k,C]=h.useState(!1),b=iy[_];h.useEffect(()=>{i?J():(z(" ID  ."),j(!1))},[i]);const J=async()=>{try{j(!0),z(""),console.log("   :",i);const{data:O,error:w}=await se.from("campaigns").select("*").eq("id",i).single();if(w)throw new Error(`   : ${w.message}`);m(O),console.log(" :",O);const{data:H,error:y}=await se.from("applications").select("*").eq("campaign_id",i).order("created_at",{ascending:!1});y?(console.error("   :",y),n([])):(n(H||[]),console.log(" :",(H==null?void 0:H.length)||0,""))}catch(O){console.error("  :",O),z(O.message||"  .")}finally{j(!1)}},K=async(O,w)=>{try{C(!0);const H=w?"pending":"virtual_selected",{error:y}=await se.from("applications").update({status:H,virtual_selected_at:w?null:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",O);if(y)throw new Error(`  : ${y.message}`);n(G=>G.map(D=>D.id===O?{...D,status:H,virtual_selected_at:w?null:new Date().toISOString()}:D))}catch(H){console.error("   :",H),z(H.message||"   .")}finally{C(!1)}},T=O=>{const w={pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:b.pending},virtual_selected:{bg:"bg-red-100",text:"text-red-800",label:b.virtualSelected},approved:{bg:"bg-green-100",text:"text-green-800",label:b.approved},rejected:{bg:"bg-gray-100",text:"text-gray-800",label:b.rejected},completed:{bg:"bg-blue-100",text:"text-blue-800",label:b.completed}},H=w[O]||w.pending;return e.jsx(Kt,{className:`${H.bg} ${H.text}`,children:H.label})};return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:b.loading})]})}):g?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsx(_s,{className:"max-w-md",children:e.jsx(As,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ts,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:b.error}),e.jsx("p",{className:"text-gray-600 mb-4",children:g}),e.jsx(qe,{onClick:()=>window.location.reload(),children:""})]})})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(wb,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:b.title}),e.jsxs("p",{className:"text-gray-600",children:[(o==null?void 0:o.title)||""," - ",b.subtitle]})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs(Di,{value:_,onValueChange:A,children:[e.jsx(qi,{className:"w-32",children:e.jsx(Li,{})}),e.jsxs(Ri,{children:[e.jsx(aa,{value:"ko",children:""}),e.jsx(aa,{value:"ja",children:""}),e.jsx(aa,{value:"en",children:"English"})]})]})})]}),o&&e.jsx(_s,{className:"mb-6",children:e.jsxs(zs,{children:[e.jsxs(Es,{className:"flex items-center space-x-2",children:[e.jsx(ft,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:o.title})]}),e.jsxs(at,{children:[": ",o.brand," | : ",new Date(o.deadline).toLocaleDateString()]})]})}),e.jsxs(yt,{className:"mb-6 border-red-200 bg-red-50",children:[e.jsx(Ts,{className:"h-4 w-4 text-red-600"}),e.jsx(vt,{className:"text-red-800",children:b.adminApprovalRequired})]}),e.jsxs(_s,{children:[e.jsx(zs,{children:e.jsxs(Es,{className:"flex items-center space-x-2",children:[e.jsx(Nt,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:b.applicantList}),e.jsxs(Kt,{variant:"secondary",children:[x.length,""]})]})}),e.jsx(As,{children:x.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Nt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:b.noApplications})]}):e.jsx("div",{className:"space-y-6",children:x.map(O=>e.jsxs("div",{className:"border rounded-lg p-6 bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:O.applicant_name||" "}),T(O.status)]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:b.snsAddress}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[O.instagram_url&&e.jsxs("a",{href:O.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-pink-600 hover:text-pink-800",children:[e.jsx(zt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Instagram"}),e.jsx(ns,{className:"h-3 w-3"})]}),O.tiktok_url&&e.jsxs("a",{href:O.tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-black hover:text-gray-700",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"TikTok"}),e.jsx(ns,{className:"h-3 w-3"})]}),O.youtube_url&&e.jsxs("a",{href:O.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-red-600 hover:text-red-800",children:[e.jsx(jt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"YouTube"}),e.jsx(ns,{className:"h-3 w-3"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:b.skinType}),e.jsx(Kt,{variant:"outline",children:O.skin_type||" "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:""}),e.jsx(Kt,{variant:"outline",children:O.age||" "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:b.questions}),e.jsxs("div",{className:"space-y-3",children:[(()=>{const w=[];for(let H=1;H<=10;H++){const y=[o==null?void 0:o[`question_${H}`],o==null?void 0:o[`question${H}`],O[`question_${H}`],O[`question${H}`]],G=[O[`answer_${H}`],O[`answer${H}`],O[`question${H}_answer`],O[`question_${H}_answer`]],D=y.find(ie=>ie&&ie.trim()),$=G.find(ie=>ie&&ie.trim());(D||$)&&w.push(e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:D||` ${H}`}),e.jsx("p",{className:"text-sm text-gray-800",children:$||" "})]},H))}return w.length===0&&w.push(e.jsx("div",{className:"bg-gray-50 p-3 rounded text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"  ."})},"no-qa")),w})(),!1]})]})]}),e.jsx("div",{className:"ml-4",children:O.status==="virtual_selected"?e.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>K(O.id,!0),disabled:k,className:"border-red-300 text-red-600 hover:bg-red-50",children:[e.jsx(cg,{className:"h-4 w-4 mr-2"}),b.cancel]}):O.status==="pending"?e.jsxs(qe,{size:"sm",onClick:()=>K(O.id,!1),disabled:k,className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(Hm,{className:"h-4 w-4 mr-2"}),b.virtualSelect]}):e.jsx(Kt,{variant:"secondary",children:b.selected})})]}),e.jsxs("div",{className:"text-xs text-gray-500 border-t pt-2",children:[": ",new Date(O.created_at).toLocaleString(),O.virtual_selected_at&&e.jsxs("span",{className:"ml-4",children:[": ",new Date(O.virtual_selected_at).toLocaleString()]})]})]},O.id))})})]})]})})},Zh=()=>{const i=Qe(),{user:d}=xs(),[o,m]=h.useState({full_name:"",email:"",phone:"",instagram_handle:"",youtube_channel:"",tiktok_handle:"",follower_count:"",content_category:"",portfolio_links:"",motivation:"",experience:"",preferred_brands:""}),[x,n]=h.useState(!1),[f,j]=h.useState(!1),g=[{icon:go,title:" 5     ",description:"CNEC        ."},{icon:ka,title:" 10~20%  ",description:"     ,     ."},{icon:Oa,title:"  ",description:"        ."},{icon:Ra,title:"      ",description:"            ."},{icon:it,title:"    ",description:"          ."}],z=async A=>{if(A.preventDefault(),!d){alert(" ."),i("/login");return}n(!0);try{const{error:k}=await Be.from("cnecplus_applications").insert([{user_id:d.id,...o,status:"pending",applied_at:new Date().toISOString()}]);if(k)throw k;j(!0),alert(`CNEC Plus    !
     .`)}catch(k){console.error(" :",k),alert(" : "+k.message)}finally{n(!1)}},_=A=>{m(k=>({...k,[A.target.name]:A.target.value}))};return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ee,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" !"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["CNEC Plus     .",e.jsx("br",{}),"      ."]}),e.jsx("button",{onClick:()=>i("/"),className:"w-full bg-purple-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-purple-700 transition",children:" "})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:[e.jsx("nav",{className:"bg-white shadow-sm sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[e.jsx(ss,{to:"/",className:"flex items-center gap-2 hover:opacity-80 transition",children:e.jsx("img",{src:Cn,alt:"CNEC Korea",className:"h-12"})}),e.jsxs(ss,{to:"/",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-semibold",children:[e.jsx(yr,{className:"w-4 h-4"}),""]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white py-16",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full mb-4",children:[e.jsx(ka,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-semibold",children:"CNEC   "})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"CNEC Plus"}),e.jsxs("p",{className:"text-xl text-purple-100 max-w-2xl mx-auto",children:["   ",e.jsx("br",{}),"   "]}),e.jsx("p",{className:"text-lg text-purple-200 mt-4 italic",children:'"    "'})]})})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"CNEC Plus  ?"}),e.jsxs("div",{className:"prose max-w-none text-gray-600",children:[e.jsxs("p",{className:"text-lg leading-relaxed mb-4",children:["CNEC Plus ",e.jsx("strong",{className:"text-purple-600",children:"CNEC  "}),"   ,          ."]}),e.jsx("p",{className:"text-lg leading-relaxed mb-4",children:e.jsx("strong",{className:"text-purple-600",children:"CNEC        ."})}),e.jsxs("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-4 my-6",children:[e.jsx("p",{className:"text-amber-900 font-semibold mb-2",children:"  "}),e.jsxs("p",{className:"text-amber-800",children:["CNEC Plus   ",e.jsx("strong",{children:"  "}),".         CNEC     ."]})]})]})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4 text-center",children:"CNEC Plus   "}),e.jsx("p",{className:"text-center text-gray-600 mb-8",children:"CNEC        ."}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:g.map((A,k)=>{const C=A.icon;return e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(C,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:A.title}),e.jsx("p",{className:"text-gray-600",children:A.description})]})]})},k)})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl p-8 mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:" "}),e.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:[{step:"1",title:" ",desc:"  "},{step:"2",title:" ",desc:"1~2 "},{step:"3",title:" ",desc:"/"},{step:"4",title:" ",desc:"  "}].map((A,k)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-600 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-3",children:A.step}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:A.title}),e.jsx("p",{className:"text-sm text-gray-600",children:A.desc})]},k))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"CNEC Plus   "}),e.jsx("p",{className:"text-gray-600 mb-8",children:"   .       ."}),e.jsxs("form",{onSubmit:z,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),e.jsx("input",{type:"text",name:"full_name",value:o.full_name,onChange:_,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),e.jsx("input",{type:"email",name:"email",value:o.email,onChange:_,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"example@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),e.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:_,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"010-1234-5678"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   *"}),e.jsx("input",{type:"number",name:"follower_count",value:o.follower_count,onChange:_,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"10000"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"SNS  "}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram "}),e.jsx("input",{type:"text",name:"instagram_handle",value:o.instagram_handle,onChange:_,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"@your_instagram"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube  URL"}),e.jsx("input",{type:"url",name:"youtube_channel",value:o.youtube_channel,onChange:_,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://youtube.com/@yourchannel"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"TikTok "}),e.jsx("input",{type:"text",name:"tiktok_handle",value:o.tiktok_handle,onChange:_,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"@your_tiktok"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   *"}),e.jsx("input",{type:"text",name:"content_category",value:o.content_category,onChange:_,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:": , ,  "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("textarea",{name:"portfolio_links",value:o.portfolio_links,onChange:_,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"    (  )"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"     *"}),e.jsx("textarea",{name:"motivation",value:o.motivation,onChange:_,required:!0,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"CNEC Plus      ."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:" Tip:  ,  ,    ."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("textarea",{name:"experience",value:o.experience,onChange:_,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"  ,    ."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("input",{type:"text",name:"preferred_brands",value:o.preferred_brands,onChange:_,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"   "})]})]}),e.jsx("div",{className:"pt-6",children:e.jsx("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 px-8 rounded-lg font-bold text-lg hover:from-purple-700 hover:to-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?e.jsx(e.Fragment,{children:" ..."}):e.jsxs(e.Fragment,{children:[" ",e.jsx(Ct,{className:"w-5 h-5"})]})})})]})]}),e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white text-center",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"CNEC  "}),e.jsxs("p",{className:"text-lg text-purple-100 mb-6",children:["CNEC     ,",e.jsx("br",{}),"      ."]}),e.jsx("p",{className:"text-sm text-purple-200",children:"  : CNEC  "})]})]})]})};function oy(){var re,me,S,W,v;const{campaignId:i}=Ca(),d=Qe(),[o,m]=h.useState(!0),[x,n]=h.useState(!1),[f,j]=h.useState(!1),[g,z]=h.useState(0),[_,A]=h.useState(null),[k,C]=h.useState(null),[b,J]=h.useState(null),[K,T]=h.useState({cleanFile:null,cleanUrl:"",editedFile:null,editedUrl:"",title:"",content:"",hashtags:"",submission:null,allVersions:[],expanded:!0}),[O,w]=h.useState(""),[H,y]=h.useState(""),[G,D]=h.useState(!1),[$,ie]=h.useState(!1);h.useEffect(()=>{be()},[i]);const be=async()=>{try{m(!0);const{data:{user:R}}=await se.auth.getUser();if(!R){d("/login");return}const{data:ae,error:Q}=await se.from("campaigns").select("*").eq("id",i).single();if(Q)throw Q;if(ae.campaign_type==="4week_challenge"){d(`/submit-4week-video/${i}`);return}if(ae.campaign_type==="oliveyoung"){d(`/submit-oliveyoung-video/${i}`);return}C(ae);const{data:V,error:P}=await se.from("applications").select("*").eq("campaign_id",i).eq("user_id",R.id).single();if(P)throw P;J(V);const{data:ce}=await se.from("video_submissions").select("*").eq("application_id",V.id).eq("video_number",1).order("version",{ascending:!1});if(ce&&ce.length>0){const U=ce[0];T({cleanFile:null,cleanUrl:U.clean_video_url||"",editedFile:null,editedUrl:U.video_file_url||"",title:U.sns_title||"",content:U.sns_content||"",hashtags:U.hashtags||"",submission:U,allVersions:ce,expanded:!U.video_file_url||U.status==="revision_requested"})}}catch(R){console.error("Error fetching data:",R),w("  .")}finally{m(!1)}},M=(R,ae)=>{const Q=ae.target.files[0];if(!Q)return;if(Q.size>2*1024*1024*1024){w("  2GB  .");return}if(!Q.type.startsWith("video/")){w("   .");return}const V=R==="clean"?"cleanFile":"editedFile";T(P=>({...P,[V]:Q})),w("")},le=async(R,ae,Q=1)=>{try{j(!0),A(ae),z(0);const{data:{user:V}}=await se.auth.getUser();if(!V)throw new Error(" .");const P=R.name.split(".").pop(),ce=ae==="clean"?"clean":"edited",q=`videos/${`${V.id}_${i}_video1_v${Q}_${ce}_${Date.now()}.${P}`}`,{data:F,error:ye}=await se.storage.from("campaign-videos").upload(q,R,{cacheControl:"3600",upsert:!1,onUploadProgress:de=>{const Y=de.loaded/de.total*100;z(Math.round(Y))}});if(ye)throw ye;z(100);const{data:ve}=se.storage.from("campaign-videos").getPublicUrl(q);return ve.publicUrl}catch(V){throw console.error("Error uploading file:",V),V}finally{j(!1),A(null)}},X=async()=>{if(!K.editedFile&&!K.editedUrl){w(" .");return}if(!K.title.trim()){w("  .");return}try{n(!0),w(""),y("");const{data:{user:R}}=await se.auth.getUser();let ae=1;if(K.submission&&(ae=(K.submission.version||0)+1),ae>10){w(" 10   .");return}let Q=K.cleanUrl,V=K.editedUrl;K.cleanFile&&(Q=await le(K.cleanFile,"clean",ae)),K.editedFile&&(V=await le(K.editedFile,"edited",ae));const P={application_id:b.id,campaign_id:i,user_id:R.id,clean_video_url:Q||null,video_file_url:V,sns_title:K.title,sns_content:K.content,hashtags:K.hashtags,video_number:1,version:ae,status:"submitted",submitted_at:new Date().toISOString()},{error:ce}=await se.from("video_submissions").insert([P]);if(ce)throw ce;await se.from("applications").update({status:"video_submitted"}).eq("id",b.id);try{const U=(k==null?void 0:k.company_name)||"";let q=k==null?void 0:k.company_phone;if(!q&&(k!=null&&k.company_id)){const{data:F}=await se.from("user_profiles").select("phone").eq("id",k.company_id).single();q=F==null?void 0:F.phone}if(q){const{data:F}=await se.from("user_profiles").select("name").eq("id",R.id).single(),ye=(F==null?void 0:F.name)||"";await fetch("/.netlify/functions/send-alimtalk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({receiverNum:q.replace(/-/g,""),receiverName:U,templateCode:"025100001008",variables:{:U,:k.title,:ye}})})}else console.log("     .")}catch(U){console.error("Notification error:",U)}y(` V${ae} !`),T(U=>({...U,expanded:!1,cleanFile:null,editedFile:null})),await be()}catch(R){console.error("Error submitting video:",R),w("  : "+R.message)}finally{n(!1)}},B=R=>{navigator.clipboard.writeText(R),D(!0),setTimeout(()=>D(!1),2e3)},ne=R=>{if(!R)return null;const ae={submitted:{label:" ",color:"bg-blue-500"},revision_requested:{label:" ",color:"bg-yellow-500"},approved:{label:"",color:"bg-green-500"}},Q=ae[R.status]||ae.submitted;return e.jsxs("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold text-white ${Q.color}`,children:[Q.label," V",R.version||1]})},L=()=>{var V,P,ce,U,q,F,ye,ve,de;const R=_&&f,ae=((V=K.submission)==null?void 0:V.version)||0,Q=ae<10;return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[e.jsxs("button",{onClick:()=>T(Y=>({...Y,expanded:!Y.expanded})),className:"w-full p-4 flex items-center justify-between bg-gradient-to-r from-purple-50 to-violet-50 border-b border-purple-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(es,{size:16,className:"text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-bold text-gray-900 text-sm",children:" "}),K.submission&&e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(K.submission.submitted_at).toLocaleDateString("ko-KR")," "]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[ne(K.submission),K.expanded?e.jsx(Sa,{size:20,className:"text-gray-400 rotate-180"}):e.jsx(Sa,{size:20,className:"text-gray-400"})]})]}),K.expanded&&e.jsxs("div",{className:"p-4 space-y-4",children:[K.allVersions.length>1&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>ie(!$),className:"flex items-center gap-2 text-sm text-purple-600 hover:text-purple-700",children:[e.jsx(Qm,{size:14}),"  (",K.allVersions.length,")"]}),$&&e.jsx("div",{className:"mt-2 bg-gray-50 rounded-xl p-3 space-y-2",children:K.allVersions.map((Y,we)=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-bold text-purple-600",children:["V",Y.version]}),e.jsx("span",{className:"text-gray-500",children:new Date(Y.submitted_at).toLocaleDateString("ko-KR")})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold text-white ${Y.status==="approved"?"bg-green-500":Y.status==="revision_requested"?"bg-yellow-500":"bg-blue-500"}`,children:Y.status==="approved"?"":Y.status==="revision_requested"?"":""})]},Y.id))})]}),((P=K.submission)==null?void 0:P.status)==="revision_requested"&&((ce=K.submission)==null?void 0:ce.feedback)&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ts,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-yellow-800 mb-1",children:" "}),e.jsx("p",{className:"text-sm text-yellow-700",children:K.submission.feedback})]})]})}),((U=K.submission)==null?void 0:U.video_file_url)&&((q=K.submission)==null?void 0:q.status)!=="revision_requested"&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("a",{href:K.submission.clean_video_url||"#",target:"_blank",rel:"noopener noreferrer",className:`flex flex-col items-center justify-center py-3 px-2 rounded-xl border-2 border-dashed ${K.submission.clean_video_url?"border-purple-200 bg-purple-50 hover:bg-purple-100":"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed"}`,onClick:Y=>!K.submission.clean_video_url&&Y.preventDefault(),children:[e.jsx(es,{size:20,className:K.submission.clean_video_url?"text-purple-600":"text-gray-400"}),e.jsx("span",{className:`text-xs font-bold mt-1 ${K.submission.clean_video_url?"text-gray-900":"text-gray-400"}`,children:""})]}),e.jsxs("a",{href:K.submission.video_file_url,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center py-3 px-2 rounded-xl border-2 border-dashed border-purple-200 bg-purple-50 hover:bg-purple-100",children:[e.jsx(_n,{size:20,className:"text-purple-600"}),e.jsx("span",{className:"text-xs font-bold mt-1 text-gray-900",children:""})]})]}),Q&&e.jsxs(e.Fragment,{children:[((F=K.submission)==null?void 0:F.video_file_url)&&((ye=K.submission)==null?void 0:ye.status)!=="revision_requested"&&e.jsx("div",{className:"bg-violet-50 border border-violet-200 rounded-xl p-3 mb-3",children:e.jsxs("p",{className:"text-xs text-violet-700 font-medium",children:["    . V",ae+1," . ( V10)"]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",e.jsx("span",{className:"text-xs text-gray-400",children:"()"})]}),e.jsx("input",{type:"file",accept:"video/*",onChange:Y=>M("clean",Y),disabled:f,className:"hidden",id:"clean-video"}),e.jsx("label",{htmlFor:"clean-video",className:`flex items-center justify-center gap-2 w-full py-3 border-2 border-dashed rounded-xl cursor-pointer transition-colors text-sm ${K.cleanFile||K.cleanUrl?"border-purple-300 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:K.cleanFile?e.jsxs(e.Fragment,{children:[e.jsx(kn,{size:16,className:"text-purple-600"}),e.jsx("span",{className:"text-purple-700 font-medium truncate max-w-[150px]",children:K.cleanFile.name})]}):K.cleanUrl?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{size:16,className:"text-purple-600"}),e.jsx("span",{className:"text-purple-700 font-medium",children:" "})]}):e.jsxs(e.Fragment,{children:[e.jsx(es,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-500",children:" "})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),e.jsx("input",{type:"file",accept:"video/*",onChange:Y=>M("edited",Y),disabled:f,className:"hidden",id:"edited-video"}),e.jsx("label",{htmlFor:"edited-video",className:`flex items-center justify-center gap-2 w-full py-3 border-2 border-dashed rounded-xl cursor-pointer transition-colors text-sm ${K.editedFile||K.editedUrl?"border-purple-300 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:K.editedFile?e.jsxs(e.Fragment,{children:[e.jsx(kn,{size:16,className:"text-purple-600"}),e.jsx("span",{className:"text-purple-700 font-medium truncate max-w-[150px]",children:K.editedFile.name})]}):K.editedUrl?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{size:16,className:"text-purple-600"}),e.jsx("span",{className:"text-purple-700 font-medium",children:" "})]}):e.jsxs(e.Fragment,{children:[e.jsx(_n,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-500",children:" "})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),e.jsx("input",{type:"text",value:K.title,onChange:Y=>T(we=>({...we,title:Y.target.value})),placeholder:"SNS  ",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("textarea",{value:K.content,onChange:Y=>T(we=>({...we,content:Y.target.value})),placeholder:"SNS  ",rows:3,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[e.jsx(ot,{size:14}),""]}),e.jsx("input",{type:"text",value:K.hashtags,onChange:Y=>T(we=>({...we,hashtags:Y.target.value})),placeholder:"# #",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsx("button",{onClick:X,disabled:x||f,className:"w-full py-3 bg-purple-600 text-white rounded-xl font-bold text-sm hover:bg-purple-700 disabled:opacity-50 flex items-center justify-center gap-2",children:x||R?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"w-4 h-4 animate-spin"}),R?" ...":" ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(St,{size:16}),(ve=K.submission)!=null&&ve.video_file_url?`V${ae+1} `:" "]})})]}),!Q&&K.submission&&e.jsx("div",{className:"bg-gray-100 border border-gray-200 rounded-xl p-3 text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:"  (V10) ."})}),((de=K.submission)==null?void 0:de.video_file_url)&&e.jsx("div",{className:`rounded-xl p-3 text-center ${K.submission.status==="approved"?"bg-green-50":"bg-blue-50"}`,children:e.jsx("p",{className:`text-sm font-medium ${K.submission.status==="approved"?"text-green-800":"text-blue-800"}`,children:K.submission.status==="approved"?"  !":"  "})})]})]})};if(o)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"w-10 h-10 animate-spin text-purple-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:" ..."})]})});const ue=(b==null?void 0:b.partnership_code)||(k==null?void 0:k.partnership_code)||`${(me=(re=k==null?void 0:k.brand)==null?void 0:re.toUpperCase())==null?void 0:me.replace(/\s/g,"_")}_${((W=(S=b==null?void 0:b.id)==null?void 0:S.slice(0,6))==null?void 0:W.toUpperCase())||"CODE"}`;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center",children:[e.jsx("button",{onClick:()=>d("/my/applications"),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Ks,{size:20,className:"text-gray-700"})}),e.jsx("h1",{className:"flex-1 text-center font-bold text-gray-900",children:" "}),e.jsx("div",{className:"w-10"})]})}),e.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-4",children:[H&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-4 flex items-start gap-3",children:[e.jsx(Ee,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-green-800 font-medium",children:H})]}),O&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 flex items-start gap-3",children:[e.jsx(Ts,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800 font-medium",children:O})]}),(k==null?void 0:k.ad_code_required)&&e.jsxs("div",{className:"bg-gray-900 rounded-2xl p-4 shadow-lg",children:[e.jsxs("p",{className:"text-xs text-gray-400 font-medium mb-2",children:[((v=b==null?void 0:b.creator_name)==null?void 0:v.toUpperCase())||"","  "]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 bg-gray-800 rounded-xl px-4 py-3",children:e.jsx("p",{className:"text-white font-mono text-lg font-bold tracking-wide",children:ue})}),e.jsxs("button",{onClick:()=>B(ue),className:"flex items-center gap-2 px-4 py-3 bg-white rounded-xl text-sm font-bold text-gray-900 hover:bg-gray-100 transition-colors",children:[G?e.jsx(rt,{size:16}):e.jsx(ta,{size:16}),G?"":""]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-3 flex items-center gap-1",children:[e.jsx(Ts,{size:12}),"        ."]})]}),L(),e.jsxs("div",{className:"bg-purple-50 rounded-2xl p-4",children:[e.jsx("h3",{className:"text-sm font-bold text-purple-900 mb-2",children:"  "}),e.jsxs("ul",{className:"text-xs text-purple-800 space-y-1.5",children:[e.jsx("li",{children:"   1  1 ."}),e.jsx("li",{children:"   . (V1  V2  ... V10)"}),e.jsx("li",{children:"  /   ."}),e.jsx("li",{children:"      ."})]})]})]})]})}function dy(){var F,ye,ve,de;const{submissionId:i}=Ca(),d=Qe(),o=h.useRef(null),m=h.useRef(null),x=h.useRef(null),[n,f]=h.useState(null),[j,g]=h.useState([]),[z,_]=h.useState([]),[A,k]=h.useState({}),[C,b]=h.useState(!0),[J,K]=h.useState(null),[T,O]=h.useState(null),[w,H]=h.useState(""),[y,G]=h.useState(""),[D,$]=h.useState(null),[ie,be]=h.useState(0),[M,le]=h.useState(!0),[X,B]=h.useState(!1),[ne,L]=h.useState(!1),[ue,re]=h.useState({});h.useEffect(()=>{me(),S()},[i]),h.useEffect(()=>{const Y=o.current;if(!Y||!J)return;const we=()=>{be(Y.currentTime)},E=()=>le(!1),ee=()=>le(!0);return Y.addEventListener("timeupdate",we),Y.addEventListener("play",E),Y.addEventListener("pause",ee),()=>{Y.removeEventListener("timeupdate",we),Y.removeEventListener("play",E),Y.removeEventListener("pause",ee)}},[J]);const me=async()=>{try{const{data:Y,error:we}=await se.from("video_submissions").select("*").eq("id",i).single();if(we)throw we;if(Y.application_id){const{data:E,error:ee}=await se.from("applications").select("applicant_name, campaign_id").eq("id",Y.application_id).single();if(!ee&&E&&(Y.applications=E,E.campaign_id)){const{data:Ae,error:Re}=await se.from("campaigns").select("title, company_name, company_id, company_phone, campaign_type").eq("id",E.campaign_id).single();!Re&&Ae&&(Y.applications.campaigns=Ae)}let ze=se.from("video_submissions").select("id, version, status, created_at").eq("application_id",Y.application_id);Y.week_number?ze=ze.eq("week_number",Y.week_number):Y.video_number&&(ze=ze.eq("video_number",Y.video_number));const{data:xe}=await ze.order("version",{ascending:!0});xe&&xe.length>0&&g(xe)}f(Y),K(Y.video_file_url)}catch(Y){console.error("Error loading submission:",Y),alert("   .")}finally{b(!1)}},S=async()=>{try{const{data:Y,error:we}=await se.from("video_review_comments").select("*").eq("submission_id",i).order("timestamp",{ascending:!0});if(we)throw we;if(_(Y||[]),Y&&Y.length>0){const E=Y.map(xe=>xe.id),{data:ee,error:ze}=await se.from("video_review_comment_replies").select("*").in("comment_id",E).order("created_at",{ascending:!0});if(!ze&&ee){const xe={};ee.forEach(Ae=>{xe[Ae.comment_id]||(xe[Ae.comment_id]=[]),xe[Ae.comment_id].push(Ae)}),k(xe)}}}catch(Y){console.error("Error loading comments:",Y)}},W=async Y=>{if(!w.trim()||!y.trim()){alert("  .");return}try{const{data:we,error:E}=await se.from("video_review_comment_replies").insert({comment_id:Y,author_name:y,reply_text:w,created_at:new Date().toISOString()}).select().single();if(E)throw E;k(ee=>({...ee,[Y]:[...ee[Y]||[],we]})),H(""),O(null)}catch(we){console.error("Error adding reply:",we),alert("  .")}},v=async(Y,we)=>{if(confirm(" ?"))try{const{error:E}=await se.from("video_review_comment_replies").delete().eq("id",Y);if(E)throw E;k(ee=>({...ee,[we]:ee[we].filter(ze=>ze.id!==Y)}))}catch(E){console.error("Error deleting reply:",E),alert("  .")}},R=(Y,we)=>{var E;o.current&&(o.current.currentTime=Y,o.current.pause(),$(we),(E=m.current)==null||E.scrollIntoView({behavior:"smooth",block:"center"}))},ae=Y=>{const we=Math.floor(Y/60),E=Math.floor(Y%60);return`${we}:${E.toString().padStart(2,"0")}`},Q=async Y=>{var ze;const we=(ze=Y.target.files)==null?void 0:ze[0];if(!we)return;if(!we.type.startsWith("video/")){alert("   .");return}if(we.size>2*1024*1024*1024){alert("  2GB  .");return}const ee=((n==null?void 0:n.version)||1)+1;B(!0);try{const{data:{user:xe}}=await se.auth.getUser();if(!xe)throw new Error(" .");const Ae=we.name.split(".").pop(),fe=`video-submissions/${`${xe.id}_${n.campaign_id}_v${ee}_${Date.now()}.${Ae}`}`,{error:Ce}=await se.storage.from("campaign-videos").upload(fe,we);if(Ce)throw Ce;const{data:{publicUrl:Pe}}=se.storage.from("campaign-videos").getPublicUrl(fe),I={application_id:n.application_id,campaign_id:n.campaign_id,user_id:xe.id,video_file_url:Pe,clean_video_url:n.clean_video_url,sns_title:n.sns_title,sns_content:n.sns_content,hashtags:n.hashtags,week_number:n.week_number||null,video_number:n.video_number||null,version:ee,status:"submitted",submitted_at:new Date().toISOString()},{data:ke,error:De}=await se.from("video_submissions").insert([I]).select().single();if(De)throw De;await se.from("video_submissions").update({status:"superseded"}).eq("id",i);try{await fetch("/.netlify/functions/send-resubmit-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({submissionId:ke.id})})}catch(Xe){console.error("Notification error:",Xe)}alert(` V${ee} !   .`),d(`/video-review/${ke.id}`)}catch(xe){console.error("Error uploading video:",xe),alert("  : "+xe.message)}finally{B(!1)}},V=Y=>{re(we=>({...we,[Y]:!we[Y]}))},P=()=>{var E,ee;if(!n)return"";const Y=(ee=(E=n.applications)==null?void 0:E.campaigns)==null?void 0:ee.campaign_type,we=n.version?`V${n.version}`:"";return Y==="4week_challenge"&&n.week_number?`Week ${n.week_number} ${we}`.trim():Y==="oliveyoung"&&n.video_number?`Video ${n.video_number} ${we}`.trim():we},ce=()=>((n==null?void 0:n.version)||1)+1;if(C)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-purple-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 text-sm",children:" ..."})]})});if(!n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(la,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-600 mb-4",children:"   ."}),e.jsx("button",{onClick:()=>d("/my/applications"),className:"px-6 py-3 bg-purple-600 text-white rounded-xl font-semibold hover:bg-purple-700",children:"  "})]})});const U=((ye=(F=n.applications)==null?void 0:F.campaigns)==null?void 0:ye.title)||"";(de=(ve=n.applications)==null?void 0:ve.campaigns)!=null&&de.company_name;const q=P();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-0 z-20",children:e.jsx("div",{className:"max-w-lg mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>d("/my/applications"),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Ks,{className:"w-5 h-5 text-gray-700"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"font-bold text-gray-900 truncate",children:"  "}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:U})]}),q&&e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-bold rounded-lg flex-shrink-0",children:q})]})})}),e.jsxs("div",{className:"max-w-lg mx-auto",children:[j.length>1&&e.jsx("div",{className:"px-4 pt-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:j.map(Y=>e.jsxs("button",{onClick:()=>{Y.id!==i&&d(`/video-review/${Y.id}`)},className:`px-4 py-2 rounded-xl font-bold text-sm whitespace-nowrap transition-colors flex items-center gap-1.5 ${Y.id===i?"bg-purple-600 text-white":"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:["V",Y.version||1,Y.status==="revision_requested"&&e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})]},Y.id))})}),e.jsx("div",{className:"px-4 pt-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-100 rounded-2xl p-4",children:e.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"         ."})})}),e.jsx("div",{className:"px-4 pt-3",children:e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-amber-400 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"!"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-amber-900 font-bold mb-1",children:"   !"}),e.jsxs("p",{className:"text-xs text-amber-800 leading-relaxed",children:["         .       ",e.jsx("strong",{children:" "}),"   ."]})]})]})})}),e.jsx("div",{className:"px-4 pt-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[e.jsxs("div",{ref:m,className:"aspect-[9/16] sm:aspect-video bg-black relative",children:[e.jsx("video",{ref:o,controls:!0,playsInline:!0,crossOrigin:"anonymous",className:"w-full h-full object-contain",src:J||n.video_file_url,children:"   ."}),z.map((Y,we)=>{const E=Y.box_x||20+Y.id.split("").reduce((Ce,Pe)=>Ce+Pe.charCodeAt(0),0)%60,ee=Y.box_y||20+Y.id.split("").reduce((Ce,Pe)=>Ce+Pe.charCodeAt(0),0)*7%60,ze=Y.box_width||120,xe=Y.box_height||120,Ae=D===Y.id,Re=Math.abs(ie-Y.timestamp);return M&&Re<=2?e.jsx("div",{className:`absolute cursor-pointer transition-all ${Ae?"border-4 border-yellow-500 z-20":"border-4 border-red-500 z-10"}`,style:{left:`${E}%`,top:`${ee}%`,width:`${Math.min(ze,100)}px`,height:`${Math.min(xe,100)}px`,transform:"translate(-50%, -50%)"},onClick:Ce=>{Ce.stopPropagation(),R(Y.timestamp,Y.id)},children:e.jsxs("div",{className:`absolute -top-7 left-1/2 transform -translate-x-1/2 px-2 py-0.5 rounded text-xs font-bold whitespace-nowrap ${Ae?"bg-yellow-500 text-black":"bg-red-600 text-white"}`,children:["#",we+1," ",ae(Y.timestamp)]})},Y.id):null})]}),z.length>0&&e.jsxs("div",{className:"px-4 py-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Lt,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500",children:"  "})]}),e.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full",children:z.map((Y,we)=>{var ze;const E=(ze=o.current)!=null&&ze.duration?Y.timestamp/o.current.duration*100:0,ee=D===Y.id;return e.jsx("button",{className:`absolute top-1/2 -translate-y-1/2 w-4 h-4 rounded-full transition-all ${ee?"bg-yellow-500 scale-125 z-10":"bg-red-500 hover:scale-110"}`,style:{left:`calc(${E}% - 8px)`},onClick:()=>R(Y.timestamp,Y.id),children:e.jsxs("span",{className:"sr-only",children:["#",we+1]})},Y.id)})})]})]})}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("h2",{className:"font-bold text-gray-900",children:["  ",e.jsxs("span",{className:"ml-2 text-red-500",children:[z.length,""]})]})}),z.length===0?e.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Ee,{className:"w-6 h-6 text-green-600"})}),e.jsx("p",{className:"text-gray-600 text-sm",children:"   ."})]}):e.jsx("div",{className:"space-y-3",children:z.map((Y,we)=>{var xe,Ae;const E=D===Y.id,ee=ue[Y.id],ze=((xe=A[Y.id])==null?void 0:xe.length)||0;return e.jsxs("div",{className:`bg-white rounded-2xl overflow-hidden transition-all ${E?"ring-2 ring-yellow-400 shadow-lg":"shadow-sm"}`,children:[e.jsx("div",{className:"p-4 cursor-pointer",onClick:()=>R(Y.timestamp,Y.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0 ${E?"bg-yellow-500 text-black":"bg-red-500 text-white"}`,children:we+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`text-sm font-bold ${E?"text-yellow-600":"text-red-600"}`,children:ae(Y.timestamp)}),e.jsx("span",{className:"text-xs text-gray-400",children:new Date(Y.created_at).toLocaleDateString("ko-KR")})]}),e.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:Y.comment}),Y.attachment_url&&e.jsxs("a",{href:Y.attachment_url,target:"_blank",rel:"noopener noreferrer",onClick:Re=>Re.stopPropagation(),className:"inline-flex items-center gap-1.5 mt-2 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-xs font-medium",children:[e.jsx(_b,{className:"w-3 h-3"})," "]})]})]})}),e.jsxs("div",{className:"border-t border-gray-100",children:[e.jsxs("button",{onClick:()=>V(Y.id),className:"w-full px-4 py-2.5 flex items-center justify-between text-gray-600 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mi,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-xs font-medium",children:[" ",ze,""]})]}),ee?e.jsx(Oi,{className:"w-4 h-4"}):e.jsx(Sa,{className:"w-4 h-4"})]}),ee&&e.jsxs("div",{className:"px-4 pb-4 space-y-2",children:[(Ae=A[Y.id])==null?void 0:Ae.map(Re=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-bold text-gray-700",children:Re.author_name}),e.jsx("button",{onClick:()=>v(Re.id,Y.id),className:"text-xs text-red-500",children:""})]}),e.jsx("p",{className:"text-xs text-gray-600",children:Re.reply_text}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:new Date(Re.created_at).toLocaleString("ko-KR")})]},Re.id)),T===Y.id?e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx("input",{type:"text",value:y,onChange:Re=>G(Re.target.value),placeholder:"",className:"w-full px-3 py-2.5 text-sm border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500"}),e.jsx("textarea",{value:w,onChange:Re=>H(Re.target.value),placeholder:" ...",className:"w-full px-3 py-2.5 text-sm border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none",rows:2}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>W(Y.id),className:"flex-1 py-2.5 bg-purple-600 text-white rounded-xl text-sm font-bold",children:""}),e.jsx("button",{onClick:()=>{O(null),H("")},className:"flex-1 py-2.5 border border-gray-200 text-gray-600 rounded-xl text-sm font-medium",children:""})]})]}):e.jsxs("button",{onClick:()=>O(Y.id),className:"w-full py-2.5 border border-gray-200 text-gray-600 rounded-xl text-sm font-medium flex items-center justify-center gap-1",children:[e.jsx(Mi,{className:"w-4 h-4"})," "]})]})]})]},Y.id)})})]}),e.jsx("div",{className:"px-4 pb-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-2xl p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"  "}),(n==null?void 0:n.version)&&e.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-bold rounded-full",children:[" V",n.version]})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"        ."}),e.jsx("input",{ref:x,type:"file",accept:"video/*",onChange:Q,className:"hidden"}),e.jsxs("button",{onClick:()=>{var Y;return(Y=x.current)==null?void 0:Y.click()},disabled:X,className:"w-full py-3.5 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 disabled:opacity-50",children:[e.jsx(St,{className:"w-5 h-5"}),X?" ...":` V${ce()} `]}),e.jsx("p",{className:"text-xs text-gray-400 text-center",children:"*      "})]})})]})]})}function my(){var me,S;const{campaignId:i}=Ca(),d=Qe(),[o,m]=h.useState(!0),[x,n]=h.useState(!1),[f,j]=h.useState(!1),[g,z]=h.useState(0),[_,A]=h.useState(null),[k,C]=h.useState(null),[b,J]=h.useState(null),[K,T]=h.useState({1:{cleanFile:null,cleanUrl:"",editedFile:null,editedUrl:"",title:"",content:"",hashtags:"",submission:null,allVersions:[],expanded:!0},2:{cleanFile:null,cleanUrl:"",editedFile:null,editedUrl:"",title:"",content:"",hashtags:"",submission:null,allVersions:[],expanded:!1}}),[O,w]=h.useState(""),[H,y]=h.useState(""),[G,D]=h.useState(!1),[$,ie]=h.useState({1:!1,2:!1});h.useEffect(()=>{be()},[i]);const be=async()=>{try{m(!0);const{data:{user:W}}=await se.auth.getUser();if(!W){d("/login");return}const{data:v,error:R}=await se.from("campaigns").select("*").eq("id",i).single();if(R)throw R;C(v);const{data:ae,error:Q}=await se.from("applications").select("*").eq("campaign_id",i).eq("user_id",W.id).single();if(Q)throw Q;J(ae);const V={...K};let P=!1;for(let ce=1;ce<=2;ce++){const{data:U}=await se.from("video_submissions").select("*").eq("application_id",ae.id).eq("video_number",ce).order("version",{ascending:!1});if(U&&U.length>0){P=!0;const q=U[0];V[ce]={cleanFile:null,cleanUrl:q.clean_video_url||"",editedFile:null,editedUrl:q.video_file_url||"",title:q.sns_title||"",content:q.sns_content||"",hashtags:q.hashtags||"",submission:q,allVersions:U,expanded:!q.video_file_url||q.status==="revision_requested"}}}T(V)}catch(W){console.error("Error fetching data:",W),w("  .")}finally{m(!1)}},M=(W,v)=>{T(R=>({...R,[W]:{...R[W],...v}}))},le=(W,v,R)=>{const ae=R.target.files[0];if(!ae)return;if(ae.size>2*1024*1024*1024){w("  2GB  .");return}if(!ae.type.startsWith("video/")){w("   .");return}M(W,{[v==="clean"?"cleanFile":"editedFile"]:ae}),w("")},X=async(W,v,R,ae=1)=>{try{j(!0),A({videoNum:v,type:R}),z(0);const{data:{user:Q}}=await se.auth.getUser();if(!Q)throw new Error(" .");const V=W.name.split(".").pop(),ce=`videos/${`${Q.id}_${i}_video${v}_v${ae}_${R}_${Date.now()}.${V}`}`,{error:U}=await se.storage.from("campaign-videos").upload(ce,W,{cacheControl:"3600",upsert:!1,onUploadProgress:F=>{const ye=F.loaded/F.total*100;z(Math.round(ye))}});if(U)throw U;z(100);const{data:q}=se.storage.from("campaign-videos").getPublicUrl(ce);return q.publicUrl}catch(Q){throw console.error("Error uploading file:",Q),Q}finally{j(!1),A(null)}},B=async W=>{const v=K[W];if(!v.editedFile&&!v.editedUrl){w(` ${W}  .`);return}if(!v.title.trim()){w(` ${W}  .`);return}try{n(!0),w(""),y("");const{data:{user:R}}=await se.auth.getUser();let ae=1;if(v.submission&&(ae=(v.submission.version||0)+1),ae>10){w(` ${W}  10   .`);return}let Q=v.cleanUrl,V=v.editedUrl;v.cleanFile&&(Q=await X(v.cleanFile,W,"clean",ae)),v.editedFile&&(V=await X(v.editedFile,W,"edited",ae));const P={application_id:b.id,campaign_id:i,user_id:R.id,clean_video_url:Q||null,video_file_url:V,sns_title:v.title,sns_content:v.content,hashtags:v.hashtags,video_number:W,version:ae,status:"submitted",submitted_at:new Date().toISOString()},{error:ce}=await se.from("video_submissions").insert([P]);if(ce)throw ce;try{const U=(k==null?void 0:k.company_name)||"";let q=k==null?void 0:k.company_phone;if(!q&&(k!=null&&k.company_id)){const{data:F}=await se.from("user_profiles").select("phone").eq("id",k.company_id).single();q=F==null?void 0:F.phone}if(q){const{data:F}=await se.from("user_profiles").select("name").eq("id",R.id).single(),ye=(F==null?void 0:F.name)||"";await fetch("/.netlify/functions/send-alimtalk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({receiverNum:q.replace(/-/g,""),receiverName:U,templateCode:"025100001008",variables:{:U,:`${k.title} - ${W}`,:ye}})})}}catch(U){console.error("Notification error:",U)}y(` ${W} V${ae} !`),M(W,{expanded:!1,cleanFile:null,editedFile:null}),await be()}catch(R){console.error("Error submitting video:",R),w(` ${W}  : `+R.message)}finally{n(!1)}},ne=W=>{navigator.clipboard.writeText(W),D(!0),setTimeout(()=>D(!1),2e3)},L=W=>{if(!W)return null;const v={submitted:{label:" ",color:"bg-blue-500"},revision_requested:{label:" ",color:"bg-yellow-500"},approved:{label:"",color:"bg-green-500"}},R=v[W.status]||v.submitted;return e.jsxs("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold text-white ${R.color}`,children:[R.label," V",W.version||1]})},ue=W=>{var V,P,ce,U,q,F,ye,ve,de;const v=K[W],R=(_==null?void 0:_.videoNum)===W,ae=((V=v.submission)==null?void 0:V.version)||0,Q=ae<10;return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[e.jsxs("button",{onClick:()=>M(W,{expanded:!v.expanded}),className:"w-full p-4 flex items-center justify-between bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:W})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("p",{className:"font-bold text-gray-900 text-sm",children:[" ",W]}),v.submission&&e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(v.submission.submitted_at).toLocaleDateString("ko-KR")," "]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[L(v.submission),v.expanded?e.jsx(Oi,{size:20,className:"text-gray-400"}):e.jsx(Sa,{size:20,className:"text-gray-400"})]})]}),v.expanded&&e.jsxs("div",{className:"p-4 space-y-4",children:[v.allVersions.length>1&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>ie(Y=>({...Y,[W]:!Y[W]})),className:"flex items-center gap-2 text-sm text-green-600 hover:text-green-700",children:[e.jsx(Qm,{size:14}),"  (",v.allVersions.length,")"]}),$[W]&&e.jsx("div",{className:"mt-2 bg-gray-50 rounded-xl p-3 space-y-2",children:v.allVersions.map(Y=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-bold text-green-600",children:["V",Y.version]}),e.jsx("span",{className:"text-gray-500",children:new Date(Y.submitted_at).toLocaleDateString("ko-KR")})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold text-white ${Y.status==="approved"?"bg-green-500":Y.status==="revision_requested"?"bg-yellow-500":"bg-blue-500"}`,children:Y.status==="approved"?"":Y.status==="revision_requested"?"":""})]},Y.id))})]}),((P=v.submission)==null?void 0:P.status)==="revision_requested"&&((ce=v.submission)==null?void 0:ce.feedback)&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ts,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-yellow-800 mb-1",children:" "}),e.jsx("p",{className:"text-sm text-yellow-700",children:v.submission.feedback})]})]})}),((U=v.submission)==null?void 0:U.video_file_url)&&((q=v.submission)==null?void 0:q.status)!=="revision_requested"&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("a",{href:v.submission.clean_video_url||"#",target:"_blank",rel:"noopener noreferrer",className:`flex flex-col items-center justify-center py-3 px-2 rounded-xl border-2 border-dashed ${v.submission.clean_video_url?"border-green-200 bg-green-50 hover:bg-green-100":"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed"}`,onClick:Y=>!v.submission.clean_video_url&&Y.preventDefault(),children:[e.jsx(es,{size:20,className:v.submission.clean_video_url?"text-green-600":"text-gray-400"}),e.jsx("span",{className:`text-xs font-bold mt-1 ${v.submission.clean_video_url?"text-gray-900":"text-gray-400"}`,children:""})]}),e.jsxs("a",{href:v.submission.video_file_url,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center py-3 px-2 rounded-xl border-2 border-dashed border-green-200 bg-green-50 hover:bg-green-100",children:[e.jsx(_n,{size:20,className:"text-green-600"}),e.jsx("span",{className:"text-xs font-bold mt-1 text-gray-900",children:""})]})]}),Q&&e.jsxs(e.Fragment,{children:[((F=v.submission)==null?void 0:F.video_file_url)&&((ye=v.submission)==null?void 0:ye.status)!=="revision_requested"&&e.jsx("div",{className:"bg-violet-50 border border-violet-200 rounded-xl p-3 mb-3",children:e.jsxs("p",{className:"text-xs text-violet-700 font-medium",children:["    . V",ae+1," . ( V10)"]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",e.jsx("span",{className:"text-xs text-gray-400",children:"()"})]}),e.jsx("input",{type:"file",accept:"video/*",onChange:Y=>le(W,"clean",Y),disabled:f,className:"hidden",id:`clean-video-${W}`}),e.jsx("label",{htmlFor:`clean-video-${W}`,className:`flex items-center justify-center gap-2 w-full py-3 border-2 border-dashed rounded-xl cursor-pointer transition-colors text-sm ${v.cleanFile||v.cleanUrl?"border-green-300 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:v.cleanFile?e.jsxs(e.Fragment,{children:[e.jsx(kn,{size:16,className:"text-green-600"}),e.jsx("span",{className:"text-green-700 font-medium truncate max-w-[150px]",children:v.cleanFile.name})]}):v.cleanUrl?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{size:16,className:"text-green-600"}),e.jsx("span",{className:"text-green-700 font-medium",children:" "})]}):e.jsxs(e.Fragment,{children:[e.jsx(es,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-500",children:" "})]})}),R&&(_==null?void 0:_.type)==="clean"&&e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:"bg-green-600 h-1 rounded-full",style:{width:`${g}%`}})})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),e.jsx("input",{type:"file",accept:"video/*",onChange:Y=>le(W,"edited",Y),disabled:f,className:"hidden",id:`edited-video-${W}`}),e.jsx("label",{htmlFor:`edited-video-${W}`,className:`flex items-center justify-center gap-2 w-full py-3 border-2 border-dashed rounded-xl cursor-pointer transition-colors text-sm ${v.editedFile||v.editedUrl?"border-green-300 bg-green-50":"border-gray-200 hover:border-green-300"}`,children:v.editedFile?e.jsxs(e.Fragment,{children:[e.jsx(kn,{size:16,className:"text-green-600"}),e.jsx("span",{className:"text-green-700 font-medium truncate max-w-[150px]",children:v.editedFile.name})]}):v.editedUrl?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{size:16,className:"text-green-600"}),e.jsx("span",{className:"text-green-700 font-medium",children:" "})]}):e.jsxs(e.Fragment,{children:[e.jsx(_n,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-500",children:" "})]})}),R&&(_==null?void 0:_.type)==="edited"&&e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:"bg-green-600 h-1 rounded-full",style:{width:`${g}%`}})})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),e.jsx("input",{type:"text",value:v.title,onChange:Y=>M(W,{title:Y.target.value}),placeholder:"SNS  ",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("textarea",{value:v.content,onChange:Y=>M(W,{content:Y.target.value}),placeholder:"SNS  ",rows:3,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[e.jsx(ot,{size:14}),""]}),e.jsx("input",{type:"text",value:v.hashtags,onChange:Y=>M(W,{hashtags:Y.target.value}),placeholder:"# #",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsx("button",{onClick:()=>B(W),disabled:x||f,className:"w-full py-3 bg-green-600 text-white rounded-xl font-bold text-sm hover:bg-green-700 disabled:opacity-50 flex items-center justify-center gap-2",children:x||R?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"w-4 h-4 animate-spin"}),R?" ...":" ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(St,{size:16}),(ve=v.submission)!=null&&ve.video_file_url?`V${ae+1} `:` ${W} `]})})]}),!Q&&v.submission&&e.jsx("div",{className:"bg-gray-100 border border-gray-200 rounded-xl p-3 text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:"  (V10) ."})}),((de=v.submission)==null?void 0:de.video_file_url)&&e.jsx("div",{className:`rounded-xl p-3 text-center ${v.submission.status==="approved"?"bg-green-50":"bg-blue-50"}`,children:e.jsx("p",{className:`text-sm font-medium ${v.submission.status==="approved"?"text-green-800":"text-blue-800"}`,children:v.submission.status==="approved"?"  !":"  "})})]})]})};if(o)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"w-10 h-10 animate-spin text-green-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:" ..."})]})});const re=(b==null?void 0:b.partnership_code)||(k==null?void 0:k.partnership_code)||`OLIVEYOUNG_${((S=(me=b==null?void 0:b.id)==null?void 0:me.slice(0,6))==null?void 0:S.toUpperCase())||"CODE"}`;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center",children:[e.jsx("button",{onClick:()=>d("/my/applications"),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full",children:e.jsx(Ks,{size:20,className:"text-gray-700"})}),e.jsx("h1",{className:"flex-1 text-center font-bold text-gray-900",children:"  "}),e.jsx("div",{className:"w-10"})]})}),e.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl p-4 text-white",children:[e.jsx("p",{className:"text-xs opacity-80",children:k==null?void 0:k.brand}),e.jsx("p",{className:"font-bold",children:k==null?void 0:k.title})]}),H&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-4 flex items-start gap-3",children:[e.jsx(Ee,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-green-800 font-medium",children:H})]}),O&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 flex items-start gap-3",children:[e.jsx(Ts,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-800 font-medium",children:O})]}),(k==null?void 0:k.ad_code_required)&&e.jsxs("div",{className:"bg-gray-900 rounded-2xl p-4",children:[e.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:[(b==null?void 0:b.creator_name)||"","  "]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 bg-gray-800 rounded-xl px-4 py-2",children:e.jsx("p",{className:"text-white font-mono font-bold",children:re})}),e.jsxs("button",{onClick:()=>ne(re),className:"flex items-center gap-1 px-3 py-2 bg-white rounded-xl text-sm font-bold",children:[G?e.jsx(rt,{size:14}):e.jsx(ta,{size:14}),G?"":""]})]})]}),ue(1),ue(2),e.jsxs("div",{className:"bg-green-50 rounded-2xl p-4",children:[e.jsx("h3",{className:"text-sm font-bold text-green-900 mb-2",children:"  "}),e.jsxs("ul",{className:"text-xs text-green-800 space-y-1",children:[e.jsx("li",{children:"   2  2 ."}),e.jsx("li",{children:"   . (V1  V2  ... V10)"}),e.jsx("li",{children:"  /  ."}),e.jsx("li",{children:"    SNS ."})]})]})]})]})}function xy(){var S,W;const{campaignId:i}=Ca(),d=Qe(),[o,m]=h.useState(!0),[x,n]=h.useState(!1),[f,j]=h.useState(!1),[g,z]=h.useState(0),[_,A]=h.useState(null),[k,C]=h.useState(null),[b,J]=h.useState(null),[K,T]=h.useState({1:{cleanFile:null,cleanUrl:"",editedFile:null,editedUrl:"",title:"",content:"",hashtags:"",submission:null,allVersions:[],expanded:!0},2:{cleanFile:null,cleanUrl:"",editedFile:null,editedUrl:"",title:"",content:"",hashtags:"",submission:null,allVersions:[],expanded:!1},3:{cleanFile:null,cleanUrl:"",editedFile:null,editedUrl:"",title:"",content:"",hashtags:"",submission:null,allVersions:[],expanded:!1},4:{cleanFile:null,cleanUrl:"",editedFile:null,editedUrl:"",title:"",content:"",hashtags:"",submission:null,allVersions:[],expanded:!1}}),[O,w]=h.useState(""),[H,y]=h.useState(""),[G,D]=h.useState(!1),[$,ie]=h.useState({1:!1,2:!1,3:!1,4:!1});h.useEffect(()=>{be()},[i]);const be=async()=>{try{m(!0);const{data:{user:v}}=await se.auth.getUser();if(!v){d("/login");return}const{data:R,error:ae}=await se.from("campaigns").select("*").eq("id",i).single();if(ae)throw ae;C(R);const{data:Q,error:V}=await se.from("applications").select("*").eq("campaign_id",i).eq("user_id",v.id).single();if(V)throw V;J(Q);const P={...K};let ce=!1;for(let U=1;U<=4;U++){const{data:q}=await se.from("video_submissions").select("*").eq("application_id",Q.id).eq("week_number",U).order("version",{ascending:!1});if(q&&q.length>0){ce=!0;const F=q[0];P[U]={...P[U],cleanFile:null,cleanUrl:F.clean_video_url||"",editedFile:null,editedUrl:F.video_file_url||"",title:F.sns_title||"",content:F.sns_content||"",hashtags:F.hashtags||"",submission:F,allVersions:q,expanded:!F.video_file_url||F.status==="revision_requested"}}}T(P)}catch(v){console.error("Error fetching data:",v),w("  .")}finally{m(!1)}},M=(v,R,ae)=>{T(Q=>({...Q,[v]:{...Q[v],[R]:ae}}))},le=(v,R,ae)=>{const Q=ae.target.files[0];if(!Q)return;if(Q.size>2*1024*1024*1024){w("  2GB  .");return}if(!Q.type.startsWith("video/")){w("   .");return}M(v,R==="clean"?"cleanFile":"editedFile",Q),w("")},X=async(v,R,ae,Q=1)=>{try{j(!0),A({week:R,type:ae}),z(0);const{data:{user:V}}=await se.auth.getUser();if(!V)throw new Error(" .");const P=v.name.split(".").pop(),U=`videos/${`${V.id}_${i}_week${R}_v${Q}_${ae}_${Date.now()}.${P}`}`,{error:q}=await se.storage.from("campaign-videos").upload(U,v,{cacheControl:"3600",upsert:!1,onUploadProgress:ye=>{const ve=ye.loaded/ye.total*100;z(Math.round(ve))}});if(q)throw q;z(100);const{data:F}=se.storage.from("campaign-videos").getPublicUrl(U);return F.publicUrl}catch(V){throw console.error("Error uploading file:",V),V}finally{j(!1),A(null)}},B=async v=>{const R=K[v];if(!R.editedFile&&!R.editedUrl){w(`${v}  .`);return}if(!R.title.trim()){w(`${v}   .`);return}try{n(!0),w(""),y("");const{data:{user:ae}}=await se.auth.getUser();let Q=1;if(R.submission&&(Q=(R.submission.version||0)+1),Q>10){w(`${v}  10   .`);return}let V=R.cleanUrl,P=R.editedUrl;R.cleanFile&&(V=await X(R.cleanFile,v,"clean",Q)),R.editedFile&&(P=await X(R.editedFile,v,"edited",Q));const ce={application_id:b.id,campaign_id:i,user_id:ae.id,clean_video_url:V||null,video_file_url:P,sns_title:R.title,sns_content:R.content,hashtags:R.hashtags,week_number:v,version:Q,status:"submitted",submitted_at:new Date().toISOString()},{error:U}=await se.from("video_submissions").insert([ce]);if(U)throw U;try{const q=(k==null?void 0:k.company_name)||"";let F=k==null?void 0:k.company_phone;if(!F&&(k!=null&&k.company_id)){const{data:ye}=await se.from("user_profiles").select("phone").eq("id",k.company_id).single();F=ye==null?void 0:ye.phone}if(F){const{data:ye}=await se.from("user_profiles").select("name").eq("id",ae.id).single(),ve=(ye==null?void 0:ye.name)||"";await fetch("/.netlify/functions/send-alimtalk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({receiverNum:F.replace(/-/g,""),receiverName:q,templateCode:"025100001008",variables:{:q,:`${k.title} - ${v}`,:ve}})})}}catch(q){console.error("Notification error:",q)}y(`${v}  V${Q} !`),M(v,"expanded",!1),T(q=>({...q,[v]:{...q[v],cleanFile:null,editedFile:null}})),await be()}catch(ae){console.error("Error submitting video:",ae),w(`${v}   : `+ae.message)}finally{n(!1)}},ne=v=>{navigator.clipboard.writeText(v),D(!0),setTimeout(()=>D(!1),2e3)},L=v=>{if(!v)return null;const R={submitted:{label:" ",color:"bg-blue-500"},revision_requested:{label:" ",color:"bg-yellow-500"},approved:{label:"",color:"bg-green-500"}},ae=R[v.status]||R.submitted;return e.jsxs("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold text-white ${ae.color}`,children:[ae.label," V",v.version||1]})},ue={1:{bg:"from-red-500 to-orange-500",light:"bg-red-50 border-red-100",text:"text-red-600"},2:{bg:"from-orange-500 to-amber-500",light:"bg-orange-50 border-orange-100",text:"text-orange-600"},3:{bg:"from-amber-500 to-yellow-500",light:"bg-amber-50 border-amber-100",text:"text-amber-600"},4:{bg:"from-green-500 to-emerald-500",light:"bg-green-50 border-green-100",text:"text-green-600"}},re=v=>{var ce,U,q,F,ye,ve,de,Y,we;const R=K[v],ae=ue[v],Q=(_==null?void 0:_.week)===v,V=((ce=R.submission)==null?void 0:ce.version)||0,P=V<10;return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[e.jsxs("button",{onClick:()=>M(v,"expanded",!R.expanded),className:`w-full p-4 flex items-center justify-between ${ae.light} border-b`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${ae.bg} rounded-xl flex items-center justify-center shadow-sm`,children:e.jsx(Bs,{size:18,className:"text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsxs("p",{className:"font-bold text-gray-900",children:[v,""]}),R.submission&&e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(R.submission.submitted_at).toLocaleDateString("ko-KR")," "]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[L(R.submission),R.expanded?e.jsx(Oi,{size:20,className:"text-gray-400"}):e.jsx(Sa,{size:20,className:"text-gray-400"})]})]}),R.expanded&&e.jsxs("div",{className:"p-4 space-y-4",children:[R.allVersions.length>1&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>ie(E=>({...E,[v]:!E[v]})),className:`flex items-center gap-2 text-sm ${ae.text} hover:opacity-80`,children:[e.jsx(Qm,{size:14}),"  (",R.allVersions.length,")"]}),$[v]&&e.jsx("div",{className:"mt-2 bg-gray-50 rounded-xl p-3 space-y-2",children:R.allVersions.map(E=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`font-bold ${ae.text}`,children:["V",E.version]}),e.jsx("span",{className:"text-gray-500",children:new Date(E.submitted_at).toLocaleDateString("ko-KR")})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold text-white ${E.status==="approved"?"bg-green-500":E.status==="revision_requested"?"bg-yellow-500":"bg-blue-500"}`,children:E.status==="approved"?"":E.status==="revision_requested"?"":""})]},E.id))})]}),((U=R.submission)==null?void 0:U.status)==="revision_requested"&&((q=R.submission)==null?void 0:q.feedback)&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ts,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-yellow-800 mb-1",children:" "}),e.jsx("p",{className:"text-sm text-yellow-700",children:R.submission.feedback})]})]})}),((F=R.submission)==null?void 0:F.video_file_url)&&((ye=R.submission)==null?void 0:ye.status)!=="revision_requested"&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("a",{href:R.submission.clean_video_url||"#",target:"_blank",rel:"noopener noreferrer",className:`flex flex-col items-center justify-center py-3 px-2 rounded-xl border-2 border-dashed ${R.submission.clean_video_url?`${ae.light} hover:bg-opacity-80`:"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed"}`,onClick:E=>!R.submission.clean_video_url&&E.preventDefault(),children:[e.jsx(es,{size:20,className:R.submission.clean_video_url?ae.text:"text-gray-400"}),e.jsx("span",{className:`text-xs font-bold mt-1 ${R.submission.clean_video_url?"text-gray-900":"text-gray-400"}`,children:""})]}),e.jsxs("a",{href:R.submission.video_file_url,target:"_blank",rel:"noopener noreferrer",className:`flex flex-col items-center justify-center py-3 px-2 rounded-xl border-2 border-dashed ${ae.light} hover:bg-opacity-80`,children:[e.jsx(_n,{size:20,className:ae.text}),e.jsx("span",{className:"text-xs font-bold mt-1 text-gray-900",children:""})]})]}),P&&e.jsxs(e.Fragment,{children:[((ve=R.submission)==null?void 0:ve.video_file_url)&&((de=R.submission)==null?void 0:de.status)!=="revision_requested"&&e.jsx("div",{className:"bg-violet-50 border border-violet-200 rounded-xl p-3 mb-3",children:e.jsxs("p",{className:"text-xs text-violet-700 font-medium",children:["    . V",V+1," . ( V10)"]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" ",e.jsx("span",{className:"text-xs text-gray-400",children:"()"})]}),e.jsx("input",{type:"file",accept:"video/*",onChange:E=>le(v,"clean",E),disabled:f,className:"hidden",id:`clean-video-week-${v}`}),e.jsx("label",{htmlFor:`clean-video-week-${v}`,className:`flex items-center justify-center gap-2 w-full py-3 border-2 border-dashed rounded-xl cursor-pointer transition-colors text-sm ${R.cleanFile||R.cleanUrl?"border-green-300 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:R.cleanFile?e.jsxs(e.Fragment,{children:[e.jsx(kn,{size:16,className:"text-green-600"}),e.jsx("span",{className:"text-green-700 font-medium truncate max-w-[150px]",children:R.cleanFile.name})]}):R.cleanUrl?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{size:16,className:"text-green-600"}),e.jsx("span",{className:"text-green-700 font-medium",children:" "})]}):e.jsxs(e.Fragment,{children:[e.jsx(es,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-500",children:" "})]})}),Q&&(_==null?void 0:_.type)==="clean"&&e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:`bg-gradient-to-r ${ae.bg} h-1 rounded-full`,style:{width:`${g}%`}})})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" *"}),e.jsx("input",{type:"file",accept:"video/*",onChange:E=>le(v,"edited",E),disabled:f,className:"hidden",id:`edited-video-week-${v}`}),e.jsx("label",{htmlFor:`edited-video-week-${v}`,className:`flex items-center justify-center gap-2 w-full py-3 border-2 border-dashed rounded-xl cursor-pointer transition-colors text-sm ${R.editedFile||R.editedUrl?"border-green-300 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:R.editedFile?e.jsxs(e.Fragment,{children:[e.jsx(kn,{size:16,className:"text-green-600"}),e.jsx("span",{className:"text-green-700 font-medium truncate max-w-[150px]",children:R.editedFile.name})]}):R.editedUrl?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{size:16,className:"text-green-600"}),e.jsx("span",{className:"text-green-700 font-medium",children:" "})]}):e.jsxs(e.Fragment,{children:[e.jsx(_n,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-500",children:" "})]})}),Q&&(_==null?void 0:_.type)==="edited"&&e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:`bg-gradient-to-r ${ae.bg} h-1 rounded-full`,style:{width:`${g}%`}})})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),e.jsx("input",{type:"text",value:R.title,onChange:E=>M(v,"title",E.target.value),placeholder:`${v}  `,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("textarea",{value:R.content,onChange:E=>M(v,"content",E.target.value),placeholder:"SNS  ",rows:3,className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[e.jsx(ot,{size:14}),""]}),e.jsx("input",{type:"text",value:R.hashtags,onChange:E=>M(v,"hashtags",E.target.value),placeholder:"# #",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsx("button",{onClick:()=>B(v),disabled:x||f,className:`w-full py-3 bg-gradient-to-r ${ae.bg} text-white rounded-xl font-bold text-sm hover:opacity-90 disabled:opacity-50 flex items-center justify-center gap-2`,children:x||Q?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"w-4 h-4 animate-spin"}),Q?" ...":" ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(St,{size:16}),(Y=R.submission)!=null&&Y.video_file_url?`V${V+1} `:`${v} `]})})]}),!P&&R.submission&&e.jsx("div",{className:"bg-gray-100 border border-gray-200 rounded-xl p-3 text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:"  (V10) ."})}),((we=R.submission)==null?void 0:we.video_file_url)&&e.jsx("div",{className:`${ae.light} rounded-xl p-3 text-center border`,children:e.jsx("p",{className:`text-sm font-medium ${R.submission.status==="approved"?"text-green-600":ae.text}`,children:R.submission.status==="approved"?"  !":"  "})})]})]},v)};if(o)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"w-10 h-10 animate-spin text-indigo-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:" ..."})]})});const me=(b==null?void 0:b.partnership_code)||(k==null?void 0:k.partnership_code)||`CHALLENGE_${((W=(S=b==null?void 0:b.id)==null?void 0:S.slice(0,6))==null?void 0:W.toUpperCase())||"CODE"}`;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center",children:[e.jsx("button",{onClick:()=>d("/my/applications"),className:"p-2 -ml-2 hover:bg-gray-100 rounded-full",children:e.jsx(Ks,{size:20,className:"text-gray-700"})}),e.jsx("h1",{className:"flex-1 text-center font-bold text-gray-900",children:"4  "}),e.jsx("div",{className:"w-10"})]})}),e.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl p-4 text-white",children:[e.jsx("p",{className:"text-xs opacity-80",children:k==null?void 0:k.brand}),e.jsx("p",{className:"font-bold",children:k==null?void 0:k.title})]}),H&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-4 flex items-start gap-3",children:[e.jsx(Ee,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-green-800 font-medium",children:H})]}),O&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 flex items-start gap-3",children:[e.jsx(Ts,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-800 font-medium",children:O})]}),(b==null?void 0:b.individualMessage)&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ts,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-blue-800 mb-1",children:" "}),e.jsx("p",{className:"text-sm text-blue-700 whitespace-pre-wrap",children:b.individualMessage})]})]})}),(k==null?void 0:k.ad_code_required)&&e.jsxs("div",{className:"bg-gray-900 rounded-2xl p-4",children:[e.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:[(b==null?void 0:b.creator_name)||"","  "]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 bg-gray-800 rounded-xl px-4 py-2",children:e.jsx("p",{className:"text-white font-mono font-bold",children:me})}),e.jsxs("button",{onClick:()=>ne(me),className:"flex items-center gap-1 px-3 py-2 bg-white rounded-xl text-sm font-bold",children:[G?e.jsx(rt,{size:14}):e.jsx(ta,{size:14}),G?"":""]})]})]}),[1,2,3,4].map(v=>re(v)),e.jsxs("div",{className:"bg-indigo-50 rounded-2xl p-4",children:[e.jsx("h3",{className:"text-sm font-bold text-indigo-900 mb-2",children:"  "}),e.jsxs("ul",{className:"text-xs text-indigo-800 space-y-1",children:[e.jsx("li",{children:" 1~4     ."}),e.jsx("li",{children:"   . (V1  V2  ... V10)"}),e.jsx("li",{children:"  /  ."}),e.jsx("li",{children:"    SNS ."})]})]})]})]})}const uy=()=>{const[i,d]=h.useState(!1);h.useEffect(()=>{const m=new Date,x=new Date(m.getTime()+540*60*1e3+m.getTimezoneOffset()*60*1e3),n=new Date(2026,1,18,23,59,59);if(x>n)return;const f=localStorage.getItem("holiday_popup_dismissed_until");f&&m.getTime()<Number(f)||d(!0)},[]);const o=()=>{const m=Date.now()+864e5;localStorage.setItem("holiday_popup_dismissed_until",String(m)),d(!1)};return i?e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center px-4 bg-black/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-[fadeInUp_0.3s_ease-out]",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-5 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bs,{size:18,className:"text-white/90"}),e.jsx("h2",{className:"text-white font-bold text-base",children:"  "})]}),e.jsx("button",{onClick:()=>d(!1),className:"text-white/80 hover:text-white transition-colors p-1",children:e.jsx(Fs,{size:20})})]}),e.jsxs("div",{className:"px-5 py-4 space-y-3",children:[e.jsxs("div",{className:"flex gap-3 items-start",children:[e.jsx("div",{className:"mt-0.5 w-8 h-8 rounded-full bg-amber-50 flex items-center justify-center flex-shrink-0",children:e.jsx(Lt,{size:16,className:"text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"2 13()  "}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"  16:00  "})]})]}),e.jsxs("div",{className:"flex gap-3 items-start",children:[e.jsx("div",{className:"mt-0.5 w-8 h-8 rounded-full bg-red-50 flex items-center justify-center flex-shrink-0",children:e.jsx(Ao,{size:16,className:"text-red-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"2 14() ~ 18() "}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"       "})]})]}),e.jsxs("div",{className:"flex gap-3 items-start",children:[e.jsx("div",{className:"mt-0.5 w-8 h-8 rounded-full bg-green-50 flex items-center justify-center flex-shrink-0",children:e.jsx(Eo,{size:16,className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"  "}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"    "})]})]}),e.jsxs("div",{className:"flex gap-3 items-start",children:[e.jsx("div",{className:"mt-0.5 w-8 h-8 rounded-full bg-purple-50 flex items-center justify-center flex-shrink-0",children:e.jsx(Bs,{size:16,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"   "}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"2 19()   "})]})]})]}),e.jsx("div",{className:"mx-5 mb-3 bg-purple-50 rounded-xl px-3.5 py-2.5",children:e.jsx("p",{className:"text-xs text-purple-800 leading-relaxed",children:"      ,        ."})}),e.jsxs("div",{className:"px-5 pb-4 space-y-2",children:[e.jsx("button",{onClick:()=>d(!1),className:"w-full py-3 bg-purple-600 text-white rounded-xl font-bold text-sm hover:bg-purple-700 transition-colors",children:""}),e.jsx("button",{onClick:o,className:"w-full py-2.5 text-gray-400 text-xs font-medium",children:"24   "})]})]}),e.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]}):null};function Jh({...i}){return e.jsx(sb,{"data-slot":"dropdown-menu",...i})}function Ph({...i}){return e.jsx(tb,{"data-slot":"dropdown-menu-trigger",...i})}function Wh({className:i,sideOffset:d=4,...o}){return e.jsx(ab,{children:e.jsx(lb,{"data-slot":"dropdown-menu-content",sideOffset:d,className:ps("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",i),...o})})}function mo({className:i,inset:d,variant:o="default",...m}){return e.jsx(rb,{"data-slot":"dropdown-menu-item","data-inset":d,"data-variant":o,className:ps("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...m})}function hy({className:i,...d}){return e.jsx(nb,{"data-slot":"dropdown-menu-separator",className:ps("bg-border -mx-1 my-1 h-px",i),...d})}const $m=({title:i,subtitle:d})=>{const{user:o,signOut:m}=xs(),{language:x,changeLanguage:n,t:f}=xl(),j=Qe(),[g,z]=h.useState(!1),_={ko:{adminDashboard:"CNEC  ",language:"",korean:"",japanese:"",backToSite:" ",logout:"",menu:"",dashboard:"",campaigns:" ",applications:" ",users:" ",withdrawals:" ",emailTemplates:" ",confirmedCreators:" ",snsUploads:"SNS "},ja:{adminDashboard:"CNEC ",language:"",korean:"",japanese:"",backToSite:"",logout:"",menu:"",dashboard:"",campaigns:" ",applications:" ",users:" ",withdrawals:" ",emailTemplates:" ",confirmedCreators:" ",snsUploads:"SNS "}},A=_[x]||_.ja,k=async()=>{try{await m(),j("/")}catch(b){console.error("Logout error:",b)}},C=[{path:"/dashboard",label:A.dashboard,icon:yr},{path:"/campaigns-manage",label:A.campaigns,icon:qa},{path:"/applications-manage",label:A.applications,icon:st},{path:"/user-approval",label:A.users,icon:st},{path:"/withdrawals-manage",label:A.withdrawals,icon:qa},{path:"/email-templates",label:A.emailTemplates,icon:qa},{path:"/confirmed-creators",label:A.confirmedCreators,icon:st},{path:"/sns-uploads",label:A.snsUploads,icon:qa}];return e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(ss,{to:"/dashboard",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"C"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:A.adminDashboard})]}),i&&e.jsxs("div",{className:"hidden md:block",children:[e.jsx("span",{className:"text-gray-400",children:"|"}),e.jsx("span",{className:"ml-4 text-lg font-medium text-gray-700",children:i}),d&&e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:d})]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsxs(Jh,{children:[e.jsx(Ph,{asChild:!0,children:e.jsxs(qe,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[e.jsx(og,{className:"h-4 w-4"}),e.jsx("span",{children:A.language}),e.jsx(Sa,{className:"h-4 w-4"})]})}),e.jsxs(Wh,{align:"end",children:[e.jsx(mo,{onClick:()=>n("ko"),className:x==="ko"?"bg-purple-50":"",children:A.korean}),e.jsx(mo,{onClick:()=>n("ja"),className:x==="ja"?"bg-purple-50":"",children:A.japanese})]})]}),e.jsxs(Jh,{children:[e.jsx(Ph,{asChild:!0,children:e.jsxs(qe,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[e.jsx(st,{className:"h-4 w-4"}),e.jsx("span",{children:o==null?void 0:o.email}),e.jsx(Sa,{className:"h-4 w-4"})]})}),e.jsxs(Wh,{align:"end",children:[e.jsx(mo,{asChild:!0,children:e.jsxs(ss,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"h-4 w-4"}),e.jsx("span",{children:A.backToSite})]})}),e.jsx(hy,{}),e.jsxs(mo,{onClick:k,className:"text-red-600",children:[e.jsx(Ui,{className:"h-4 w-4 mr-2"}),A.logout]})]})]})]}),e.jsx("div",{className:"md:hidden",children:e.jsx(qe,{variant:"outline",size:"sm",onClick:()=>z(!g),children:g?e.jsx(Fs,{className:"h-4 w-4"}):e.jsx(Ym,{className:"h-4 w-4"})})})]}),g&&e.jsx("div",{className:"md:hidden border-t bg-white",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[C.map(b=>e.jsx(ss,{to:b.path,className:"block px-3 py-2 text-base font-medium text-gray-700 hover:text-purple-600 hover:bg-purple-50 rounded-md",onClick:()=>z(!1),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b.icon,{className:"h-4 w-4"}),e.jsx("span",{children:b.label})]})},b.path)),e.jsxs("div",{className:"px-3 py-2",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:A.language}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(qe,{variant:x==="ko"?"default":"outline",size:"sm",onClick:()=>n("ko"),children:A.korean}),e.jsx(qe,{variant:x==="ja"?"default":"outline",size:"sm",onClick:()=>n("ja"),children:A.japanese})]})]}),e.jsxs("div",{className:"px-3 py-2 border-t",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:o==null?void 0:o.email}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(ss,{to:"/",children:e.jsxs(qe,{variant:"outline",size:"sm",className:"flex items-center space-x-1",children:[e.jsx(yr,{className:"h-3 w-3"}),e.jsx("span",{children:A.backToSite})]})}),e.jsxs(qe,{variant:"outline",size:"sm",onClick:k,className:"flex items-center space-x-1 text-red-600",children:[e.jsx(Ui,{className:"h-3 w-3"}),e.jsx("span",{children:A.logout})]})]})]})]})})]})})},nt=()=>{const{language:i}=xl(),d=zn(),[o,m]=h.useState(!1),x={ko:{dashboard:"",campaigns:" ",applications:" ",confirmedCreators:" ",snsUploads:"SNS ",users:" ",withdrawals:" ",emailTemplates:" ",statistics:" ",settings:" "},ja:{dashboard:"",campaigns:" ",applications:"",confirmedCreators:" ",snsUploads:"SNS ",users:" ",withdrawals:" ",emailTemplates:" ",statistics:"",settings:""}},n=x[i]||x.ko,f=[{path:"/dashboard",label:n.dashboard,icon:yr,exact:!0},{path:"/campaigns-manage",label:n.campaigns,icon:Oa},{path:"/applications-manage",label:n.applications,icon:it},{path:"/confirmed-creators",label:n.confirmedCreators,icon:Nt},{path:"/sns-uploads",label:n.snsUploads,icon:Xm},{path:"/user-approval",label:n.users,icon:Nt},{path:"/withdrawals-manage",label:n.withdrawals,icon:Ti},{path:"/email-templates",label:n.emailTemplates,icon:ra},{path:"/system-settings",label:n.settings,icon:qa}],j=g=>g.exact?d.pathname===g.path:d.pathname.startsWith(g.path);return e.jsxs("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsx("div",{className:"hidden md:flex md:space-x-8",children:f.map(g=>{const z=g.icon,_=j(g);return g.disabled?e.jsxs("div",{className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-400 cursor-not-allowed",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),g.label]},g.path):e.jsxs(ss,{to:g.path,className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200 ${_?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),g.label]},g.path)})}),e.jsx("div",{className:"md:hidden flex items-center",children:e.jsx("button",{onClick:()=>m(!o),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-purple-500",children:o?e.jsx(Fs,{className:"block h-6 w-6"}):e.jsx(Ym,{className:"block h-6 w-6"})})})]})}),o&&e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"pt-2 pb-3 space-y-1",children:f.map(g=>{const z=g.icon,_=j(g);return g.disabled?e.jsxs("div",{className:"flex items-center pl-3 pr-4 py-2 text-base font-medium text-gray-400 cursor-not-allowed",children:[e.jsx(z,{className:"w-5 h-5 mr-3"}),g.label]},g.path):e.jsxs(ss,{to:g.path,className:`flex items-center pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200 ${_?"bg-purple-50 border-purple-500 text-purple-700":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300"}`,onClick:()=>m(!1),children:[e.jsx(z,{className:"w-5 h-5 mr-3"}),g.label]},g.path)})})})]})},gy=()=>{const{user:i,signOut:d}=xs(),{language:o}=xl(),m=Qe(),x={ko:{title:"CNEC  ",totalCampaigns:" ",activeCampaigns:" ",totalApplications:" ",totalUsers:" ",totalRewards:" ",pendingApplications:" ",campaignManagement:" ",applicationManagement:" ",userApproval:" ",withdrawalManagement:" ",emailTemplates:" ",logout:"",loading:"  ...",error:"  .",admin:""},ja:{title:"CNEC ",totalCampaigns:"",activeCampaigns:"",totalApplications:"",totalUsers:"",totalRewards:"",pendingApplications:"",campaignManagement:" ",applicationManagement:"",userApproval:" ",withdrawalManagement:" ",emailTemplates:" ",logout:"",loading:" ...",error:"",admin:""}},n=x[o]||x.ko,[f,j]=h.useState({totalCampaigns:0,activeCampaigns:0,totalApplications:0,totalRewards:0,totalUsers:0,pendingApplications:0}),[g,z]=h.useState(!0),[_,A]=h.useState("");h.useEffect(()=>{if(!i){m("/secret-admin-login");return}if(!["mkt_biz@cnec.co.kr","admin@cnec.test","acrossx@howlab.co.kr"].some(J=>{var K;return(K=i.email)==null?void 0:K.includes(J)})){m("/");return}k()},[i,m]);const k=async()=>{try{z(!0),A(""),console.log("    ...");let C=[],b=[],J=[];try{console.log("   ..."),C=await Be.campaigns.getAll(),console.log(`   : ${C.length}`)}catch(G){throw console.error("   :",G),new Error(`   : ${G.message}`)}try{console.log("   ..."),b=await Be.applications.getAll(),console.log(`   : ${b.length}`)}catch(G){throw console.error("   :",G),new Error(`   : ${G.message}`)}try{console.log("   ..."),J=await Be.users.getAll(),console.log(`   : ${J.length}`)}catch(G){console.error("   :",G),console.log("    ..."),J=[]}const K=C.length,T=C.filter(G=>G.status==="active").length,O=b.length,w=b.filter(G=>G.status==="pending").length,H=J.length,y=b.filter(G=>G.status==="approved"||G.status==="completed"||G.status==="paid").reduce((G,D)=>{var $;return G+((($=D.campaigns)==null?void 0:$.reward_amount)||0)},0);j({totalCampaigns:K,activeCampaigns:T,totalApplications:O,totalRewards:y,totalUsers:H,pendingApplications:w}),console.log("  :",{totalCampaigns:K,activeCampaigns:T,totalApplications:O,totalRewards:y,totalUsers:H,pendingApplications:w})}catch(C){console.error("     :",C),A(`${n.error} ${C.message}`)}finally{z(!1),console.log("  .")}};return g?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:n.loading})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx($m,{title:n.title}),e.jsx(nt,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[_&&e.jsx(yt,{className:"mb-6 border-red-200 bg-red-50",children:e.jsx(vt,{className:"text-red-800",children:_})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(_s,{children:[e.jsxs(zs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Es,{className:"text-sm font-medium",children:n.totalCampaigns}),e.jsx(Oa,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(As,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f.totalCampaigns}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.activeCampaigns,": ",f.activeCampaigns,o==="ko"?"":""]})]})]}),e.jsxs(_s,{children:[e.jsxs(zs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Es,{className:"text-sm font-medium",children:n.totalApplications}),e.jsx(it,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(As,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f.totalApplications}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.pendingApplications,": ",f.pendingApplications,o==="ko"?"":""]})]})]}),e.jsxs(_s,{children:[e.jsxs(zs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Es,{className:"text-sm font-medium",children:n.totalUsers}),e.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(As,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f.totalUsers}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o==="ko"?" ":""})]})]}),e.jsxs(_s,{children:[e.jsxs(zs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Es,{className:"text-sm font-medium",children:n.totalRewards}),e.jsx(Kl,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(As,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",f.totalRewards.toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o==="ko"?" /":"/"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(_s,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(zs,{children:[e.jsxs(Es,{className:"flex items-center space-x-2",children:[e.jsx(Oa,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{children:n.campaignManagement})]}),e.jsx(at,{children:o==="ko"?" , ,    ":""})]}),e.jsx(As,{children:e.jsx(ss,{to:"/campaigns-manage",children:e.jsx(qe,{className:"w-full",children:o==="ko"?" ":" "})})})]}),e.jsxs(_s,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(zs,{children:[e.jsxs(Es,{className:"flex items-center space-x-2",children:[e.jsx(it,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:n.applicationManagement})]}),e.jsx(at,{children:o==="ko"?"    /":"/"})]}),e.jsx(As,{children:e.jsx(ss,{to:"/applications-report",children:e.jsx(qe,{className:"w-full",variant:"outline",children:o==="ko"?" ":""})})})]}),e.jsxs(_s,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(zs,{children:[e.jsxs(Es,{className:"flex items-center space-x-2",children:[e.jsx(Ti,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:n.withdrawalManagement})]}),e.jsx(at,{children:o==="ko"?"     ":""})]}),e.jsx(As,{children:e.jsx(ss,{to:"/withdrawals-manage",children:e.jsx(qe,{className:"w-full",variant:"outline",children:o==="ko"?" ":""})})})]}),e.jsxs(_s,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(zs,{children:[e.jsxs(Es,{className:"flex items-center space-x-2",children:[e.jsx(Nt,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{children:n.userApproval})]}),e.jsx(at,{children:o==="ko"?"     ":""})]}),e.jsx(As,{children:e.jsx(ss,{to:"/user-approval",children:e.jsx(qe,{className:"w-full",variant:"outline",children:o==="ko"?" ":" "})})})]}),e.jsxs(_s,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(zs,{children:[e.jsxs(Es,{className:"flex items-center space-x-2",children:[e.jsx(Xm,{className:"h-5 w-5 text-red-600"}),e.jsx("span",{children:o==="ko"?"  ":""})]}),e.jsx(at,{children:o==="ko"?"    ":""})]}),e.jsx(As,{children:e.jsx(qe,{className:"w-full",variant:"outline",disabled:!0,children:o==="ko"?"  ()":""})})]}),e.jsxs(_s,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(zs,{children:[e.jsxs(Es,{className:"flex items-center space-x-2",children:[e.jsx(qa,{className:"h-5 w-5 text-indigo-600"}),e.jsx("span",{children:n.emailTemplates})]}),e.jsx(at,{children:o==="ko"?"    ":" "})]}),e.jsx(As,{children:e.jsx(ss,{to:"/email-templates",children:e.jsx(qe,{className:"w-full",variant:"outline",children:o==="ko"?" ":""})})})]}),e.jsxs(_s,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsxs(zs,{children:[e.jsxs(Es,{className:"flex items-center space-x-2",children:[e.jsx(qa,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{children:o==="ko"?" ":""})]}),e.jsx(at,{children:o==="ko"?"    ":""})]}),e.jsx(As,{children:e.jsx(qe,{className:"w-full",variant:"outline",disabled:!0,children:o==="ko"?"  ()":""})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(_s,{children:[e.jsxs(zs,{children:[e.jsx(Es,{children:" "}),e.jsx(at,{children:"    "})]}),e.jsx(As,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"  "}),e.jsx("p",{className:"text-xs text-gray-500",children:"   3 "})]}),e.jsx("span",{className:"text-xs text-gray-400",children:"2 "})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:" "}),e.jsx("p",{className:"text-xs text-gray-500",children:" 2   "})]}),e.jsx("span",{className:"text-xs text-gray-400",children:"5 "})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"  "}),e.jsx("p",{className:"text-xs text-gray-500",children:"5   "})]}),e.jsx("span",{className:"text-xs text-gray-400",children:"1 "})]})]})})]})})]})]})},py=()=>{const i=Qe(),{language:d}=xl(),[o,m]=h.useState([]),[x,n]=h.useState([]),[f,j]=h.useState(!0),[g,z]=h.useState(""),[_,A]=h.useState(""),[k,C]=h.useState("all");h.useEffect(()=>{b()},[]);const b=async()=>{try{j(!0),z(""),console.log("     ");const y=await Be.campaigns.getAll();console.log("  :",y),m(y||[]);const G=await Be.applications.getAll();console.log("  :",G),n(G||[])}catch(y){console.error("  :",y),z(`  : ${y.message}`)}finally{j(!1)}},J=async(y,G)=>{try{await Be.campaigns.update(y,{status:G}),await b(),alert(`  ${G==="active"?"":G==="completed"?"":""} .`)}catch(D){console.error("  :",D),alert("  .")}},K=async(y,G)=>{if(confirm(`"${G}"   ?

    .`))try{await Be.campaigns.delete(y),await b(),alert(" .")}catch(D){console.error(" :",D),alert("  .")}},T=y=>y?new Date(y).toLocaleDateString("ko-KR"):"-",O=y=>y?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(y):"-",w=y=>{const G=x.filter(ie=>ie.campaign_id===y),D=G.length,$=G.filter(ie=>ie.status==="approved").length;return{totalApplicants:D,confirmedApplicants:$}};if(f)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("span",{children:" ..."})]})})})]});const H=o.filter(y=>{var G,D;return!(_&&!((G=y.brand)!=null&&G.toLowerCase().includes(_.toLowerCase()))&&!((D=y.title)!=null&&D.toLowerCase().includes(_.toLowerCase()))||k==="active"&&y.status!=="active"||k==="completed"&&y.status!=="completed")});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-2",children:"  "})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:b,disabled:f,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:""}),e.jsx("button",{onClick:()=>i("/campaign-create"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"  "})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(is,{placeholder:"   ",value:_,onChange:y=>A(y.target.value),className:"pl-10"})]}),e.jsx(qe,{variant:"outline",onClick:()=>A(""),className:"border-gray-300",children:""})]}),e.jsx(Bg,{value:k,onValueChange:C,className:"w-full",children:e.jsxs(Gg,{className:"grid w-full grid-cols-3",children:[e.jsx(Nn,{value:"all",children:" "}),e.jsx(Nn,{value:"active",children:" "}),e.jsx(Nn,{value:"completed",children:" "})]})})]}),g&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:g})})})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsxs("ul",{className:"divide-y divide-gray-200",children:[H.map(y=>e.jsx("li",{children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 truncate",children:y.title||" "}),e.jsx("div",{className:"ml-2",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y.status==="active"?"bg-green-100 text-green-800":y.status==="completed"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:y.status==="active"?"":y.status==="completed"?"":""})})]}),e.jsxs("div",{className:"mt-2 flex",children:[e.jsx("div",{className:"flex items-center text-sm text-gray-500",children:e.jsxs("p",{children:[": ",y.brand||"-"]})}),e.jsx("div",{className:"ml-6 flex items-center text-sm text-gray-500",children:e.jsxs("p",{children:[": ",O(y.reward_amount)]})}),e.jsx("div",{className:"ml-6 flex items-center text-sm text-gray-500",children:e.jsxs("p",{children:[": ",T(y.application_deadline)]})})]}),e.jsx("div",{className:"mt-2 flex",children:e.jsx("div",{className:"flex items-center text-sm text-blue-600 font-medium",children:(()=>{const G=w(y.id);return e.jsxs("p",{children:[": ",y.max_participants||"-"," | : ",G.totalApplicants," | : ",G.confirmedApplicants,""]})})()})})]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:y.status||"inactive",onChange:G=>J(y.id,G.target.value),className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:""}),e.jsx("option",{value:"inactive",children:""}),e.jsx("option",{value:"completed",children:""}),e.jsx("option",{value:"suspended",children:""})]}),e.jsx("button",{onClick:()=>i(`/applications-report?campaign=${y.id}`),className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:" "}),e.jsx("button",{onClick:()=>i(`/campaign-create?edit=${y.id}`),className:"inline-flex items-center px-3 py-1 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100",children:""}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsxs("button",{onClick:()=>window.open(`/company-report/${y.id}`,"_blank"),className:"inline-flex items-center px-3 py-1 border border-purple-300 shadow-sm text-sm leading-4 font-medium rounded-l-md text-purple-700 bg-purple-50 hover:bg-purple-100",title:" ",children:[e.jsx(it,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs("button",{onClick:()=>window.open(`/confirmed-creators/${y.id}`,"_blank"),className:"inline-flex items-center px-3 py-1 border border-green-300 shadow-sm text-sm leading-4 font-medium text-green-700 bg-green-50 hover:bg-green-100",title:"  ",children:[e.jsx(Nt,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs("button",{onClick:()=>window.open(`/sns-uploads/${y.id}`,"_blank"),className:"inline-flex items-center px-3 py-1 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-r-md text-blue-700 bg-blue-50 hover:bg-blue-100",title:"SNS  ",children:[e.jsx(Xm,{className:"h-4 w-4 mr-1"}),"SNS"]})]}),e.jsx("button",{onClick:()=>K(y.id,y.title),className:"inline-flex items-center px-3 py-1 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-red-50 hover:bg-red-100",children:""})]})]})})},y.id)),H.length===0&&e.jsx("li",{children:e.jsx("div",{className:"px-4 py-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:_||k!=="all"?"    .":"  ."})})})]})})]})]})};function sa({className:i,...d}){return e.jsx("textarea",{"data-slot":"textarea",className:ps("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),...d})}const fy=()=>{const i=Qe(),[d]=zo(),o=d.get("edit"),[m,x]=h.useState({title:"",brand:"",description:"",requirements:"",category:"youtube",image_url:"",product_name:"",product_description:"",product_link:"",product_detail_file_url:"",reward_points:"",total_slots:"",remaining_slots:"",application_deadline:"",start_date:"",end_date:"",status:"active",target_platforms:{instagram:!1,youtube:!0,tiktok:!1},question1:"",question2:"",question3:"",question4:""}),[n,f]=h.useState(1),[j,g]=h.useState(!1),[z,_]=h.useState(""),[A,k]=h.useState(""),[C,b]=h.useState(!1),[J,K]=h.useState(null),T=[{value:"youtube",label:"  ",platforms:{youtube:!0,instagram:!1,tiktok:!1}},{value:"instagram",label:"  ",platforms:{instagram:!0,youtube:!1,tiktok:!1}},{value:"4week_challenge",label:" 4 ",platforms:{instagram:!0,youtube:!0,tiktok:!0}}];h.useEffect(()=>{o&&O()},[o]);const O=async()=>{try{const{data:D,error:$}=await database.from("campaigns").select("*").eq("id",o).single();if($)throw $;if(D){x({...D,target_platforms:D.target_platforms||{instagram:!0,youtube:!1,tiktok:!1}});let ie=0;D.question1&&(ie=1),D.question2&&(ie=2),D.question3&&(ie=3),D.question4&&(ie=4),f(ie||1)}}catch(D){console.error("   :",D),_("   .")}},w=D=>{const $=T.find(ie=>ie.value===D);x(ie=>({...ie,category:D,target_platforms:$?$.platforms:ie.target_platforms}))},H=async D=>{var ie;const $=(ie=D.target.files)==null?void 0:ie[0];if($){b(!0),_("");try{const be=$.name.split(".").pop(),le=`campaign-images/${`${Math.random().toString(36).substring(2)}.${be}`}`,{error:X}=await co.from("campaign-images").upload(le,$);if(X)throw X;const{data:{publicUrl:B}}=co.from("campaign-images").getPublicUrl(le);x(ne=>({...ne,image_url:B})),k(" !")}catch(be){console.error("  :",be),_("  : "+be.message)}finally{b(!1)}}},y=async D=>{var ie;const $=(ie=D.target.files)==null?void 0:ie[0];if($){b(!0),_("");try{const be=$.name.split(".").pop(),le=`campaign-images/${`product-detail-${Math.random().toString(36).substring(2)}.${be}`}`,{error:X}=await co.from("campaign-images").upload(le,$);if(X)throw X;const{data:{publicUrl:B}}=co.from("campaign-images").getPublicUrl(le);x(ne=>({...ne,product_detail_file_url:B})),k("   !")}catch(be){console.error("    :",be),_("    : "+be.message)}finally{b(!1)}}},G=async D=>{D.preventDefault(),g(!0),_(""),k("");try{const $=[m.question1,m.question2,m.question3,m.question4].filter(L=>L&&L.trim()!=="").map(L=>({question:L})),{question1:ie,question2:be,question3:M,question4:le,target_platforms:X,...B}=m,ne={...B,reward_points:parseInt(m.reward_points)||0,total_slots:parseInt(m.total_slots)||0,remaining_slots:parseInt(m.remaining_slots)||parseInt(m.total_slots)||0,questions:$.length>0?$:null};if(o){const{error:L}=await se.from("campaigns").update(ne).eq("id",o);if(L)throw L;k(" !")}else{const{error:L}=await se.from("campaigns").insert([ne]);if(L)throw L;k(" !")}setTimeout(()=>{i("/campaigns-manage")},1500)}catch($){console.error("  :",$),_("  : "+$.message)}finally{g(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx(qe,{variant:"ghost",onClick:()=>i("/campaigns-manage"),children:"  "})}),e.jsxs(_s,{children:[e.jsx(zs,{children:e.jsx(Es,{className:"text-2xl",children:o?" ":"  "})}),e.jsx(As,{children:e.jsxs("form",{onSubmit:G,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(He,{htmlFor:"category",children:"  *"}),e.jsxs(Di,{value:m.category,onValueChange:w,children:[e.jsx(qi,{children:e.jsx(Li,{placeholder:" "})}),e.jsx(Ri,{children:T.map(D=>e.jsx(aa,{value:D.value,children:D.label},D.value))})]})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"title",children:"  *"}),e.jsx(is,{id:"title",value:m.title,onChange:D=>x($=>({...$,title:D.target.value})),placeholder:":    ",required:!0})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"brand",children:" *"}),e.jsx(is,{id:"brand",value:m.brand,onChange:D=>x($=>({...$,brand:D.target.value})),placeholder:": ",required:!0})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"description",children:"  *"}),e.jsx(sa,{id:"description",value:m.description,onChange:D=>x($=>({...$,description:D.target.value})),placeholder:"    ",rows:4,required:!0})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"requirements",children:" "}),e.jsx(sa,{id:"requirements",value:m.requirements,onChange:D=>x($=>({...$,requirements:D.target.value})),placeholder:":  1,000 ,    ",rows:3})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"reward_points",children:"  *"}),e.jsx(is,{id:"reward_points",type:"number",value:m.reward_points,onChange:D=>x($=>({...$,reward_points:D.target.value})),placeholder:": 100000",required:!0}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m.reward_points&&`${parseInt(m.reward_points).toLocaleString()}`})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"total_slots",children:"  *"}),e.jsx(is,{id:"total_slots",type:"number",value:m.total_slots,onChange:D=>{const $=D.target.value;x(ie=>({...ie,total_slots:$,remaining_slots:$}))},placeholder:": 10",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(He,{htmlFor:"application_deadline",children:"  *"}),e.jsx(is,{id:"application_deadline",type:"date",value:m.application_deadline,onChange:D=>x($=>({...$,application_deadline:D.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"start_date",children:"  *"}),e.jsx(is,{id:"start_date",type:"date",value:m.start_date,onChange:D=>x($=>({...$,start_date:D.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"end_date",children:"  *"}),e.jsx(is,{id:"end_date",type:"date",value:m.end_date,onChange:D=>x($=>({...$,end_date:D.target.value})),required:!0})]})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"image",children:" "}),e.jsx(is,{id:"image",type:"file",accept:"image/*",onChange:H,disabled:C}),C&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" ..."}),m.image_url&&e.jsx("img",{src:m.image_url,alt:"Preview",className:"mt-2 w-32 h-32 object-cover rounded"})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"   "}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(He,{htmlFor:"product_name",children:""}),e.jsx(is,{id:"product_name",value:m.product_name,onChange:D=>x($=>({...$,product_name:D.target.value})),placeholder:":   #01 "})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"product_description",children:" "}),e.jsx(sa,{id:"product_description",value:m.product_description,onChange:D=>x($=>({...$,product_description:D.target.value})),placeholder:" , ,    ",rows:4})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"product_link",children:"  (URL)"}),e.jsx(is,{id:"product_link",type:"url",value:m.product_link,onChange:D=>x($=>({...$,product_link:D.target.value})),placeholder:"https://example.com/product"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"      "})]}),e.jsxs("div",{className:"border-t pt-4 mt-4",children:[e.jsx(He,{htmlFor:"product_detail_image",children:"   "}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"       (: 10MB )"}),e.jsx(is,{id:"product_detail_image",type:"file",accept:"image/*",onChange:y,disabled:C}),C&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" ..."}),m.product_detail_file_url&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-green-600 mb-2",children:"    "}),e.jsx("img",{src:m.product_detail_file_url,alt:" ",className:"max-w-full h-auto rounded border",style:{maxHeight:"500px"}})]})]})]})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"status",children:" "}),e.jsxs(Di,{value:m.status,onValueChange:D=>x($=>({...$,status:D})),children:[e.jsx(qi,{children:e.jsx(Li,{})}),e.jsxs(Ri,{children:[e.jsx(aa,{value:"active",children:" "}),e.jsx(aa,{value:"closed",children:""}),e.jsx(aa,{value:"draft",children:""})]})]})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(He,{className:"text-lg font-semibold",children:"  ()"}),n<4&&e.jsx(qe,{type:"button",variant:"outline",size:"sm",onClick:()=>f(D=>Math.min(D+1,4)),children:"+  "})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"    4   ."}),e.jsxs("div",{className:"space-y-4",children:[n>=1&&e.jsxs("div",{children:[e.jsx(He,{htmlFor:"question1",children:" 1"}),e.jsx(sa,{id:"question1",value:m.question1,onChange:D=>x($=>({...$,question1:D.target.value})),placeholder:":       .",rows:2})]}),n>=2&&e.jsxs("div",{children:[e.jsx(He,{htmlFor:"question2",children:" 2"}),e.jsx(sa,{id:"question2",value:m.question2,onChange:D=>x($=>({...$,question2:D.target.value})),placeholder:":     .",rows:2})]}),n>=3&&e.jsxs("div",{children:[e.jsx(He,{htmlFor:"question3",children:" 3"}),e.jsx(sa,{id:"question3",value:m.question3,onChange:D=>x($=>({...$,question3:D.target.value})),placeholder:":     .",rows:2})]}),n>=4&&e.jsxs("div",{children:[e.jsx(He,{htmlFor:"question4",children:" 4"}),e.jsx(sa,{id:"question4",value:m.question4,onChange:D=>x($=>({...$,question4:D.target.value})),placeholder:":        ?",rows:2})]})]})]}),z&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:z}),A&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:A}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(qe,{type:"submit",disabled:j,className:"flex-1",children:j?" ...":o?"":""}),e.jsx(qe,{type:"button",variant:"outline",onClick:()=>i("/campaigns-manage"),children:""})]})]})})]})]})]})},by="modulepreload",jy=function(i){return"/"+i},Ih={},yy=function(d,o,m){let x=Promise.resolve();if(o&&o.length>0){let f=function(z){return Promise.all(z.map(_=>Promise.resolve(_).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const j=document.querySelector("meta[property=csp-nonce]"),g=(j==null?void 0:j.nonce)||(j==null?void 0:j.getAttribute("nonce"));x=f(o.map(z=>{if(z=jy(z),z in Ih)return;Ih[z]=!0;const _=z.endsWith(".css"),A=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${z}"]${A}`))return;const k=document.createElement("link");if(k.rel=_?"stylesheet":by,_||(k.as="script"),k.crossOrigin="",k.href=z,g&&k.setAttribute("nonce",g),document.head.appendChild(k),_)return new Promise((C,b)=>{k.addEventListener("load",C),k.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${z}`)))})}))}function n(f){const j=new Event("vite:preloadError",{cancelable:!0});if(j.payload=f,window.dispatchEvent(j),!j.defaultPrevented)throw f}return x.then(f=>{for(const j of f||[])j.status==="rejected"&&n(j.reason);return d().catch(n)})},vy={APPLICATION_APPROVED:{subject:"CNEC Korea   !",template:i=>`
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>CNEC Korea -   </title>
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }
        .content { background: white; padding: 30px; border: 1px solid #e0e0e0; }
        .footer { background: #f8f9fa; padding: 20px; text-align: center; border-radius: 0 0 10px 10px; }
        .button { display: inline-block; background: #28a745; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; margin: 10px 5px; }
        .success-box { background: #d4edda; border: 1px solid #c3e6cb; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .deadline-box { background: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 8px; margin: 20px 0; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1> !</h1>
            <p>  </p>
        </div>
        <div class="content">
            <div class="success-box">
                <h2> ${i.campaignTitle}</h2>
                <p><strong>${i.name}    !</strong></p>
            </div>

            <h3>  </h3>
            <div class="deadline-box">
                <p><strong>   :</strong> ${i.deadline}</p>
                <p><strong>   :</strong> ${i.shippingDate}</p>
                <p><strong>  :</strong> ${i.rewardAmount}</p>
            </div>

            <h3>  </h3>
            <ol>
                <li><strong>  </strong><br>
                        </li>
                <li><strong> </strong><br>
                        </li>
                <li><strong> </strong><br>
                        </li>
                <li><strong>SNS </strong><br>
                       SNS </li>
                <li><strong> URL </strong><br>
                       URL </li>
            </ol>

            <div style="text-align: center;">
                ${i.googleDriveLink?`<a href="${i.googleDriveLink}" class="button"> Google Drive</a>`:""}
                ${i.googleSlidesLink?`<a href="${i.googleSlidesLink}" class="button"> Google Slides</a>`:""}
                <a href="https://cnec.co.kr/profile" class="button"> </a>
            </div>

            <h3>  </h3>
            <ul>
                <li>   </li>
                <li>   </li>
                <li>   </li>
                <li>   URL </li>
            </ul>

            <p>   .<br>
               !</p>
        </div>
        <div class="footer">
            <p> 2025 CNEC Korea. All rights reserved.</p>
        </div>
    </div>
</body>
</html>
    `}},Ny=async(i,d,o)=>{var m,x;try{const n=vy[i];if(!n)return console.error(`Korean email template ${i} not found`),{success:!1,error:"Template not found"};const f={to:d,subject:n.subject,html:n.template(o),created_at:new Date().toISOString()},{data:j,error:g}=await se.from("email_logs").insert([{recipient_email:d,template_type:i,subject:n.subject,data:o,status:"pending",created_at:new Date().toISOString()}]);g&&console.error("Email log error:",g);const z=JSON.parse(localStorage.getItem("cnec_email_settings")||"{}");if(z.smtpHost&&z.smtpUser&&z.smtpPass)try{const k=await(await yy(()=>import("./gmailEmailService-CVslcUnJ.js"),[])).default.sendEmailDirect(d,n.subject,n.template(o));if(k.success)console.log("    :",{type:i,to:d,subject:n.subject,messageId:k.messageId}),(m=j==null?void 0:j[0])!=null&&m.id&&await se.from("email_logs").update({status:"sent",sent_at:new Date().toISOString(),message_id:k.messageId}).eq("id",j[0].id);else throw new Error(k.error||"  ")}catch(_){console.error("Gmail  :",_),console.log("   (Gmail ,  ):",{type:i,to:d,subject:n.subject,error:_.message})}else console.log("   (SMTP ,  ):",{type:i,to:d,subject:n.subject,note:"  Gmail SMTP    ."});return{success:!0,logId:(x=j==null?void 0:j[0])==null?void 0:x.id}}catch(n){return console.error("Send Korean email error:",n),{success:!1,error:n.message}}},wy={onApplicationApproved:async(i,d,o)=>{const m=d.deadline?new Date(d.deadline).toLocaleDateString("ko-KR"):" ",x=new Date;x.setDate(x.getDate()+3),await Ny("APPLICATION_APPROVED",o.email,{name:o.name||"",campaignTitle:d.title,deadline:m,shippingDate:x.toLocaleDateString("ko-KR"),rewardAmount:d.reward_amount||d.reward||0,googleDriveLink:i.google_drive_url||d.google_drive_link,googleSlidesLink:i.google_slides_url||d.google_slides_link})}},_y=({isOpen:i,onClose:d,application:o,campaign:m,onSave:x,processing:n,error:f,success:j,texts:g})=>{const[z,_]=h.useState({google_drive_url:"",google_slides_url:"",notes:""}),[A,k]=h.useState(!1),[C,b]=h.useState({drive:!1,slides:!1});h.useEffect(()=>{o&&(_({google_drive_url:o.google_drive_url||"",google_slides_url:o.google_slides_url||"",notes:o.additional_info||""}),k(!!o.google_drive_url||!!o.google_slides_url))},[o]);const J=(O,w)=>{navigator.clipboard.writeText(O).then(()=>{b(H=>({...H,[w]:!0})),setTimeout(()=>{b(H=>({...H,[w]:!1}))},2e3)})},K=()=>{x(z)};if(!i||!o)return null;const T=g||{};return e.jsx("div",{className:"fixed inset-0 z-[99999] overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 z-[99998] transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6 relative z-[99999]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:T.driveAccessTitle||"    "}),e.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Fs,{className:"h-6 w-6"})})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:T.driveAccessDescription||"   ( )  () ."}),f&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-3",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ts,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:f})})]})}),j&&e.jsx("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-md p-3",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ee,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:j})})]})}),e.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-md",children:e.jsx("p",{className:"text-sm text-blue-700",children:T.manualInputDescription||"   URL  .   ."})}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"google_drive_url",className:"block text-sm font-medium text-gray-700 mb-1",children:T.googleDriveUrl||"  URL ( )"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("input",{type:"text",id:"google_drive_url",value:z.google_drive_url,onChange:O=>_(w=>({...w,google_drive_url:O.target.value})),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pr-20 sm:text-sm border-gray-300 rounded-md",placeholder:"https://drive.google.com/..."}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:e.jsx("div",{className:"flex space-x-1 mr-2",children:z.google_drive_url&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>J(z.google_drive_url,"drive"),className:"inline-flex items-center p-1 border border-transparent rounded-md text-gray-400 hover:text-gray-600",title:"URL ",children:C.drive?e.jsx(Ee,{className:"h-4 w-4 text-green-500"}):e.jsx(ta,{className:"h-4 w-4"})}),e.jsx("a",{href:z.google_drive_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center p-1 border border-transparent rounded-md text-gray-400 hover:text-gray-600",title:"  ",children:e.jsx(ns,{className:"h-4 w-4"})})]})})})]}),A&&z.google_drive_url&&e.jsxs("div",{className:"mt-2 flex items-center p-3 bg-blue-50 rounded-md",children:[e.jsx(vn,{className:"h-5 w-5 text-blue-500 mr-2"}),e.jsx("a",{href:z.google_drive_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex-1 truncate",children:z.google_drive_url})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"google_slides_url",className:"block text-sm font-medium text-gray-700 mb-1",children:T.googleSlidesUrl||"  URL ()"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("input",{type:"text",id:"google_slides_url",value:z.google_slides_url,onChange:O=>_(w=>({...w,google_slides_url:O.target.value})),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pr-20 sm:text-sm border-gray-300 rounded-md",placeholder:"https://docs.google.com/presentation/..."}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:e.jsx("div",{className:"flex space-x-1 mr-2",children:z.google_slides_url&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>J(z.google_slides_url,"slides"),className:"inline-flex items-center p-1 border border-transparent rounded-md text-gray-400 hover:text-gray-600",title:"URL ",children:C.slides?e.jsx(Ee,{className:"h-4 w-4 text-green-500"}):e.jsx(ta,{className:"h-4 w-4"})}),e.jsx("a",{href:z.google_slides_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center p-1 border border-transparent rounded-md text-gray-400 hover:text-gray-600",title:"  ",children:e.jsx(ns,{className:"h-4 w-4"})})]})})})]}),A&&z.google_slides_url&&e.jsxs("div",{className:"mt-2 flex items-center p-3 bg-purple-50 rounded-md",children:[e.jsx(dg,{className:"h-5 w-5 text-purple-500 mr-2"}),e.jsx("a",{href:z.google_slides_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-purple-600 hover:underline flex-1 truncate",children:z.google_slides_url})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:T.notes||" "}),e.jsx("textarea",{id:"notes",value:z.notes,onChange:O=>_(w=>({...w,notes:O.target.value})),placeholder:"   ...",rows:3,className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:d,disabled:n,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:T.cancel||""}),e.jsxs("button",{onClick:K,disabled:n,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[n?e.jsx(Ue,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(Sn,{className:"h-4 w-4 mr-2"}),T.save||""]})]})]})]})})},eg=()=>{Qe();const{language:i}=xl(),[d]=zo(),o=d.get("campaign"),[m,x]=h.useState([]),[n,f]=h.useState([]),[j,g]=h.useState(!0),[z,_]=h.useState(!1),[A,k]=h.useState(""),[C,b]=h.useState(""),[J,K]=h.useState(o||""),[T,O]=h.useState(""),[w,H]=h.useState(""),[y,G]=h.useState(null),[D,$]=h.useState(!1),[ie,be]=h.useState(!1),[M,le]=h.useState({google_drive_url:"",google_slides_url:"",notes:"",campaign:null}),X={ko:{title:" ",subtitle:"   ",totalApplications:" ",pendingApplications:" ",virtuallySelected:" ",approvedApplications:"",rejectedApplications:"",filterByCampaign:" ",filterByStatus:" ",searchPlaceholder:",  ...",allCampaigns:" ",allStatuses:" ",pending:" ",virtualSelected:" ",approved:"",rejected:"",viewDetails:" ",approve:"",reject:"",virtualSelect:" ",cancelVirtualSelect:"  ",provideDriveAccess:" ",applicationDetails:"  ",campaignInfo:" ",applicantInfo:" ",questionsAndAnswers:"  ",name:"",email:"",age:"",skinType:" ",bio:"",socialMedia:" ",appliedAt:"",updatedAt:"",virtualSelectedAt:" ",approvedAt:"",rejectedAt:"",status:"",actions:"",close:"",confirm:"",cancel:"",loading:" ...",error:" .",success:" .",noApplications:" .",confirmApprove:"  ?",confirmReject:"  ?",confirmVirtualSelect:"   ?",confirmCancelVirtualSelect:"  ?",driveAccessTitle:"    ",driveAccessDescription:"   ( )  () .",googleDriveUrl:"  URL ( )",googleSlidesUrl:"  URL ()",notes:" ",save:"",exportExcel:"Excel ",autoGenerate:" ",autoGenerateDescription:"    URL  ."},ja:{title:"",subtitle:"",totalApplications:"",pendingApplications:"",virtuallySelected:"",approvedApplications:"",rejectedApplications:"",filterByCampaign:"",filterByStatus:"",searchPlaceholder:"...",allCampaigns:"",allStatuses:"",pending:"",virtualSelected:"",approved:"",rejected:"",viewDetails:"",approve:"",reject:"",virtualSelect:"",cancelVirtualSelect:"",provideDriveAccess:"",applicationDetails:"",campaignInfo:"",applicantInfo:"",questionsAndAnswers:"",name:"",email:"",age:"",skinType:"",bio:"",socialMedia:"",appliedAt:"",updatedAt:"",virtualSelectedAt:"",approvedAt:"",rejectedAt:"",status:"",actions:"",close:"",confirm:"",cancel:"",loading:" ...",error:" ",success:"",noApplications:"",confirmApprove:"",confirmReject:"",confirmVirtualSelect:"",confirmCancelVirtualSelect:"",driveAccessTitle:"Google",driveAccessDescription:"GoogleGoogle",googleDriveUrl:"Google URL",googleSlidesUrl:"Google URL",notes:"",save:"",exportExcel:"Excel ",autoGenerate:"",autoGenerateDescription:"URL"}},B=X[i]||X.ko;h.useEffect(()=>{console.log("ApplicationsReportSimple "),L(),ne()},[]);const ne=async()=>{},L=async()=>{try{g(!0),k(""),console.log("   "),console.log("1:   ...");try{const V=await Be.campaigns.getAll();f(V||[]),console.log("   :",(V==null?void 0:V.length)||0)}catch(V){console.warn("   :",V),f([])}console.log("2:   ...");try{const V=await Be.applications.getAll();x(V||[]),console.log("   :",(V==null?void 0:V.length)||0)}catch(V){console.warn("   :",V),x([])}}catch(V){console.error("  :",V),k(`${B.error}: ${V.message}`)}finally{g(!1),console.log("  ")}},ue=async(V,P)=>{try{_(!0),k(""),b(""),console.log("  :",V,P);const ce={status:P,updated_at:new Date().toISOString()};if(P==="virtual_selected"?ce.virtual_selected_at=new Date().toISOString():P==="approved"?ce.approved_at=new Date().toISOString():P==="rejected"&&(ce.rejected_at=new Date().toISOString()),await Be.applications.update(V,ce),P==="approved")try{const U=m.find(q=>q.id===V);if(U){const q=n.find(ye=>ye.id===U.campaign_id),F={email:U.email,name:U.name||U.user_name};q&&F.email?(console.log("   :",F.email),await wy.onApplicationApproved(U,q,F),console.log("   ")):console.warn("  :     ")}}catch(U){console.error("  :",U)}console.log("  "),b(B.success),setTimeout(()=>{L()},1e3)}catch(ce){console.error("  :",ce),k(`  : ${ce.message}`)}finally{_(!1)}},re=async(V,P)=>{let ce="";switch(P){case"approved":ce=B.confirmApprove;break;case"rejected":ce=B.confirmReject;break;case"virtual_selected":ce=B.confirmVirtualSelect;break;case"pending":ce=B.confirmCancelVirtualSelect;break;default:return}confirm(ce)&&await ue(V.id,P)},me=V=>{G(V);const P=n.find(ce=>ce.id===V.campaign_id);le({google_drive_url:V.google_drive_url||"",google_slides_url:V.google_slides_url||"",notes:V.additional_info||"",campaign:P}),be(!0)},S=async V=>{try{_(!0),k(""),b(""),console.log("   :",y.id,V);const P={google_drive_url:V.google_drive_url.trim()||null,google_slides_url:V.google_slides_url.trim()||null,additional_info:V.notes.trim()||null,updated_at:new Date().toISOString()};await Be.applications.update(y.id,P),console.log("   "),b("     ."),be(!1),setTimeout(()=>{L()},1e3)}catch(P){console.error("   :",P),k(`   : ${P.message}`)}finally{_(!1)}},W=V=>{G(V),$(!0)},v=V=>{const P={pending:{color:"bg-yellow-100 text-yellow-800",text:B.pending,icon:Lt},virtual_selected:{color:"bg-purple-100 text-purple-800",text:B.virtualSelected,icon:lt},approved:{color:"bg-green-100 text-green-800",text:B.approved,icon:Ee},rejected:{color:"bg-red-100 text-red-800",text:B.rejected,icon:Ht}},ce=P[V]||P.pending,U=ce.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ce.color}`,children:[e.jsx(U,{className:"h-3 w-3 mr-1"}),ce.text]})},R=V=>V?new Date(V).toLocaleDateString("ko-KR"):"-",ae=m.filter(V=>{var q,F;const P=!J||V.campaign_id===J,ce=T===""||V.status===T,U=w===""||((q=V.user_name)==null?void 0:q.toLowerCase().includes(w.toLowerCase()))||((F=V.campaign_title)==null?void 0:F.toLowerCase().includes(w.toLowerCase()));return P&&ce&&U}),Q={total:ae.length,pending:ae.filter(V=>V.status==="pending").length,virtualSelected:ae.filter(V=>V.status==="virtual_selected").length,approved:ae.filter(V=>V.status==="approved").length,rejected:ae.filter(V=>V.status==="rejected").length};return j?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ue,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:B.loading})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:B.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:B.subtitle})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:L,disabled:j,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(wr,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs("button",{onClick:()=>{},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Sr,{className:"h-4 w-4 mr-2"}),B.exportExcel]})]})]})}),A&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ts,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:A})})]})}),C&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ee,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-800",children:C})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(it,{className:"h-6 w-6 text-gray-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:B.totalApplications}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:Q.total})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Lt,{className:"h-6 w-6 text-yellow-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:B.pendingApplications}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:Q.pending})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(lt,{className:"h-6 w-6 text-purple-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:B.virtuallySelected}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:Q.virtualSelected})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ee,{className:"h-6 w-6 text-green-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:B.approvedApplications}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:Q.approved})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ht,{className:"h-6 w-6 text-red-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:B.rejectedApplications}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:Q.rejected})]})})]})})})]}),e.jsx("div",{className:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"campaign",className:"block text-sm font-medium text-gray-700",children:B.filterByCampaign}),e.jsxs("select",{id:"campaign",value:J,onChange:V=>K(V.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"",children:B.allCampaigns}),n.map(V=>e.jsx("option",{value:V.id,children:V.title||V.brand||" "},V.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:B.filterByStatus}),e.jsxs("select",{id:"status",value:T,onChange:V=>O(V.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[e.jsx("option",{value:"",children:B.allStatuses}),e.jsx("option",{value:"pending",children:B.pending}),e.jsx("option",{value:"virtual_selected",children:B.virtualSelected}),e.jsx("option",{value:"approved",children:B.approved}),e.jsx("option",{value:"rejected",children:B.rejected})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700",children:""}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(_a,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",id:"search",value:w,onChange:V=>H(V.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:B.searchPlaceholder})]})]})]})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsxs("ul",{className:"divide-y divide-gray-200",children:[ae.map(V=>{var ce;const P=n.find(U=>U.id===V.campaign_id)||{};return e.jsx("li",{children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500 font-medium",children:((ce=V.user_name)==null?void 0:ce.charAt(0))||"?"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-sm font-medium text-indigo-600 truncate",children:V.user_name||" "}),e.jsx("div",{className:"ml-2",children:v(V.status)})]}),e.jsx("div",{className:"mt-1",children:e.jsx("p",{className:"text-sm text-gray-500",children:V.user_email||" "})}),e.jsx("div",{className:"mt-1",children:e.jsxs("p",{className:"text-sm text-gray-500",children:[": ",P.title||P.brand||"  "]})})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>W(V),className:"inline-flex items-center px-3 py-1 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(lt,{className:"h-4 w-4 mr-1"}),B.viewDetails]}),V.status==="pending"&&e.jsxs("button",{onClick:()=>re(V,"virtual_selected"),disabled:z,className:"inline-flex items-center px-3 py-1 border border-purple-300 shadow-sm text-sm leading-4 font-medium rounded-md text-purple-700 bg-purple-50 hover:bg-purple-100",children:[e.jsx(lt,{className:"h-4 w-4 mr-1"}),B.virtualSelect]}),V.status==="virtual_selected"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>re(V,"pending"),disabled:z,className:"inline-flex items-center px-3 py-1 border border-yellow-300 shadow-sm text-sm leading-4 font-medium rounded-md text-yellow-700 bg-yellow-50 hover:bg-yellow-100",children:[e.jsx(Lt,{className:"h-4 w-4 mr-1"}),B.cancelVirtualSelect]}),e.jsxs("button",{onClick:()=>re(V,"approved"),disabled:z,className:"inline-flex items-center px-3 py-1 border border-green-300 shadow-sm text-sm leading-4 font-medium rounded-md text-green-700 bg-green-50 hover:bg-green-100",children:[e.jsx(Ee,{className:"h-4 w-4 mr-1"}),B.approve]})]}),V.status==="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>re(V,"pending"),disabled:z,className:"inline-flex items-center px-3 py-1 border border-yellow-300 shadow-sm text-sm leading-4 font-medium rounded-md text-yellow-700 bg-yellow-50 hover:bg-yellow-100",children:[e.jsx(Lt,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs("button",{onClick:()=>me(V),disabled:z,className:"inline-flex items-center px-3 py-1 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100",children:[e.jsx(vn,{className:"h-4 w-4 mr-1"}),B.provideDriveAccess]})]}),(V.status==="pending"||V.status==="virtual_selected")&&e.jsxs("button",{onClick:()=>re(V,"rejected"),disabled:z,className:"inline-flex items-center px-3 py-1 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-red-50 hover:bg-red-100",children:[e.jsx(Ht,{className:"h-4 w-4 mr-1"}),B.reject]})]})]})})},V.id)}),ae.length===0&&e.jsx("li",{children:e.jsx("div",{className:"px-4 py-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:B.noApplications})})})]})}),D&&y&&e.jsx("div",{className:"fixed inset-0 z-[99999] overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity z-[99998]","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),e.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full sm:p-6 z-[99999] relative",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:B.applicationDetails}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Fs,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:B.campaignInfo}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:":"}),e.jsx("p",{className:"font-medium",children:y.campaign_title||"  "})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:":"}),e.jsx("p",{className:"font-medium",children:y.campaign_brand||"  "})]})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:B.applicantInfo}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[B.name,":"]}),e.jsx("p",{className:"font-medium",children:y.user_name||"-"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[B.email,":"]}),e.jsx("p",{className:"font-medium",children:y.user_email||"-"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[B.age,":"]}),e.jsx("p",{className:"font-medium",children:y.user_age||"-"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[B.skinType,":"]}),e.jsx("p",{className:"font-medium",children:y.user_skin_type||"-"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-gray-600 mb-1",children:[B.bio,":"]}),e.jsx("p",{className:"text-gray-800",children:y.user_bio||"-"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-gray-600 mb-2",children:[B.socialMedia,":"]}),e.jsxs("div",{className:"space-y-2",children:[y.user_instagram_url&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(zt,{className:"h-4 w-4 text-pink-500 mr-2"}),e.jsxs("a",{href:y.user_instagram_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[y.user_instagram_url,e.jsx(ns,{className:"h-3 w-3 ml-1"})]})]}),y.user_tiktok_url&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(es,{className:"h-4 w-4 text-black mr-2"}),e.jsxs("a",{href:y.user_tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[y.user_tiktok_url,e.jsx(ns,{className:"h-3 w-3 ml-1"})]})]}),y.user_youtube_url&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(jt,{className:"h-4 w-4 text-red-500 mr-2"}),e.jsxs("a",{href:y.user_youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[y.user_youtube_url,e.jsx(ns,{className:"h-3 w-3 ml-1"})]})]}),!y.user_instagram_url&&!y.user_tiktok_url&&!y.user_youtube_url&&e.jsx("p",{className:"text-gray-500",children:"-"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:"   "}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[B.status,":"]}),e.jsx("div",{className:"mt-1",children:v(y.status)})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[B.appliedAt,":"]}),e.jsx("p",{className:"font-medium",children:R(y.created_at)})]}),y.virtual_selected_at&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[B.virtualSelectedAt,":"]}),e.jsx("p",{className:"font-medium",children:R(y.virtual_selected_at)})]}),y.approved_at&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[B.approvedAt,":"]}),e.jsx("p",{className:"font-medium",children:R(y.approved_at)})]}),y.rejected_at&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-600",children:[B.rejectedAt,":"]}),e.jsx("p",{className:"font-medium",children:R(y.rejected_at)})]})]})})]}),y.status==="approved"&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:"  "}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"  URL:"}),y.google_drive_url?e.jsxs("a",{href:y.google_drive_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[e.jsx(vn,{className:"h-4 w-4 mr-1"}),y.google_drive_url,e.jsx(ns,{className:"h-3 w-3 ml-1"})]}):e.jsx("p",{className:"text-gray-500",children:""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"  URL:"}),y.google_slides_url?e.jsxs("a",{href:y.google_slides_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[e.jsx(dg,{className:"h-4 w-4 mr-1"}),y.google_slides_url,e.jsx(ns,{className:"h-3 w-3 ml-1"})]}):e.jsx("p",{className:"text-gray-500",children:""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:" :"}),e.jsx("p",{className:"text-gray-800",children:y.additional_info||"-"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:()=>{$(!1),setTimeout(()=>me(y),100)},className:"inline-flex items-center px-3 py-2 border border-blue-300 shadow-sm text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-50 hover:bg-blue-100",children:[e.jsx(mg,{className:"h-4 w-4 mr-1"}),"  "]})})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>$(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:B.close})})]})})})]})}),e.jsx(_y,{isOpen:ie,onClose:()=>be(!1),application:y,campaign:M.campaign,onSave:S,processing:z,error:A,success:C,texts:B})]})]})},ky=()=>{const[i,d]=h.useState([]),[o,m]=h.useState([]),[x,n]=h.useState(!0),[f,j]=h.useState(""),[g,z]=h.useState(""),[_,A]=h.useState("");h.useEffect(()=>{k()},[]);const k=async()=>{try{n(!0);const{data:J,error:K}=await se.from("campaigns").select("id, title").order("created_at",{ascending:!1});if(K)throw K;m(J||[]);const{data:T,error:O}=await se.from("applications").select(`
          *,
          campaigns!inner(id, title),
          user_profiles(name, email, phone, instagram_url, age, skin_type)
        `).eq("status","approved").order("updated_at",{ascending:!1});if(O)throw O;d(T||[])}catch(J){console.error("  :",J)}finally{n(!1)}},C=async(J,K)=>{try{const{error:T}=await se.from("applications").update({tracking_number:K}).eq("id",J);if(T)throw T;d(O=>O.map(w=>w.id===J?{...w,tracking_number:K}:w)),alert(" .")}catch(T){console.error("  :",T),alert("  .")}},b=i.filter(J=>{var w,H;const K=!f||J.campaign_id===f,T=!g||(((w=J.user_profiles)==null?void 0:w.name)||J.applicant_name||"").toLowerCase().includes(g.toLowerCase())||(((H=J.user_profiles)==null?void 0:H.email)||"").toLowerCase().includes(g.toLowerCase()),O=!_||_==="shipped"&&J.tracking_number||_==="pending"&&!J.tracking_number;return K&&T&&O});return x?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx($m,{}),e.jsxs("div",{className:"flex",children:[e.jsx(nt,{}),e.jsx("div",{className:"flex-1 p-8",children:e.jsx("div",{className:"text-center",children:" ..."})})]})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx($m,{}),e.jsxs("div",{className:"flex",children:[e.jsx(nt,{}),e.jsxs("div",{className:"flex-1 p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600",children:"    ."})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:f,onChange:J=>j(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:" "}),o.map(J=>e.jsx("option",{value:J.id,children:J.title},J.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:_,onChange:J=>A(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"pending",children:" "}),e.jsx("option",{value:"shipped",children:" "})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsx("input",{type:"text",placeholder:"   ",value:g,onChange:J=>z(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:k,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:""})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"  "}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[b.length,""]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[b.filter(J=>J.tracking_number).length,""]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),e.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[b.filter(J=>!J.tracking_number).length,""]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:" "})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(J=>{var K,T,O,w;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((K=J.user_profiles)==null?void 0:K.name)||J.applicant_name||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:((T=J.user_profiles)==null?void 0:T.email)||"N/A"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[" ",((O=J.user_profiles)==null?void 0:O.phone)||J.phone||"N/A"]})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:((w=J.campaigns)==null?void 0:w.title)||"N/A"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("div",{children:[" ",J.postal_code||"N/A"]}),e.jsx("div",{className:"mt-1 text-gray-600",children:J.address||"N/A"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("input",{type:"text",placeholder:" ",defaultValue:J.tracking_number||"",className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onBlur:H=>{H.target.value!==(J.tracking_number||"")&&C(J.id,H.target.value)}})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:J.tracking_number?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" "}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:" "})})]},J.id)})})]})}),b.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m13-8l-4 4-4-4m0 0l-4 4-4-4"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"  "}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"  ."})]})]})]})]})]})},Sy={ko:{title:"  ",subtitle:"       ",backToDashboard:" ",confirmedCreators:" ",name:"",email:"",phone:"",address:"",trackingNumber:"",enterTracking:" ",saveTracking:" ",viewDetails:"",editAddress:" ",loading:"  ...",error:" ",success:" ",noCreators:"  ",campaign:"",status:"",approved:"",completed:"",shipped:"",delivered:"",postalCode:"",fullAddress:"",trackingInfo:" ",updateAddress:" ",updateTracking:" "},ja:{title:" ",subtitle:"",backToDashboard:"",confirmedCreators:" ",name:"",email:"",phone:"",address:"",trackingNumber:"",enterTracking:"",saveTracking:"",viewDetails:"",editAddress:"",loading:" ...",error:" ",success:"",noCreators:"",campaign:"",status:"",approved:"",completed:"",shipped:"",delivered:"",postalCode:"",fullAddress:"",trackingInfo:"",updateAddress:"",updateTracking:""},en:{title:"Confirmed Creators Management",subtitle:"Address verification and tracking number input for confirmed creators",backToDashboard:"Back to Dashboard",confirmedCreators:"Confirmed Creators",name:"Name",email:"Email",phone:"Phone",address:"Address",trackingNumber:"Tracking Number",enterTracking:"Enter Tracking Number",saveTracking:"Save Tracking Number",viewDetails:"View Details",editAddress:"Edit Address",loading:"Loading data...",error:"An error occurred",success:"Successfully saved",noCreators:"No confirmed creators",campaign:"Campaign",status:"Status",approved:"Approved",completed:"Completed",shipped:"Shipped",delivered:"Delivered",postalCode:"Postal Code",fullAddress:"Full Address",trackingInfo:"Shipping Information",updateAddress:"Update Address",updateTracking:"Update Tracking"}},Cy=()=>{var re,me;const{campaignId:i}=Ca(),d=Qe(),[o,m]=h.useState(null),[x,n]=h.useState([]),[f,j]=h.useState(!0),[g,z]=h.useState(!1),[_,A]=h.useState(""),[k,C]=h.useState(""),[b,J]=h.useState("ko"),[K,T]=h.useState(null),[O,w]=h.useState(!1),[H,y]=h.useState(!1),[G,D]=h.useState(""),[$,ie]=h.useState({postal_code:"",address:"",phone:""}),be=Sy[b];h.useEffect(()=>{M()},[i]);const M=async()=>{try{if(j(!0),A(""),console.log("    , campaignId:",i),i&&i!=="undefined"){const{data:R,error:ae}=await se.from("campaigns").select("*").eq("id",i).single();if(ae)throw new Error(`  : ${ae.message}`);m(R),console.log(" :",R)}let S=se.from("applications").select(`
          *,
          campaigns (
            id,
            title,
            brand,
            reward_amount
          ),
          user_profiles (
            name,
            email,
            phone,
            age,
            skin_type,
            instagram_url
          )
        `).eq("status","approved").order("updated_at",{ascending:!1});i&&i!=="undefined"&&(S=S.eq("campaign_id",i));const{data:W,error:v}=await S;v?(console.error("   :",v),n([])):(n(W||[]),console.log("  :",(W==null?void 0:W.length)||0,""))}catch(S){console.error("  :",S),A(S.message||"  .")}finally{j(!1)}},le=async()=>{if(!K||!G.trim()){A(" .");return}try{z(!0),A("");const{error:S}=await se.from("applications").update({tracking_number:G.trim(),shipping_status:"shipped",updated_at:new Date().toISOString()}).eq("id",K.id);if(S)throw new Error(`  : ${S.message}`);n(W=>W.map(v=>v.id===K.id?{...v,tracking_number:G.trim(),shipping_status:"shipped"}:v)),C("  ."),w(!1),D(""),T(null),setTimeout(()=>C(""),3e3)}catch(S){console.error("  :",S),A(S.message||"  .")}finally{z(!1)}},X=async()=>{if(K)try{z(!0),A("");const{error:S}=await se.from("user_profiles").update({postal_code:$.postal_code,address:$.address,phone:$.phone,updated_at:new Date().toISOString()}).eq("id",K.user_profiles.id);if(S)throw new Error(`  : ${S.message}`);n(W=>W.map(v=>v.id===K.id?{...v,user_profiles:{...v.user_profiles,postal_code:$.postal_code,address:$.address,phone:$.phone}}:v)),C("  ."),y(!1),T(null),setTimeout(()=>C(""),3e3)}catch(S){console.error("  :",S),A(S.message||"  .")}finally{z(!1)}},B=S=>{T(S),D(S.tracking_number||""),w(!0)},ne=S=>{var W,v,R;T(S),ie({postal_code:((W=S.user_profiles)==null?void 0:W.postal_code)||"",address:((v=S.user_profiles)==null?void 0:v.address)||"",phone:((R=S.user_profiles)==null?void 0:R.phone)||""}),y(!0)},L=S=>S.shipping_status==="shipped"?e.jsx(Kt,{className:"bg-blue-100 text-blue-800",children:be.shipped}):S.shipping_status==="delivered"?e.jsx(Kt,{className:"bg-green-100 text-green-800",children:be.delivered}):S.status==="completed"?e.jsx(Kt,{className:"bg-green-100 text-green-800",children:be.completed}):e.jsx(Kt,{className:"bg-yellow-100 text-yellow-800",children:be.approved}),ue=()=>{const S=x.map(V=>{var P,ce,U,q,F,ye,ve;return{:((P=V.user_profiles)==null?void 0:P.name)||"",:((ce=V.user_profiles)==null?void 0:ce.email)||"",:((U=V.user_profiles)==null?void 0:U.phone)||"",:((q=V.user_profiles)==null?void 0:q.postal_code)||"",:((F=V.user_profiles)==null?void 0:F.address)||"",:((ye=V.campaigns)==null?void 0:ye.title)||"",:((ve=V.campaigns)==null?void 0:ve.brand)||"",:V.status,:V.tracking_number||"",:V.shipping_status||"",:V.approved_at?new Date(V.approved_at).toLocaleDateString():"",:V.shipped_at?new Date(V.shipped_at).toLocaleDateString():""}}),W=`confirmed_creators_${i||"all"}_${new Date().toISOString().split("T")[0]}.csv`,v=Object.keys(S[0]||{}),R=[v.join(","),...S.map(V=>v.map(P=>`"${V[P]||""}"`).join(","))].join(`
`),ae=new Blob([R],{type:"text/csv;charset=utf-8;"}),Q=document.createElement("a");Q.href=URL.createObjectURL(ae),Q.download=W,Q.click()};return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:be.loading})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(qe,{variant:"outline",onClick:()=>d("/admin"),className:"flex items-center space-x-2",children:[e.jsx(Ks,{className:"h-4 w-4"}),e.jsx("span",{children:be.backToDashboard})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:be.title}),e.jsx("p",{className:"text-gray-600",children:o?`${o.title} - ${be.subtitle}`:be.subtitle})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Di,{value:b,onValueChange:J,children:[e.jsx(qi,{className:"w-32",children:e.jsx(Li,{})}),e.jsxs(Ri,{children:[e.jsx(aa,{value:"ko",children:""}),e.jsx(aa,{value:"ja",children:""}),e.jsx(aa,{value:"en",children:"English"})]})]}),e.jsxs(qe,{variant:"outline",onClick:ue,disabled:x.length===0,children:[e.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Excel "]})]})]}),_&&e.jsxs(yt,{className:"mb-6 border-red-200 bg-red-50",children:[e.jsx(Ts,{className:"h-4 w-4 text-red-600"}),e.jsx(vt,{className:"text-red-800",children:_})]}),k&&e.jsxs(yt,{className:"mb-6 border-green-200 bg-green-50",children:[e.jsx(Ee,{className:"h-4 w-4 text-green-600"}),e.jsx(vt,{className:"text-green-800",children:k})]}),e.jsxs(_s,{children:[e.jsx(zs,{children:e.jsxs(Es,{className:"flex items-center space-x-2",children:[e.jsx(Nt,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:be.confirmedCreators}),e.jsxs(Kt,{variant:"secondary",children:[x.length,""]})]})}),e.jsx(As,{children:x.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Nt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:be.noCreators})]}):e.jsx("div",{className:"space-y-4",children:x.map(S=>{var W;return e.jsxs("div",{className:"border rounded-lg p-6 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:S.applicant_name||" "}),L(S)]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[e.jsx(Ao,{className:"h-4 w-4 mr-2"})," "]}),e.jsx("div",{className:"space-y-2 text-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium",children:S.phone_number||" "})]})})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsxs("h4",{className:"font-semibold text-green-800 mb-3 flex items-center",children:[e.jsx(Ah,{className:"h-4 w-4 mr-2"})," "]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium",children:S.postal_code||""})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium text-right max-w-48 break-words",children:S.address||"  "})]})]})]}),!i&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[e.jsxs("h4",{className:"font-semibold text-purple-800 mb-3 flex items-center",children:[e.jsx(it,{className:"h-4 w-4 mr-2"})," "]}),e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:"font-medium",children:((W=S.campaigns)==null?void 0:W.title)||"  "})})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[e.jsxs("h4",{className:"font-semibold text-orange-800 mb-3 flex items-center",children:[e.jsx(Km,{className:"h-4 w-4 mr-2"}),""]}),e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:"font-medium",children:S.tracking_number||" "})})]})]})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>ne(S),children:[e.jsx(Ah,{className:"h-4 w-4 mr-2"}),be.editAddress]}),e.jsxs(qe,{size:"sm",onClick:()=>B(S),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Gm,{className:"h-4 w-4 mr-2"}),S.tracking_number?be.updateTracking:be.enterTracking]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 border-t pt-2 mt-4",children:[": ",S.approved_at?new Date(S.approved_at).toLocaleString():" ",S.shipped_at&&e.jsxs("span",{className:"ml-4",children:[": ",new Date(S.shipped_at).toLocaleString()]})]})]},S.id)})})})]}),e.jsx(jo,{open:O,onOpenChange:w,children:e.jsxs(yo,{children:[e.jsxs(vo,{children:[e.jsx(No,{children:be.trackingInfo}),e.jsxs(wo,{children:[(re=K==null?void 0:K.user_profiles)==null?void 0:re.name,"  ."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(He,{htmlFor:"tracking",children:be.trackingNumber}),e.jsx(is,{id:"tracking",value:G,onChange:S=>D(S.target.value),placeholder:" "})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(qe,{variant:"outline",onClick:()=>w(!1),children:""}),e.jsxs(qe,{onClick:le,disabled:g||!G.trim(),children:[g?e.jsx(Ue,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(Sn,{className:"h-4 w-4 mr-2"}),be.saveTracking]})]})]})]})}),e.jsx(jo,{open:H,onOpenChange:y,children:e.jsxs(yo,{children:[e.jsxs(vo,{children:[e.jsx(No,{children:be.updateAddress}),e.jsxs(wo,{children:[(me=K==null?void 0:K.user_profiles)==null?void 0:me.name,"   ."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(He,{htmlFor:"postal_code",children:be.postalCode}),e.jsx(is,{id:"postal_code",value:$.postal_code,onChange:S=>ie(W=>({...W,postal_code:S.target.value})),placeholder:""})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"address",children:be.fullAddress}),e.jsx(is,{id:"address",value:$.address,onChange:S=>ie(W=>({...W,address:S.target.value})),placeholder:""})]}),e.jsxs("div",{children:[e.jsx(He,{htmlFor:"phone",children:be.phone}),e.jsx(is,{id:"phone",value:$.phone,onChange:S=>ie(W=>({...W,phone:S.target.value})),placeholder:""})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(qe,{variant:"outline",onClick:()=>y(!1),children:""}),e.jsxs(qe,{onClick:X,disabled:g,children:[g?e.jsx(Ue,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(Sn,{className:"h-4 w-4 mr-2"}),be.updateAddress]})]})]})]})})]})})},zy={ko:{title:"SNS  ",subtitle:"  SNS    ",backToDashboard:" ",completedCreators:" ",name:"",campaign:"",snsLinks:"SNS ",uploadStatus:" ",viewPost:" ",markCompleted:" ",addFeedback:" ",loading:"  ...",error:" ",success:" ",noUploads:" SNS ",status:"",completed:"",pending:"",approved:"",instagram:"",tiktok:"",youtube:"",twitter:"",uploadDate:" ",feedback:"",approvePoints:" ",pointsApproved:"  ",pointsPending:"  ",approvePointsConfirm:" ?",pointsAmount:" ",saveFeedback:" ",performance:"",likes:"",comments:"",shares:"",views:""},ja:{title:"SNS ",subtitle:"SNS",backToDashboard:"",completedCreators:"",name:"",campaign:"",snsLinks:"SNS",uploadStatus:"",viewPost:"",markCompleted:"",addFeedback:"",loading:" ...",error:" ",success:"",noUploads:"SNS",status:"",completed:"",pending:"",approved:"",instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",twitter:"Twitter",uploadDate:"",feedback:"",saveFeedback:"",performance:"",likes:"",comments:"",shares:"",views:""},en:{title:"SNS Upload Verification",subtitle:"Verify that final report SNS has been uploaded",backToDashboard:"Back to Dashboard",completedCreators:"Completed Creators",name:"Name",campaign:"Campaign",snsLinks:"SNS Links",uploadStatus:"Upload Status",viewPost:"View Post",markCompleted:"Mark Completed",addFeedback:"Add Feedback",loading:"Loading data...",error:"An error occurred",success:"Successfully saved",noUploads:"No SNS uploads",status:"Status",completed:"Completed",pending:"Pending",approved:"Approved",instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",twitter:"Twitter",uploadDate:"Upload Date",feedback:"Feedback",saveFeedback:"Save Feedback",performance:"Performance",likes:"Likes",comments:"Comments",shares:"Shares",views:"Views"}},sg=()=>{var le;const{campaignId:i}=Ca();Qe();const[d,o]=h.useState(null),[m,x]=h.useState([]),[n,f]=h.useState(!0),[j,g]=h.useState(!1),[z,_]=h.useState(""),[A,k]=h.useState(""),[C,b]=h.useState("ko"),[J,K]=h.useState(null),[T,O]=h.useState(!1),[w,H]=h.useState(""),y=zy[C];h.useEffect(()=>{G()},[i]);const G=async()=>{try{if(f(!0),_(""),console.log("SNS    , campaignId:",i),i&&i!=="undefined"){const{data:L,error:ue}=await se.from("campaigns").select("*").eq("id",i).single();if(ue)throw new Error(`  : ${ue.message}`);o(L),console.log(" :",L)}let X=se.from("applications").select(`
          *,
          campaigns (
            id,
            title,
            brand,
            reward_points,
            creator_points_override
          ),
          user_profiles (
            user_id,
            name,
            email,
            phone,
            instagram_url,
            tiktok_url,
            youtube_url,
            instagram_followers,
            tiktok_followers,
            youtube_subscribers
          )
        `).eq("status","approved").not("video_links","is",null).neq("video_links","").order("updated_at",{ascending:!1});i&&i!=="undefined"&&(X=X.eq("campaign_id",i));const{data:B,error:ne}=await X;ne?(console.error("   :",ne),x([])):(x(B||[]),console.log("  :",(B==null?void 0:B.length)||0,""))}catch(X){console.error("  :",X),_(X.message||"  .")}finally{f(!1)}},D=async()=>{if(J)try{g(!0),_("");const{error:X}=await se.from("applications").update({admin_feedback:w,feedback_updated_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",J.id);if(X)throw new Error(`  : ${X.message}`);x(B=>B.map(ne=>ne.id===J.id?{...ne,admin_feedback:w,feedback_updated_at:new Date().toISOString()}:ne)),k("  ."),O(!1),H(""),K(null),setTimeout(()=>k(""),3e3)}catch(X){console.error("  :",X),_(X.message||"  .")}finally{g(!1)}},$=async X=>{var ue,re,me;const B=((ue=X.campaigns)==null?void 0:ue.creator_points_override)||((re=X.campaigns)==null?void 0:re.reward_points)||0;if(!B){_("    .");return}const ne=((me=X.user_profiles)==null?void 0:me.name)||X.applicant_name||"",L=`${ne} ${B.toLocaleString()}P ?`;if(window.confirm(L))try{g(!0),_("");const{error:S}=await se.from("point_transactions").insert({user_id:X.user_id,campaign_id:X.campaign_id,application_id:X.id,type:"earn",amount:B,description:`  : ${X.campaigns.title}`,status:"completed",created_at:new Date().toISOString()});if(S)throw new Error(`  : ${S.message}`);const{error:W}=await se.from("point_transactions").update({status:"approved",amount:B,updated_at:new Date().toISOString()}).eq("application_id",X.id).eq("type","bonus");W&&console.warn("    :",W),x(v=>v.map(R=>R.id===X.id?{...R,point_request_status:"approved",points_awarded_at:new Date().toISOString()}:R)),k(`${ne} ${B.toLocaleString()}P .`),setTimeout(()=>k(""),5e3)}catch(S){console.error("  :",S),_(S.message||"  .")}finally{g(!1)}},ie=X=>{K(X),H(X.admin_feedback||""),O(!0)},be=X=>X.status==="completed"?e.jsx(Kt,{className:"bg-green-100 text-green-800",children:y.completed}):e.jsx(Kt,{className:"bg-yellow-100 text-yellow-800",children:y.pending}),M=()=>{const X=m.map(me=>{var S,W,v,R,ae,Q,V;return{:((S=me.user_profiles)==null?void 0:S.name)||me.applicant_name||"",:((W=me.user_profiles)==null?void 0:W.email)||"",:((v=me.user_profiles)==null?void 0:v.phone)||""," URL":((R=me.user_profiles)==null?void 0:R.instagram_url)||""," ":((ae=me.user_profiles)==null?void 0:ae.instagram_followers)||"",:((Q=me.campaigns)==null?void 0:Q.title)||"",:((V=me.campaigns)==null?void 0:V.brand)||"",:me.status,"Instagram URL":me.instagram_url||"","TikTok URL":me.tiktok_url||"","YouTube URL":me.youtube_url||"","SNS  URL":me.video_links||""," ":me.admin_feedback||"",:me.completed_at?new Date(me.completed_at).toLocaleDateString():""," ":me.feedback_updated_at?new Date(me.feedback_updated_at).toLocaleDateString():""}}),B=`sns_uploads_${i||"all"}_${new Date().toISOString().split("T")[0]}.csv`,ne=Object.keys(X[0]||{}),L=[ne.join(","),...X.map(me=>ne.map(S=>`"${me[S]||""}"`).join(","))].join(`
`),ue=new Blob([L],{type:"text/csv;charset=utf-8;"}),re=document.createElement("a");re.href=URL.createObjectURL(ue),re.download=B,re.click()};return n?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:y.loading})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:y.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:d?`${d.title} - ${y.subtitle}`:y.subtitle})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Di,{value:C,onValueChange:b,children:[e.jsx(qi,{className:"w-32",children:e.jsx(Li,{})}),e.jsxs(Ri,{children:[e.jsx(aa,{value:"ko",children:""}),e.jsx(aa,{value:"ja",children:""}),e.jsx(aa,{value:"en",children:"English"})]})]}),e.jsxs(qe,{variant:"outline",onClick:M,disabled:m.length===0,children:[e.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Excel "]})]})]}),z&&e.jsxs(yt,{className:"mb-6 border-red-200 bg-red-50",children:[e.jsx(Ts,{className:"h-4 w-4 text-red-600"}),e.jsx(vt,{className:"text-red-800",children:z})]}),A&&e.jsxs(yt,{className:"mb-6 border-green-200 bg-green-50",children:[e.jsx(Ee,{className:"h-4 w-4 text-green-600"}),e.jsx(vt,{className:"text-green-800",children:A})]}),e.jsxs(_s,{children:[e.jsx(zs,{children:e.jsxs(Es,{className:"flex items-center space-x-2",children:[e.jsx(la,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:y.completedCreators}),e.jsxs(Kt,{variant:"secondary",children:[m.length,""]})]})}),e.jsx(As,{children:m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(la,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:y.noUploads})]}):e.jsx("div",{className:"space-y-6",children:m.map(X=>{var B,ne;return e.jsxs("div",{className:"border rounded-lg p-6 bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:((B=X.user_profiles)==null?void 0:B.name)||X.applicant_name||" "}),be(X)]}),X.user_profiles&&e.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[X.user_profiles.email&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ra,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:X.user_profiles.email})]}),X.user_profiles.phone&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ao,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:X.user_profiles.phone})]}),X.user_profiles.instagram_url&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zt,{className:"h-4 w-4 text-pink-500"}),e.jsx("span",{children:"Instagram"})]}),X.user_profiles.instagram_followers&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Nt,{className:"h-4 w-4 text-blue-500"}),e.jsxs("span",{children:[X.user_profiles.instagram_followers.toLocaleString()," "]})]})]})}),!i&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(it,{className:"h-4 w-4"}),e.jsx("span",{children:((ne=X.campaigns)==null?void 0:ne.title)||"  "})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:y.snsLinks}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[X.instagram_url&&e.jsxs("a",{href:X.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-pink-600 hover:text-pink-800 p-2 border rounded",children:[e.jsx(zt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Instagram"}),e.jsx(ns,{className:"h-3 w-3"})]}),X.tiktok_url&&e.jsxs("a",{href:X.tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-black hover:text-gray-700 p-2 border rounded",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"TikTok"}),e.jsx(ns,{className:"h-3 w-3"})]}),X.youtube_url&&e.jsxs("a",{href:X.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-red-600 hover:text-red-800 p-2 border rounded",children:[e.jsx(jt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"YouTube"}),e.jsx(ns,{className:"h-3 w-3"})]})]})]}),X.video_links&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:" "}),e.jsxs("a",{href:X.video_links,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 p-2 border rounded bg-blue-50",children:[e.jsx(la,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"  "}),e.jsx(ns,{className:"h-3 w-3"})]})]}),X.admin_feedback&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:y.feedback}),e.jsx("div",{className:"bg-gray-50 p-3 rounded",children:e.jsx("p",{className:"text-sm text-gray-800",children:X.admin_feedback})})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[e.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>ie(X),children:[e.jsx(kb,{className:"h-4 w-4 mr-2"}),X.admin_feedback?" ":y.addFeedback]}),X.point_request_status==="pending"&&X.sns_upload_url&&e.jsxs(qe,{size:"sm",onClick:()=>$(X),disabled:j,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(Kl,{className:"h-4 w-4 mr-2"}),y.approvePoints]}),X.point_request_status==="approved"&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 text-sm",children:[e.jsx(Ee,{className:"h-4 w-4"}),e.jsx("span",{children:y.pointsApproved})]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 border-t pt-2 mt-4",children:[": ",X.completed_at?new Date(X.completed_at).toLocaleString():" ",X.feedback_updated_at&&e.jsxs("span",{className:"ml-4",children:[" : ",new Date(X.feedback_updated_at).toLocaleString()]})]})]},X.id)})})})]}),e.jsx(jo,{open:T,onOpenChange:O,children:e.jsxs(yo,{className:"max-w-2xl",children:[e.jsxs(vo,{children:[e.jsx(No,{children:y.addFeedback}),e.jsxs(wo,{children:[(le=J==null?void 0:J.user_profiles)==null?void 0:le.name,"    ."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(He,{htmlFor:"feedback",children:y.feedback}),e.jsx(sa,{id:"feedback",value:w,onChange:X=>H(X.target.value),placeholder:"   ...",rows:6})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(qe,{variant:"outline",onClick:()=>O(!1),children:""}),e.jsxs(qe,{onClick:D,disabled:j,children:[j?e.jsx(Ue,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(Sn,{className:"h-4 w-4 mr-2"}),y.saveFeedback]})]})]})]})})]})]})},Ey=()=>{const{campaignId:i}=Ca(),d=Qe(),[o,m]=h.useState(null),[x,n]=h.useState([]),[f,j]=h.useState([]),[g,z]=h.useState(!0),[_,A]=h.useState(!1),[k,C]=h.useState(""),[b,J]=h.useState(""),[K,T]=h.useState("all"),[O,w]=h.useState(""),[H,y]=h.useState([]);h.useEffect(()=>{G()},[i]),h.useEffect(()=>{D()},[x,K,O]);const G=async()=>{try{z(!0),C("");const v=await Be.campaigns.getById(i);m(v);const R=await Be.applications.getByCampaign(i);n(R||[])}catch(v){console.error("   :",v),C("   .")}finally{z(!1)}},D=()=>{let v=x;if(K!=="all"&&(v=v.filter(R=>R.status===K)),O){const R=O.toLowerCase();v=v.filter(ae=>{var Q;return(ae.applicant_name||"").toLowerCase().includes(R)||(((Q=ae.user_profiles)==null?void 0:Q.email)||"").toLowerCase().includes(R)})}j(v)},$=async v=>{try{A(!0),await Be.applications.updateStatus(v,"virtual_selected"),n(R=>R.map(ae=>ae.id===v?{...ae,status:"virtual_selected",virtual_selected_at:new Date().toISOString()}:ae)),J("  ."),setTimeout(()=>J(""),3e3)}catch(R){console.error("   :",R),C("     ."),setTimeout(()=>C(""),3e3)}finally{A(!1)}},ie=async v=>{try{A(!0),await Be.applications.updateStatus(v,"pending"),n(R=>R.map(ae=>ae.id===v?{...ae,status:"pending",virtual_selected_at:null}:ae)),J("  ."),setTimeout(()=>J(""),3e3)}catch(R){console.error("    :",R),C("      ."),setTimeout(()=>C(""),3e3)}finally{A(!1)}},be=async()=>{if(H.length===0){C("  .");return}try{A(!0);const v=H.map(R=>Be.applications.updateStatus(R,"virtual_selected"));await Promise.all(v),n(R=>R.map(ae=>H.includes(ae.id)?{...ae,status:"virtual_selected",virtual_selected_at:new Date().toISOString()}:ae)),y([]),J(`${H.length}   .`),setTimeout(()=>J(""),3e3)}catch(v){console.error("   :",v),C("      ."),setTimeout(()=>C(""),3e3)}finally{A(!1)}},M=()=>{const v=f.filter(R=>R.status==="pending").map(R=>R.id);H.length===v.length?y([]):y(v)},le=v=>v?new Date(v).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",X=v=>{switch(v){case"pending":return"";case"virtual_selected":return"";case"approved":return"";case"rejected":return"";default:return v}},B=v=>{switch(v){case"pending":return"bg-yellow-100 text-yellow-800";case"virtual_selected":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ne=v=>{switch(v){case"pending":return e.jsx(Lt,{className:"h-4 w-4"});case"virtual_selected":return e.jsx(lt,{className:"h-4 w-4"});case"approved":return e.jsx(Ee,{className:"h-4 w-4"});case"rejected":return e.jsx(Ht,{className:"h-4 w-4"});default:return e.jsx(Lt,{className:"h-4 w-4"})}},L=()=>{const v=["","","","Instagram","TikTok","YouTube"," SNS","Q1 ","Q2 ","Q3 ","Q4 ","",""],R=f.map(ce=>[ce.applicant_name||"-",ce.age||"-",ce.skin_type||"-",ce.instagram_url||"-",ce.tiktok_url||"-",ce.youtube_url||"-",ce.blog_url||"-",ce.question1_answer||"-",ce.question2_answer||"-",ce.question3_answer||"-",ce.question4_answer||"-",le(ce.created_at),X(ce.status)]),ae=[v,...R].map(ce=>ce.map(U=>`"${U}"`).join(",")).join(`
`),Q=new Blob([ae],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a"),P=URL.createObjectURL(Q);V.setAttribute("href",P),V.setAttribute("download",`campaign_${i}_report.csv`),V.style.visibility="hidden",document.body.appendChild(V),V.click(),document.body.removeChild(V)};if(g)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("span",{children:"  ..."})]})})]});if(k&&!o)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_r,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:" "}),e.jsx("p",{className:"text-gray-600",children:k}),e.jsx("button",{onClick:()=>d("/applications-manage"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"  "})]})})]});const ue=x.length,re=x.filter(v=>v.status==="pending").length,me=x.filter(v=>v.status==="virtual_selected").length,S=x.filter(v=>v.status==="approved").length,W=x.filter(v=>v.status==="rejected").length;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>d("/applications-manage"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900",children:e.jsx(Ks,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-1",children:(o==null?void 0:o.title)||" "})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:G,disabled:g,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:[e.jsx(wr,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs("button",{onClick:L,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[e.jsx(Sr,{className:"h-4 w-4 mr-2"}),"CSV "]})]})]})}),k&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-400 rounded-md",children:e.jsxs("div",{className:"flex",children:[e.jsx(_r,{className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("p",{className:"text-red-700",children:k})]})}),b&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-400 rounded-md",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ee,{className:"h-5 w-5 text-green-400 mr-2"}),e.jsx("p",{className:"text-green-700",children:b})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Nt,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ue})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Lt,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:re})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(lt,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:me})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ee,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ht,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:W})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(xg,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsxs("select",{value:K,onChange:v=>T(v.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:" "}),e.jsx("option",{value:"pending",children:""}),e.jsx("option",{value:"virtual_selected",children:""}),e.jsx("option",{value:"approved",children:""}),e.jsx("option",{value:"rejected",children:""})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(_a,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsx("input",{type:"text",placeholder:",  ...",value:O,onChange:v=>w(v.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm w-64"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[H.length>0&&e.jsxs("button",{onClick:be,disabled:_,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(lt,{className:"h-4 w-4 mr-2"})," ",H.length," "]}),e.jsx("button",{onClick:M,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:H.length===f.filter(v=>v.status==="pending").length?" ":" "})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["  (",f.length,")"]})}),f.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:H.length===f.filter(v=>v.status==="pending").length&&f.filter(v=>v.status==="pending").length>0,onChange:M,className:"rounded border-gray-300"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SNS "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.status==="pending"&&e.jsx("input",{type:"checkbox",checked:H.includes(v.id),onChange:R=>{R.target.checked?y(ae=>[...ae,v.id]):y(ae=>ae.filter(Q=>Q!==v.id))},className:"rounded border-gray-300"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.applicant_name||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.age||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.skin_type||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex space-x-2",children:[v.instagram_url&&e.jsx("a",{href:v.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-800",title:"Instagram",children:e.jsx(zt,{className:"h-4 w-4"})}),v.tiktok_url&&e.jsx("a",{href:v.tiktok_url,target:"_blank",rel:"noopener noreferrer",className:"text-black hover:text-gray-800",title:"TikTok",children:e.jsx(es,{className:"h-4 w-4"})}),v.youtube_url&&e.jsx("a",{href:v.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:text-red-800",title:"YouTube",children:e.jsx(jt,{className:"h-4 w-4"})}),v.blog_url&&e.jsx("a",{href:v.blog_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",title:"",children:e.jsx(ns,{className:"h-4 w-4"})})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:e.jsxs("div",{className:"space-y-1",children:[[1,2,3,4].map(R=>{const ae=v[`question${R}_answer`];return ae?e.jsxs("div",{className:"text-xs",children:[e.jsxs("span",{className:"font-medium",children:["Q",R,":"]})," ",ae.substring(0,50),ae.length>50?"...":""]},R):null}),v.additional_info&&e.jsxs("div",{className:"text-xs border-t pt-1 mt-1",children:[e.jsx("span",{className:"font-medium text-blue-600",children:" :"})," ",v.additional_info.substring(0,50),v.additional_info.length>50?"...":""]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:le(v.created_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[ne(v.status),e.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${B(v.status)}`,children:X(v.status)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[v.status==="pending"&&e.jsxs("button",{onClick:()=>$(v.id),disabled:_,className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(lt,{className:"h-3 w-3 mr-1"})," "]}),v.status==="virtual_selected"&&e.jsxs("button",{onClick:()=>ie(v.id),disabled:_,className:"inline-flex items-center px-3 py-1 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:[e.jsx(Ht,{className:"h-3 w-3 mr-1"})," "]})]})})]},v.id))})]})}):e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx(it,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:" "}),e.jsx("p",{className:"text-gray-600",children:K!=="all"||O?"    .":"     ."})]})]})]})]})},Ay=()=>{var D;const{language:i}=xl(),[d,o]=h.useState([]),[m,x]=h.useState(null),[n,f]=h.useState(!1),[j,g]=h.useState(!0),[z,_]=h.useState(!1),[A,k]=h.useState(""),C=[{id:"welcome",name:i==="ja"?"":"  ",subject:i==="ja"?"CNEC Korea ":"CNEC Korea   !",content:i==="ja"?` {{name}} 

CNEC Korea 


K-Beauty



CNEC Korea `:` {{name}},

CNEC Korea  !

  .
 K-Beauty       .

    .

CNEC Korea `,variables:["name","email"],category:"user"},{id:"campaign_approved",name:i==="ja"?"":"  ",subject:i==="ja"?" ":"  !",content:i==="ja"?` {{name}} 

{{campaign_title}}

:
- : {{brand_name}}
- : {{reward_amount}}
- : {{deadline}}

:
1. 
2. 
3. 

: {{guidelines_url}}
: {{upload_folder}}



CNEC Korea `:` {{name}}!

{{campaign_title}}  !

 :
- : {{brand_name}}
- : {{reward_amount}}
- : {{deadline}}

 :
1.   
2.   
3.    

: {{guidelines_url}}
 : {{upload_folder}}

!

CNEC Korea `,variables:["name","campaign_title","brand_name","reward_amount","deadline","guidelines_url","upload_folder"],category:"campaign"},{id:"campaign_rejected",name:i==="ja"?"":"  ",subject:i==="ja"?"":"   ",content:i==="ja"?`{{name}} 

{{campaign_title}}







CNEC Korea `:`{{name}},

{{campaign_title}}   .

  ,     .

    ,         .

   .

CNEC Korea `,variables:["name","campaign_title"],category:"campaign"},{id:"withdrawal_approved",name:i==="ja"?"":"  ",subject:i==="ja"?" ":"   ",content:i==="ja"?`{{name}} 



:
- : {{amount}}
- : {{bank_info}}
- : {{process_date}}

 3-5



CNEC Korea `:`{{name}},

  !

 :
- : {{amount}}
-  : {{bank_info}}
- : {{process_date}}

   3-5     .

    .

CNEC Korea `,variables:["name","amount","bank_info","process_date"],category:"financial"},{id:"campaign_deadline_3days",name:i==="ja"?"3":"  3 ",subject:i==="ja"?" 3":"   3 ",content:i==="ja"?`{{name}} 

{{campaign_title}}3

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}



:
{{requirements}}

: {{upload_folder}}
: {{guidelines_url}}



CNEC Korea `:`{{name}},

{{campaign_title}}   3 .

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

   ,   .

 :
{{requirements}}

 : {{upload_folder}}
: {{guidelines_url}}

    .

CNEC Korea `,variables:["name","campaign_title","deadline","brand_name","reward_amount","requirements","upload_folder","guidelines_url"],category:"reminder"},{id:"campaign_deadline_2days",name:i==="ja"?"2":"  2 ",subject:i==="ja"?" 2":"   2 ",content:i==="ja"?`{{name}} 

{{campaign_title}}2

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 : 

:
{{requirements}}

: {{upload_folder}}
: {{guidelines_url}}





CNEC Korea `:`{{name}},

{{campaign_title}}   2 .

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 :    ,    .

 :
{{requirements}}

 : {{upload_folder}}
: {{guidelines_url}}

      .

    .

CNEC Korea `,variables:["name","campaign_title","deadline","brand_name","reward_amount","requirements","upload_folder","guidelines_url"],category:"reminder"},{id:"campaign_deadline_1day",name:i==="ja"?"1":"  1 ",subject:i==="ja"?" 1":"   1 !",content:i==="ja"?`{{name}} 

{{campaign_title}}1

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 : 

:
{{requirements}}

: {{upload_folder}}
: {{guidelines_url}}





CNEC Korea `:`{{name}},

{{campaign_title}}   1 !

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 :    ,    !

 :
{{requirements}}

 : {{upload_folder}}
: {{guidelines_url}}

 .           .

    .

CNEC Korea `,variables:["name","campaign_title","deadline","brand_name","reward_amount","requirements","upload_folder","guidelines_url"],category:"reminder"},{id:"campaign_deadline_today",name:i==="ja"?"":"   ",subject:i==="ja"?" ":"   !",content:i==="ja"?`{{name}} 

{{campaign_title}}

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

 : 

:
{{requirements}}

: {{upload_folder}}
: {{guidelines_url}}






CNEC Korea `:`{{name}},

{{campaign_title}}  !

: {{deadline}}
: {{brand_name}}
: {{reward_amount}}

  :    ,   !

 :
{{requirements}}

 : {{upload_folder}}
: {{guidelines_url}}

        .
    !

    .

CNEC Korea `,variables:["name","campaign_title","deadline","brand_name","reward_amount","requirements","upload_folder","guidelines_url"],category:"reminder"},{id:"campaign_deadline",name:i==="ja"?"":"  ",subject:i==="ja"?" ":"   ",content:i==="ja"?`{{name}} 

{{campaign_title}}

: {{deadline}}
: {{time_remaining}}



:
{{requirements}}



CNEC Korea `:`{{name}},

{{campaign_title}}   .

: {{deadline}}
 : {{time_remaining}}

   ,   .

 :
{{requirements}}

    .

CNEC Korea `,variables:["name","campaign_title","deadline","time_remaining","requirements"],category:"reminder"}],b={ko:{title:"  ",description:"    .",templateList:" ",editTemplate:" ",templateName:" ",subject:"",content:"",variables:"  ",category:"",save:"",cancel:"",edit:"",preview:"",reset:" ",categories:{user:"",campaign:"",financial:"",reminder:""},messages:{saved:" .",error:"   .",reset:" ."}},ja:{title:" ",description:" ",templateList:"",editTemplate:"",templateName:"",subject:"",content:"",variables:"",category:"",save:"",cancel:"",edit:"",preview:"",reset:"",categories:{user:"",campaign:"",financial:"",reminder:""},messages:{saved:"",error:" ",reset:""}}},J=b[i]||b.ko;h.useEffect(()=>{K()},[]);const K=async()=>{var $,ie;try{g(!0);const be=await((ie=($=se.emailTemplates)==null?void 0:$.getAll)==null?void 0:ie.call($))||[];be.length===0?(o(C),await T()):o(be)}catch(be){console.error("  :",be),o(C)}finally{g(!1)}},T=async()=>{var $,ie;try{for(const be of C)await((ie=($=se.emailTemplates)==null?void 0:$.create)==null?void 0:ie.call($,be))}catch(be){console.error("   :",be)}},O=$=>{x({...$}),f(!0)},w=async()=>{var $,ie;if(m)try{_(!0),await((ie=($=se.emailTemplates)==null?void 0:$.upsert)==null?void 0:ie.call($,m)),o(be=>be.map(M=>M.id===m.id?m:M)),k(J.messages.saved),f(!1),x(null),setTimeout(()=>k(""),3e3)}catch(be){console.error("  :",be),k(J.messages.error),setTimeout(()=>k(""),3e3)}finally{_(!1)}},H=$=>{const ie=C.find(be=>be.id===$);ie&&(x({...ie}),k(J.messages.reset),setTimeout(()=>k(""),3e3))},y=()=>{f(!1),x(null)},G=$=>({user:"bg-blue-100 text-blue-800",campaign:"bg-green-100 text-green-800",financial:"bg-yellow-100 text-yellow-800",reminder:"bg-purple-100 text-purple-800"})[$]||"bg-gray-100 text-gray-800";return j?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:J.title}),e.jsx("p",{className:"mt-2 text-gray-600",children:J.description})]}),A&&e.jsx("div",{className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded",children:A}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:J.templateList})}),e.jsx("div",{className:"divide-y divide-gray-200",children:d.map($=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:$.name}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:$.subject}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${G($.category)}`,children:J.categories[$.category]})})]}),e.jsx("div",{className:"ml-4",children:e.jsx("button",{onClick:()=>O($),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:J.edit})})]})},$.id))})]}),n&&m&&e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:J.editTemplate})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:J.templateName}),e.jsx("input",{type:"text",value:m.name,onChange:$=>x(ie=>({...ie,name:$.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:J.subject}),e.jsx("input",{type:"text",value:m.subject,onChange:$=>x(ie=>({...ie,subject:$.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:J.content}),e.jsx("textarea",{rows:12,value:m.content,onChange:$=>x(ie=>({...ie,content:$.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:J.variables}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(D=m.variables)==null?void 0:D.map($=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 cursor-pointer hover:bg-gray-200",onClick:()=>{const be=document.querySelector("textarea").selectionStart,M=m.content.substring(0,be),le=m.content.substring(be),X=M+`{{${$}}}`+le;x(B=>({...B,content:X}))},children:`{{${$}}}`},$))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:()=>H(m.id),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:J.reset}),e.jsxs("div",{className:"space-x-3",children:[e.jsx("button",{onClick:y,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:J.cancel}),e.jsx("button",{onClick:w,disabled:z,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:z?" ...":J.save})]})]})]})]})]})]})})]})},Ty=()=>{var ye,ve;const{language:i}=xl(),[d,o]=h.useState([]),[m,x]=h.useState([]),[n,f]=h.useState(!0),[j,g]=h.useState(!1),[z,_]=h.useState(""),[A,k]=h.useState(""),[C,b]=h.useState(""),[J,K]=h.useState(""),[T,O]=h.useState(""),[w,H]=h.useState(null),[y,G]=h.useState(!1),[D,$]=h.useState(!1),[ie,be]=h.useState(!1),[M,le]=h.useState(!1),[X,B]=h.useState(""),[ne,L]=h.useState(""),[ue,re]=h.useState(""),me={ko:{title:"  ",subtitle:"   ",totalUsers:" ",pendingUsers:" ",approvedUsers:"",rejectedUsers:"",adminUsers:"",vipUsers:"VIP ",managerUsers:"",withdrawalRequests:" ",filterByStatus:" ",filterByRole:" ",searchPlaceholder:",  ...",allStatuses:" ",allRoles:" ",pending:" ",approved:"",rejected:"",user:" ",vip:"VIP ",manager:"",admin:"",viewDetails:" ",approve:"",reject:"",changeRole:" ",addPoints:" ",subtractPoints:" ",viewWithdrawals:"  ",refresh:"",joinDate:"",lastLogin:" ",points:"",status:"",role:"",actions:"",userDetails:"  ",roleChange:" ",pointManagement:" ",withdrawalManagement:"  ",selectNewRole:"  ",pointAmount:" ",description:"",reason:"",save:"",cancel:"",close:"",confirm:"",processing:" ...",noUsers:" ",noWithdrawals:"  ",messages:{approved:" .",rejected:" .",roleChanged:"  .",pointsAdded:" .",pointsSubtracted:" .",withdrawalProcessed:"  .",error:" ."}},ja:{title:" ",subtitle:"",totalUsers:"",pendingUsers:"",approvedUsers:"",rejectedUsers:"",adminUsers:"",vipUsers:"VIP",managerUsers:"",withdrawalRequests:"",filterByStatus:"",filterByRole:"",searchPlaceholder:"...",allStatuses:"",allRoles:"",pending:"",approved:"",rejected:"",user:"",vip:"VIP",manager:"",admin:"",viewDetails:"",approve:"",reject:"",changeRole:"",addPoints:"",subtractPoints:"",viewWithdrawals:"",refresh:"",joinDate:"",lastLogin:"",points:"",status:"",role:"",actions:"",userDetails:"",roleChange:"",pointManagement:"",withdrawalManagement:"",selectNewRole:"",pointAmount:"",description:"",reason:"",save:"",cancel:"",close:"",confirm:"",processing:"...",noUsers:"",noWithdrawals:"",messages:{approved:"",rejected:"",roleChanged:"",pointsAdded:"",pointsSubtracted:"",withdrawalProcessed:"",error:" "}}},S=me[i]||me.ko;h.useEffect(()=>{W(),v()},[]);const W=async()=>{try{f(!0);const de=await Be.users.getAll();o(de||[])}catch(de){console.error("  :",de),_(S.messages.error)}finally{f(!1)}},v=async()=>{try{const{data:de,error:Y}=await se.from("withdrawal_requests").select("*").order("created_at",{ascending:!1});if(Y){console.error("   :",Y),x([]);return}if(de&&de.length>0){const we=de.map(xe=>xe.user_id),{data:E,error:ee}=await se.from("user_profiles").select("user_id, name, email").in("user_id",we);ee&&console.error("   :",ee);const ze=de.map(xe=>({...xe,user_profiles:(E==null?void 0:E.find(Ae=>Ae.user_id===xe.user_id))||{name:"  ",email:"  "}}));x(ze)}else x([])}catch(de){console.error("   :",de),x([])}},R=async(de,Y)=>{try{g(!0),await Be.users.updateApprovalStatus(de,Y),await W(),k(Y==="approved"?S.messages.approved:S.messages.rejected),setTimeout(()=>k(""),3e3)}catch(we){console.error("  :",we),_(S.messages.error),setTimeout(()=>_(""),3e3)}finally{g(!1)}},ae=async()=>{if(!(!w||!ue))try{g(!0);const{error:de}=await se.rpc("change_user_role",{target_user_id:w.user_id,new_role:ue});if(de)throw de;await W(),k(S.messages.roleChanged),$(!1),H(null),re(""),setTimeout(()=>k(""),3e3)}catch(de){console.error("  :",de),_(S.messages.error),setTimeout(()=>_(""),3e3)}finally{g(!1)}},Q=async de=>{if(!(!w||!X))try{g(!0);const Y=parseInt(X);if(isNaN(Y)||Y<=0){_(i==="ko"?"   .":"");return}const we=de?Y:-Y,E=ne||(de?i==="ko"?"  ":"":i==="ko"?"  ":""),{error:ee}=await se.from("point_transactions").insert({user_id:w.user_id,amount:we,type:"adjustment",description:E,created_at:new Date().toISOString()});if(ee)throw ee;const{error:ze}=await se.from("user_profiles").update({points:w.points+we}).eq("user_id",w.user_id);if(ze)throw ze;await W(),k(de?S.messages.pointsAdded:S.messages.pointsSubtracted),be(!1),H(null),B(""),L(""),setTimeout(()=>k(""),3e3)}catch(Y){console.error("  :",Y),_(i==="ko"?"    .":" "),setTimeout(()=>_(""),3e3)}finally{g(!1)}},V=async(de,Y,we="")=>{try{g(!0);const{error:E}=await se.from("withdrawal_requests").update({status:Y,processed_at:new Date().toISOString(),admin_notes:we}).eq("id",de);if(E)throw E;await v(),k(S.messages.withdrawalProcessed),setTimeout(()=>k(""),3e3)}catch(E){console.error("   :",E),_(S.messages.error),setTimeout(()=>_(""),3e3)}finally{g(!1)}},P=async(de,Y="verify_email")=>{try{g(!0);const E=await(await fetch("/.netlify/functions/verify-user-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:de,action:Y})})).json();E.success?(k(Y==="verify_email"?"  .":"  ."),await W()):_(E.error||"   "),setTimeout(()=>{k(""),_("")},3e3)}catch(we){console.error("  :",we),_("     ."),setTimeout(()=>_(""),3e3)}finally{g(!1)}},ce=d.filter(de=>{var ee,ze;const Y=!C||de.approval_status===C,we=!J||de.user_role===J,E=!T||((ee=de.name)==null?void 0:ee.toLowerCase().includes(T.toLowerCase()))||((ze=de.email)==null?void 0:ze.toLowerCase().includes(T.toLowerCase()));return Y&&we&&E}),U=de=>{const Y={pending:{icon:Lt,color:"bg-yellow-100 text-yellow-800",text:S.pending},approved:{icon:Ee,color:"bg-green-100 text-green-800",text:S.approved},rejected:{icon:Ht,color:"bg-red-100 text-red-800",text:S.rejected}},we=Y[de]||Y.pending,E=we.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${we.color}`,children:[e.jsx(E,{className:"w-3 h-3 mr-1"}),we.text]})},q=de=>{const Y={user:{icon:st,color:"bg-gray-100 text-gray-800",text:S.user},vip:{icon:Ra,color:"bg-purple-100 text-purple-800",text:S.vip},manager:{icon:Oa,color:"bg-blue-100 text-blue-800",text:S.manager},admin:{icon:ka,color:"bg-red-100 text-red-800",text:S.admin}},we=Y[de]||Y.user,E=we.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${we.color}`,children:[e.jsx(E,{className:"w-3 h-3 mr-1"}),we.text]})},F={total:d.length,pending:d.filter(de=>de.approval_status==="pending").length,approved:d.filter(de=>de.approval_status==="approved").length,rejected:d.filter(de=>de.approval_status==="rejected").length,admin:d.filter(de=>de.user_role==="admin").length,vip:d.filter(de=>de.user_role==="vip").length,manager:d.filter(de=>de.user_role==="manager").length,withdrawals:m.filter(de=>de.status==="pending").length};return n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ue,{className:"w-8 h-8 animate-spin text-purple-600"})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:S.title}),e.jsx("p",{className:"mt-2 text-gray-600",children:S.subtitle})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>le(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(ho,{className:"w-4 h-4 mr-2"}),S.viewWithdrawals,F.withdrawals>0&&e.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full px-2 py-1",children:F.withdrawals})]}),e.jsxs("button",{onClick:W,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:[e.jsx(wr,{className:"w-4 h-4 mr-2"}),S.refresh]})]})]})}),z&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ts,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:z})})]})}),A&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ee,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-800",children:A})})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Nt,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:S.totalUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.total})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Lt,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:S.pendingUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.pending})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Hm,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:S.approvedUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.approved})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(cg,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:S.rejectedUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.rejected})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ra,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:S.vipUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.vip})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oa,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:S.managerUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.manager})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ka,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:S.adminUsers}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.admin})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ho,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:S.withdrawalRequests}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.withdrawals})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:S.filterByStatus}),e.jsxs("select",{value:C,onChange:de=>b(de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:S.allStatuses}),e.jsx("option",{value:"pending",children:S.pending}),e.jsx("option",{value:"approved",children:S.approved}),e.jsx("option",{value:"rejected",children:S.rejected})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:S.filterByRole}),e.jsxs("select",{value:J,onChange:de=>K(de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:S.allRoles}),e.jsx("option",{value:"user",children:S.user}),e.jsx("option",{value:"vip",children:S.vip}),e.jsx("option",{value:"manager",children:S.manager}),e.jsx("option",{value:"admin",children:S.admin})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:S.searchPlaceholder}),e.jsxs("div",{className:"relative",children:[e.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:T,onChange:de=>O(de.target.value),placeholder:S.searchPlaceholder,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.status}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.role}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.points}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.joinDate}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.actions})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:S.noUsers})}):ce.map(de=>{var Y;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(st,{className:"h-5 w-5 text-purple-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:de.name||" "}),e.jsx("div",{className:"text-sm text-gray-500",children:de.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:U(de.approval_status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q(de.user_role)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((Y=de.points)==null?void 0:Y.toLocaleString())||0,"P"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:de.created_at?new Date(de.created_at).toLocaleDateString("ko-KR"):"-"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsx("button",{onClick:()=>{H(de),G(!0)},className:"text-purple-600 hover:text-purple-900",children:e.jsx(lt,{className:"w-4 h-4"})}),de.approval_status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>R(de.user_id,"approved"),disabled:j,className:"text-green-600 hover:text-green-900",children:e.jsx(Ee,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>R(de.user_id,"rejected"),disabled:j,className:"text-red-600 hover:text-red-900",children:e.jsx(Ht,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:()=>{H(de),re(de.user_role),$(!0)},className:"text-blue-600 hover:text-blue-900",children:e.jsx(qa,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{H(de),be(!0)},className:"text-orange-600 hover:text-orange-900",title:" ",children:e.jsx(Lm,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>P(de.user_id,"verify_email"),disabled:j,className:"text-cyan-600 hover:text-cyan-900",title:"  ",children:e.jsx(Th,{className:"w-4 h-4"})})]})]},de.user_id)})})]})})}),y&&w&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:S.userDetails}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:""}),e.jsx("p",{className:"text-sm text-gray-900",children:w.name||" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:""}),e.jsx("p",{className:"text-sm text-gray-900",children:w.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:S.status}),e.jsx("div",{className:"mt-1",children:U(w.approval_status)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:S.role}),e.jsx("div",{className:"mt-1",children:q(w.user_role)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:S.points}),e.jsxs("p",{className:"text-sm text-gray-900",children:[((ye=w.points)==null?void 0:ye.toLocaleString())||0,"P"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:S.joinDate}),e.jsx("p",{className:"text-sm text-gray-900",children:w.created_at?new Date(w.created_at).toLocaleDateString("ko-KR"):"-"})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:" "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>P(w.user_id,"verify_email"),disabled:j,className:"flex-1 px-3 py-2 text-sm bg-cyan-600 text-white rounded-md hover:bg-cyan-700 disabled:opacity-50 flex items-center justify-center gap-1",children:[e.jsx(Th,{className:"w-4 h-4"}),"  "]}),e.jsxs("button",{onClick:()=>P(w.user_id,"resend_verification"),disabled:j,className:"flex-1 px-3 py-2 text-sm bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50 flex items-center justify-center gap-1",children:[e.jsx(ra,{className:"w-4 h-4"})," "]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>G(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:S.close})})]})})}),D&&w&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:S.roleChange}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ht,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:S.selectNewRole}),e.jsxs("select",{value:ue,onChange:de=>re(de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"user",children:S.user}),e.jsx("option",{value:"vip",children:S.vip}),e.jsx("option",{value:"manager",children:S.manager}),e.jsx("option",{value:"admin",children:S.admin})]})]})}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>$(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:S.cancel}),e.jsx("button",{onClick:ae,disabled:j,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:j?S.processing:S.save})]})]})})}),ie&&w&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:S.pointManagement}),e.jsx("button",{onClick:()=>be(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[" : ",((ve=w.points)==null?void 0:ve.toLocaleString())||0,"P"]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:S.pointAmount}),e.jsx("input",{type:"number",value:X,onChange:de=>B(de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:S.description}),e.jsx("textarea",{value:ne,onChange:de=>L(de.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:" / "})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>be(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:S.cancel}),e.jsxs("button",{onClick:()=>Q(!1),disabled:j||!X,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:[e.jsx(Sb,{className:"w-4 h-4 mr-1 inline"}),S.subtractPoints]}),e.jsxs("button",{onClick:()=>Q(!0),disabled:j||!X,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[e.jsx(Lm,{className:"w-4 h-4 mr-1 inline"}),S.addPoints]})]})]})})}),M&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-10 mx-auto p-5 border w-4/5 max-w-4xl shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:S.withdrawalManagement}),e.jsx("button",{onClick:()=>le(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ht,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.reason}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.status}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.actions})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500",children:S.noWithdrawals})}):m.map(de=>{var Y,we;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((Y=de.user_profiles)==null?void 0:Y.name)||" "}),e.jsx("div",{className:"text-sm text-gray-500",children:(we=de.user_profiles)==null?void 0:we.email})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:de.reason||" "})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(de.created_at).toLocaleDateString("ko-KR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:U(de.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:de.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>V(de.id,"approved"),disabled:j,className:"text-green-600 hover:text-green-900",children:e.jsx(Ee,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>V(de.id,"rejected"),disabled:j,className:"text-red-600 hover:text-red-900",children:e.jsx(Ht,{className:"w-4 h-4"})})]})})]},de.id)})})]})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>le(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:S.close})})]})})})]})]})},tg=i=>{if(!i)return"No PayPal info";const d=i.match(/PayPal:\s*([^)]+)\)/);if(d)return d[1].trim();const o=i.match(/PayPal:\s*([^\s,)]+)/);if(o)return o[1].trim();const m=i.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);return m?m[1]:"No PayPal info"},Uy=()=>{var q;const{language:i}=xl(),[d,o]=h.useState([]),[m,x]=h.useState([]),[n,f]=h.useState(!0),[j,g]=h.useState(!1),[z,_]=h.useState(""),[A,k]=h.useState(""),[C,b]=h.useState("withdrawals"),[J,K]=h.useState(""),[T,O]=h.useState(""),[w,H]=h.useState(null),[y,G]=h.useState([]),[D,$]=h.useState(!1),[ie,be]=h.useState(!1),[M,le]=h.useState({withdrawalId:null,reason:"",customReason:"",userEmail:"",userName:"",amount:0}),[X,B]=h.useState(!1),[ne,L]=h.useState(!1),[ue,re]=h.useState({status:"",admin_notes:"",transaction_id:""}),me={ko:{title:" ",subtitle:"   ",withdrawalRequests:" ",bankTransfers:" ",totalRequests:" ",pending:"",approved:"",rejected:"",completed:"",statusFilter:" ",allStatuses:" ",search:"",searchPlaceholder:",  ...",refresh:"",export:"Excel ",viewDetails:"",process:"",approve:"",reject:"",complete:"",bulkApprove:"  ",bulkComplete:"  ",selectAll:" ",selected:" ",rejectWithReason:"  ",rejectReason:" ",selectReason:" ",customReason:" ",customReasonPlaceholder:"   ...",sendRejectEmail:"  ",cancel:"",emailSent:"  ",emailSendFailed:"  "},ja:{title:" ",subtitle:"",withdrawalRequests:"",bankTransfers:"",totalRequests:"",pending:"",approved:"",rejected:"",completed:"",statusFilter:"",allStatuses:"",search:"",searchPlaceholder:"...",refresh:"",export:"Excel ",viewDetails:"",process:"",approve:"",reject:"",complete:"",bulkApprove:"",bulkComplete:"",selectAll:"",selected:"",rejectWithReason:"",rejectReason:"",selectReason:"",customReason:"",customReasonPlaceholder:"...",sendRejectEmail:"",cancel:"",emailSent:"",emailSendFailed:""}},S=me[i]||me.ko,W=async()=>{var F;try{f(!0),_(""),console.log("1:   ...");const{data:ye,error:ve}=await se.from("point_transactions").select("*").lt("amount",0).order("created_at",{ascending:!1});if(ve)throw console.error("   :",ve),ve;const de=await Promise.all((ye||[]).map(async E=>{const ee=tg(E.description||"");let ze={name:"-",email:"-",phone:"-"};try{const{data:Ae}=await se.from("user_profiles").select("name, email, phone").eq("id",E.user_id).single();Ae&&(ze=Ae)}catch(Ae){console.warn("   :",Ae)}let xe="pending";return E.description&&E.description.includes("[:]")?xe="approved":E.description&&E.description.includes("[:]")?xe="rejected":E.description&&E.description.includes("[:]")&&(xe="completed"),{id:E.id,user_id:E.user_id,amount:Math.abs(E.amount),method:"PayPal",paypal_email:ee,status:xe,created_at:E.created_at,user_profiles:ze,description:E.description}})),Y=[],we=new Set;for(const E of de){const ee=`${E.user_id}-${E.amount}-${E.created_at.split("T")[0]}`;we.has(ee)||(we.add(ee),Y.push(E))}o(Y),console.log("   :",Y.length),console.log("2:    ...");try{const E=await((F=database.bankTransfers)==null?void 0:F.getAll())||[];x(E),console.log("    :",E.length)}catch(E){console.warn("    :",E),x([])}}catch(ye){console.error("  :",ye),_(`${S.error}: ${ye.message}`)}finally{f(!1),console.log("  ")}},v=async(F,ye,ve="",de="")=>{try{g(!0),_(""),k(""),console.log("   :",F,ye);const{data:Y,error:we}=await se.from("point_transactions").select("*").eq("id",F).single();if(we)throw console.error("  :",we),new Error(`   : ${we.message}`);console.log(" :",Y);let E=Y.description||"";if(ye==="approved")E=E.replace(/\[:.*?\]/g,"")+" [:]",console.log("  ...");else if(ye==="rejected"){E=E.replace(/\[:.*?\]/g,"")+` [:] [:${ve}]`,console.log("  ...");const xe=Math.abs(Y.amount),Ae=Y.user_id;if(Ae&&xe>0)try{const fe=await(await fetch("/.netlify/functions/admin-refund-points",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:Ae,amount:xe,reason:ve||" "})})).json();if(!fe.success)throw console.error("  :",fe.error),new Error("  : "+fe.error);console.log("  :",fe.data)}catch(Re){throw console.error("   :",Re),new Error("  ")}try{await se.from("withdrawals").update({status:"rejected",admin_notes:ve,processed_at:new Date().toISOString()}).eq("user_id",Y.user_id).eq("amount",Math.abs(Y.amount)).eq("status","pending")}catch{console.log("withdrawals    (    )")}}else if(ye==="completed"){E=E.replace(/\[:.*?\]/g,"")+" [:]",console.log("  ...");try{await se.from("withdrawals").update({status:"completed",processed_at:new Date().toISOString()}).eq("user_id",Y.user_id).eq("amount",Math.abs(Y.amount)).eq("status","approved")}catch{console.log("withdrawals   ")}}const{data:ee,error:ze}=await se.from("point_transactions").update({description:E.trim()}).eq("id",F).select();if(ze)throw console.error(" :",ze),ze;console.log(" :",ee),k(` ${ye==="approved"?"":ye==="rejected"?"":""}.`),setTimeout(()=>{W(),k("")},1500)}catch(Y){console.error("  :",Y),_(`  : ${Y.message}`)}finally{g(!1)}},R=F=>{var ye,ve;le({withdrawalId:F.id,reason:"",customReason:"",userEmail:((ye=F.user_profiles)==null?void 0:ye.email)||"",userName:((ve=F.user_profiles)==null?void 0:ve.name)||"",amount:F.amount}),be(!0)},ae=async()=>{try{g(!0);const F=M.reason==="custom"?M.customReason:M.reason;if(!F){_("   .");return}await v(M.withdrawalId,"rejected",F);const ye={to:M.userEmail,subject:"   ",template:"withdrawal_rejected",data:{userName:M.userName,amount:M.amount,reason:F,date:new Date().toLocaleDateString("ko-KR")}};if((await fetch("/.netlify/functions/send-gmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ye)})).ok)k(S.emailSent),be(!1),le({withdrawalId:null,reason:"",customReason:"",userEmail:"",userName:"",amount:0});else throw new Error("  ")}catch(F){console.error("   :",F),_(S.emailSendFailed+": "+F.message)}finally{g(!1)}},Q=async F=>{if(y.length===0){_("  .");return}$(!0),_(""),k("");try{const ye=y.map(ve=>v(ve,F));await Promise.all(ye),k(`${y.length}  ${F==="approved"?"":""}.`),G([])}catch(ye){_(`    : ${ye.message}`)}finally{$(!1)}},V=()=>{y.length===ce.length?G([]):G(ce.map(F=>F.id))},P=F=>{G(ye=>ye.includes(F)?ye.filter(ve=>ve!==F):[...ye,F])},ce=d.filter(F=>{var de,Y,we,E;const ye=!J||F.status===J,ve=!T||((Y=(de=F.user_profiles)==null?void 0:de.name)==null?void 0:Y.toLowerCase().includes(T.toLowerCase()))||((E=(we=F.user_profiles)==null?void 0:we.email)==null?void 0:E.toLowerCase().includes(T.toLowerCase()));return ye&&ve}),U={total:d.length,pending:d.filter(F=>F.status==="pending").length,approved:d.filter(F=>F.status==="approved").length,rejected:d.filter(F=>F.status==="rejected").length,completed:d.filter(F=>F.status==="completed").length};return h.useEffect(()=>{W()},[]),n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:S.title}),e.jsx("p",{className:"text-gray-600",children:S.subtitle})]}),z&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-800",children:z})}),A&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-green-800",children:A})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>b("withdrawals"),className:`py-2 px-1 border-b-2 font-medium text-sm ${C==="withdrawals"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:S.withdrawalRequests}),e.jsx("button",{onClick:()=>b("transfers"),className:`py-2 px-1 border-b-2 font-medium text-sm ${C==="transfers"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:S.bankTransfers})]})})}),C==="withdrawals"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(ta,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:S.totalRequests}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:U.total})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(wr,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:S.pending}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:U.pending})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(rt,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:S.approved}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:U.approved})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(Fs,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:S.rejected}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:U.rejected})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(rt,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:S.completed}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:U.completed})]})]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow border mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xg,{className:"h-5 w-5 text-gray-400"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:S.statusFilter}),e.jsxs("select",{value:J,onChange:F=>K(F.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:S.allStatuses}),e.jsx("option",{value:"pending",children:S.pending}),e.jsx("option",{value:"approved",children:S.approved}),e.jsx("option",{value:"rejected",children:S.rejected}),e.jsx("option",{value:"completed",children:S.completed})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_a,{className:"h-5 w-5 text-gray-400"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:S.search}),e.jsx("input",{type:"text",placeholder:S.searchPlaceholder,value:T,onChange:F=>O(F.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:W,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 disabled:opacity-50",children:[e.jsx(wr,{className:`h-4 w-4 ${n?"animate-spin":""}`}),S.refresh]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[e.jsx(Sr,{className:"h-4 w-4"}),S.export]})]})]})}),y.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[y.length,S.selected]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Q("approved"),disabled:D,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 text-sm",children:D?"...":S.bulkApprove}),e.jsx("button",{onClick:()=>Q("completed"),disabled:D,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 text-sm",children:D?"...":S.bulkComplete})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{onClick:V,className:"flex items-center gap-2",children:[y.length===ce.length&&ce.length>0?e.jsx(Uh,{className:"h-4 w-4 text-blue-600"}):e.jsx(Mh,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:S.selectAll})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.map(F=>{var ye,ve,de,Y,we;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>P(F.id),className:"flex items-center",children:y.includes(F.id)?e.jsx(Uh,{className:"h-4 w-4 text-blue-600"}):e.jsx(Mh,{className:"h-4 w-4 text-gray-400"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-700",children:((ve=(ye=F.user_profiles)==null?void 0:ye.name)==null?void 0:ve.charAt(0))||"U"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((de=F.user_profiles)==null?void 0:de.name)||"Unknown User"}),e.jsx("div",{className:"text-sm text-gray-500",children:((Y=F.user_profiles)==null?void 0:Y.email)||"No email"})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:"PayPal"}),e.jsx("div",{className:"text-sm text-gray-500",children:tg(F.description)})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",(we=F.amount)==null?void 0:we.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F.status==="pending"?"bg-yellow-100 text-yellow-800":F.status==="approved"?"bg-blue-100 text-blue-800":F.status==="rejected"?"bg-red-100 text-red-800":F.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:F.status==="pending"?S.pending:F.status==="approved"?S.approved:F.status==="rejected"?S.rejected:F.status==="completed"?S.completed:F.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(F.created_at).toLocaleDateString("ko-KR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>H(F),className:"text-blue-600 hover:text-blue-900",children:e.jsx(lt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{H(F),L(!0)},className:"text-gray-600 hover:text-gray-900",children:e.jsx(mg,{className:"h-4 w-4"})}),F.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>v(F.id,"approved"),disabled:j,className:"px-3 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 disabled:opacity-50",children:S.approve}),e.jsx("button",{onClick:()=>R(F),disabled:j,className:"px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 disabled:opacity-50",children:S.reject})]}),F.status==="approved"&&e.jsx("button",{onClick:()=>v(F.id,"completed"),disabled:j,className:"px-3 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 disabled:opacity-50",children:S.complete})]})})]},F.id)})})]})}),ce.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(ta,{className:"h-12 w-12 mx-auto"})}),e.jsx("p",{className:"text-gray-500",children:"  "})]})]})]}),C==="transfers"&&e.jsx("div",{className:"bg-white rounded-lg shadow border p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(ta,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),e.jsx("p",{className:"text-gray-500",children:"    ."})]})}),ie&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:S.rejectWithReason}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:":"})," ",M.userName," (",M.userEmail,")"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:" :"})," ",(q=M.amount)==null?void 0:q.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:S.rejectReason}),e.jsxs("select",{value:M.reason,onChange:F=>le(ye=>({...ye,reason:F.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:S.selectReason}),e.jsx("option",{value:"  ",children:"  "}),e.jsx("option",{value:"   ",children:"   "}),e.jsx("option",{value:"PayPal  ",children:"PayPal  "}),e.jsx("option",{value:" ",children:"  "}),e.jsx("option",{value:" ",children:" "}),e.jsx("option",{value:" ",children:"  "}),e.jsx("option",{value:"  ",children:"  "}),e.jsx("option",{value:"custom",children:S.customReason})]})]}),M.reason==="custom"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("textarea",{value:M.customReason,onChange:F=>le(ye=>({...ye,customReason:F.target.value})),placeholder:S.customReasonPlaceholder,rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{be(!1),le({withdrawalId:null,reason:"",customReason:"",userEmail:"",userName:"",amount:0})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:S.cancel}),e.jsx("button",{onClick:ae,disabled:j||!M.reason||M.reason==="custom"&&!M.customReason,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:j?"...":S.sendRejectEmail})]})]})})]})]})},My=()=>{const{language:i}=xl(),[d,o]=h.useState(!1),[m,x]=h.useState(!1),[n,f]=h.useState(""),[j,g]=h.useState(""),[z,_]=h.useState({smtpHost:"",smtpPort:"587",smtpSecure:!1,smtpUser:"",smtpPass:"",fromEmail:"",fromName:"CNEC Korea",replyToEmail:"",testEmail:""}),[A,k]=h.useState({siteName:"CNEC Korea",siteDescription:"K-Beauty  ",siteKeywords:"K-Beauty, , , , ",ogTitle:"CNEC Korea - K-Beauty  ",ogDescription:"",ogImage:"",twitterCard:"summary_large_image",twitterSite:"@cnecjapan",canonicalUrl:"https://cnec.jp",robotsTxt:`User-agent: *
Allow: /`,sitemapUrl:"https://cnec.jp/sitemap.xml",googleAnalyticsId:"",googleTagManagerId:"",facebookPixelId:"",metaAuthor:"CNEC Korea",metaViewport:"width=device-width, initial-scale=1.0",metaCharset:"UTF-8",favicon:"/favicon.ico",appleTouchIcon:"/apple-touch-icon.png"}),C={ko:{title:" ",subtitle:"SEO,      ",emailSettings:" ",smtpSettings:"SMTP  ",emailGeneral:"  ",testEmail:" ",smtpHost:"SMTP ",smtpPort:"SMTP ",smtpSecure:"SSL/TLS ",smtpUser:"SMTP ",smtpPass:"SMTP ",fromEmail:" ",fromName:" ",replyToEmail:" ",testEmailAddress:"  ",sendTestEmail:"  ",seoSettings:"SEO ",basicSeo:" SEO ",socialMedia:"  ",analytics:"  ",technical:" ",siteName:" ",siteDescription:" ",siteKeywords:" ",ogTitle:"Open Graph ",ogDescription:"Open Graph ",ogImage:"Open Graph  URL",twitterCard:"Twitter  ",twitterSite:"Twitter  ",canonicalUrl:" URL",robotsTxt:"robots.txt ",sitemapUrl:" URL",googleAnalyticsId:"Google Analytics ID",googleTagManagerId:"Google Tag Manager ID",facebookPixelId:"Facebook Pixel ID",metaAuthor:"",metaViewport:"Viewport ",metaCharset:" ",favicon:"Favicon URL",appleTouchIcon:"Apple Touch Icon URL",save:"",cancel:"",loading:" ...",saving:" ...",error:" .",success:"  .",preview:"",reset:"",export:"",import:""},ja:{title:"",subtitle:"SEO",emailSettings:"",smtpSettings:"SMTP",emailGeneral:"",testEmail:"",smtpHost:"SMTP",smtpPort:"SMTP",smtpSecure:"SSL/TLS",smtpUser:"SMTP",smtpPass:"SMTP",fromEmail:"",fromName:"",replyToEmail:"",testEmailAddress:"",sendTestEmail:"",seoSettings:"SEO",basicSeo:"SEO",socialMedia:"",analytics:"",technical:"",siteName:"",siteDescription:"",siteKeywords:"",ogTitle:"Open Graph",ogDescription:"Open Graph",ogImage:"Open GraphURL",twitterCard:"Twitter",twitterSite:"Twitter",canonicalUrl:"URL",robotsTxt:"robots.txt",sitemapUrl:"URL",googleAnalyticsId:"Google Analytics ID",googleTagManagerId:"Google Tag Manager ID",facebookPixelId:"Facebook Pixel ID",metaAuthor:"",metaViewport:"Viewport",metaCharset:"",favicon:"Favicon URL",appleTouchIcon:"Apple Touch Icon URL",save:"",cancel:"",loading:" ...",saving:"...",error:" ",success:"",preview:"",reset:"",export:"",import:""}},b=C[i]||C.ko;h.useEffect(()=>{console.log("SystemSettings "),J()},[]);const J=async()=>{try{o(!0),f("");const D=localStorage.getItem("cnec_seo_settings");D&&k(JSON.parse(D));const $=localStorage.getItem("cnec_email_settings");$&&_(JSON.parse($))}catch(D){console.error("  :",D),f(`${b.error}: ${D.message}`)}finally{o(!1)}},K=async()=>{try{x(!0),f(""),g(""),localStorage.setItem("cnec_seo_settings",JSON.stringify(A)),localStorage.setItem("cnec_email_settings",JSON.stringify(z)),g(b.success)}catch(D){console.error("  :",D),f(`  : ${D.message}`)}finally{x(!1)}},T=(D,$)=>{k(ie=>({...ie,[D]:$}))},O=(D,$)=>{_(ie=>({...ie,[D]:$}))},w=async()=>{try{if(!z.testEmail){f("   .");return}if(!z.smtpHost||!z.smtpUser||!z.smtpPass){f("SMTP   .");return}x(!0),f(""),g("");const D=`
        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
          <h2 style="color: #333;">CNEC Korea -  </h2>
          <p>!</p>
          <p>  CNEC Korea  SMTP       .</p>
          <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h3 style="color: #28a745; margin-top: 0;">   !</h3>
            <p>SMTP      .</p>
          </div>
          <p><strong> :</strong> ${new Date().toLocaleString("ko-KR")}</p>
          <p><strong>:</strong> ${z.fromName||"CNEC Korea"}</p>
          <hr style="margin: 30px 0; border: none; border-top: 1px solid #eee;">
          <p style="color: #666; font-size: 12px;">
              CNEC Korea    .<br>
              ${z.replyToEmail||"support@cnec.jp"} .
          </p>
        </div>
      `;console.log(" Gmail SMTP   :",{to:z.testEmail,from:z.fromEmail,smtp:`${z.smtpHost}:${z.smtpPort}`,secure:z.smtpSecure});const $=await fetch("/.netlify/functions/send-gmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailSettings:{smtpHost:z.smtpHost,smtpPort:z.smtpPort,smtpUser:z.smtpUser,smtpPass:z.smtpPass,smtpSecure:z.smtpSecure,senderEmail:z.fromEmail,senderName:z.fromName,replyEmail:z.replyToEmail},testEmail:z.testEmail,subject:"CNEC Korea - Gmail  ",message:D})});if(!$.ok){const be=await $.json();throw new Error(be.details||be.error||"  .")}const ie=await $.json();if(ie.success)g(` Gmail    !
        
 : ${z.testEmail}
  ID: ${ie.messageId}
  : ${ie.service||"Gmail SMTP"}
  : ${new Date().toLocaleString("ko-KR")}

   ( ,   )  .
Gmail  : 500/,  100/`),console.log(" Gmail   :",ie);else throw new Error(ie.error||"Gmail  ")}catch(D){console.error("   :",D),f(`    : ${D.message}`)}finally{x(!1)}},H=()=>{confirm("   ?")&&k({siteName:"CNEC Korea",siteDescription:"K-Beauty  ",siteKeywords:"K-Beauty, , , , ",ogTitle:"CNEC Korea - K-Beauty  ",ogDescription:"",ogImage:"",twitterCard:"summary_large_image",twitterSite:"@cnecjapan",canonicalUrl:"https://cnec.jp",robotsTxt:`User-agent: *
Allow: /`,sitemapUrl:"https://cnec.jp/sitemap.xml",googleAnalyticsId:"",googleTagManagerId:"",facebookPixelId:"",metaAuthor:"CNEC Korea",metaViewport:"width=device-width, initial-scale=1.0",metaCharset:"UTF-8",favicon:"/favicon.ico",appleTouchIcon:"/apple-touch-icon.png"})},y=()=>{const D=JSON.stringify(A,null,2),$="data:application/json;charset=utf-8,"+encodeURIComponent(D),ie="cnec_seo_settings.json",be=document.createElement("a");be.setAttribute("href",$),be.setAttribute("download",ie),be.click()},G=D=>{const $=D.target.files[0];if($){const ie=new FileReader;ie.onload=be=>{try{const M=JSON.parse(be.target.result);k(M),g("  .")}catch{f("     .")}},ie.readAsText($)}};return d?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ue,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:b.loading})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(nt,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:b.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:b.subtitle})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"file",accept:".json",onChange:G,className:"hidden",id:"import-settings"}),e.jsxs("label",{htmlFor:"import-settings",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 cursor-pointer",children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),b.import]}),e.jsxs("button",{onClick:y,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),b.export]}),e.jsxs("button",{onClick:H,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(wr,{className:"h-4 w-4 mr-2"}),b.reset]})]})]})}),n&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ts,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:n})})]})}),j&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Ee,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-800",children:j})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(ra,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:b.emailSettings})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:b.smtpSettings}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.smtpHost}),e.jsx("input",{type:"text",value:z.smtpHost,onChange:D=>O("smtpHost",D.target.value),placeholder:"smtp.gmail.com",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.smtpPort}),e.jsx("input",{type:"number",value:z.smtpPort,onChange:D=>O("smtpPort",D.target.value),placeholder:"587",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.smtpUser}),e.jsx("input",{type:"email",value:z.smtpUser,onChange:D=>O("smtpUser",D.target.value),placeholder:"your-email@gmail.com",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.smtpPass}),e.jsx("input",{type:"password",value:z.smtpPass,onChange:D=>O("smtpPass",D.target.value),placeholder:" ",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:z.smtpSecure,onChange:D=>O("smtpSecure",D.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:b.smtpSecure})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:b.emailGeneral}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.fromEmail}),e.jsx("input",{type:"email",value:z.fromEmail,onChange:D=>O("fromEmail",D.target.value),placeholder:"noreply@cnec.jp",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.fromName}),e.jsx("input",{type:"text",value:z.fromName,onChange:D=>O("fromName",D.target.value),placeholder:"CNEC Korea",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.replyToEmail}),e.jsx("input",{type:"email",value:z.replyToEmail,onChange:D=>O("replyToEmail",D.target.value),placeholder:"support@cnec.jp",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:b.testEmail}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"email",value:z.testEmail,onChange:D=>O("testEmail",D.target.value),placeholder:"test@example.com",className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})}),e.jsx("button",{onClick:w,disabled:m||!z.testEmail,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ra,{className:"h-4 w-4 mr-2"}),b.sendTestEmail]})})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(_a,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:b.basicSeo})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.siteName}),e.jsx("input",{type:"text",value:A.siteName,onChange:D=>T("siteName",D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.siteDescription}),e.jsx("textarea",{rows:3,value:A.siteDescription,onChange:D=>T("siteDescription",D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.siteKeywords}),e.jsx("input",{type:"text",value:A.siteKeywords,onChange:D=>T("siteKeywords",D.target.value),placeholder:"1, 2, 3",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.canonicalUrl}),e.jsx("input",{type:"url",value:A.canonicalUrl,onChange:D=>T("canonicalUrl",D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(og,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:b.socialMedia})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.ogTitle}),e.jsx("input",{type:"text",value:A.ogTitle,onChange:D=>T("ogTitle",D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.ogDescription}),e.jsx("textarea",{rows:3,value:A.ogDescription,onChange:D=>T("ogDescription",D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.ogImage}),e.jsx("input",{type:"url",value:A.ogImage,onChange:D=>T("ogImage",D.target.value),placeholder:"https://example.com/image.jpg",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.twitterCard}),e.jsxs("select",{value:A.twitterCard,onChange:D=>T("twitterCard",D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"summary",children:"Summary"}),e.jsx("option",{value:"summary_large_image",children:"Summary Large Image"}),e.jsx("option",{value:"app",children:"App"}),e.jsx("option",{value:"player",children:"Player"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.twitterSite}),e.jsx("input",{type:"text",value:A.twitterSite,onChange:D=>T("twitterSite",D.target.value),placeholder:"@username",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Eo,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:b.analytics})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.googleAnalyticsId}),e.jsx("input",{type:"text",value:A.googleAnalyticsId,onChange:D=>T("googleAnalyticsId",D.target.value),placeholder:"GA_MEASUREMENT_ID",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.googleTagManagerId}),e.jsx("input",{type:"text",value:A.googleTagManagerId,onChange:D=>T("googleTagManagerId",D.target.value),placeholder:"GTM-XXXXXXX",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.facebookPixelId}),e.jsx("input",{type:"text",value:A.facebookPixelId,onChange:D=>T("facebookPixelId",D.target.value),placeholder:"123456789012345",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Cb,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:b.technical})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.robotsTxt}),e.jsx("textarea",{rows:4,value:A.robotsTxt,onChange:D=>T("robotsTxt",D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.sitemapUrl}),e.jsx("input",{type:"url",value:A.sitemapUrl,onChange:D=>T("sitemapUrl",D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.favicon}),e.jsx("input",{type:"text",value:A.favicon,onChange:D=>T("favicon",D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.appleTouchIcon}),e.jsx("input",{type:"text",value:A.appleTouchIcon,onChange:D=>T("appleTouchIcon",D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.metaAuthor}),e.jsx("input",{type:"text",value:A.metaAuthor,onChange:D=>T("metaAuthor",D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.metaViewport}),e.jsx("input",{type:"text",value:A.metaViewport,onChange:D=>T("metaViewport",D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:b.metaCharset}),e.jsx("input",{type:"text",value:A.metaCharset,onChange:D=>T("metaCharset",D.target.value),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]})]})}),e.jsx("div",{className:"flex justify-end space-x-3",children:e.jsxs("button",{onClick:K,disabled:m,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[m?e.jsx(Ue,{className:"h-5 w-5 animate-spin mr-2"}):e.jsx(Sn,{className:"h-5 w-5 mr-2"}),m?b.saving:b.save]})})]})]})]})},Dy=async i=>{try{const{to:d,subject:o,text:m,html:x,template:n,templateData:f}=i;if(!d)throw new Error("   .");if(!m&&!x&&!n)throw new Error(" (text, html)   .");const j=await fetch("/.netlify/functions/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:d,subject:o,text:m,html:x,template:n,templateData:f})});if(!j.ok){const g=await j.json();throw new Error(g.error||"  .")}return await j.json()}catch(d){throw console.error("  :",d),d}},Ly=()=>{const[i,d]=h.useState(!0),[o,m]=h.useState(!1),[x,n]=h.useState(!1),[f,j]=h.useState(""),[g,z]=h.useState(""),[_,A]=h.useState({email_user:"",email_from_name:"CNEC",email_templates:{welcome:"",applicationConfirmation:"",applicationApproved:"",applicationRejected:""}}),[k,C]=h.useState({to:"",subject:" ",text:" CNEC    ."});h.useEffect(()=>{b()},[]);const b=async()=>{try{d(!0),j("");const T=await Be.system.getSettings();T&&A({email_user:T.email_user||"",email_from_name:T.email_from_name||"CNEC",email_templates:T.email_templates||{welcome:"",applicationConfirmation:"",applicationApproved:"",applicationRejected:""}})}catch(T){console.error("   :",T),j("     .")}finally{d(!1)}},J=async()=>{try{m(!0),j(""),z(""),await Be.system.updateSettings({email_user:_.email_user,email_from_name:_.email_from_name,email_templates:_.email_templates}),z("   .")}catch(T){console.error("   :",T),j("     .")}finally{m(!1)}},K=async()=>{try{if(n(!0),j(""),z(""),!k.to){j("   .");return}await Dy({to:k.to,subject:k.subject,text:k.text}),z(`  ${k.to}  .`)}catch(T){console.error("   :",T),j(`   : ${T.message}`)}finally{n(!1)}};return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"   ..."})]})}):e.jsx("div",{className:"space-y-6",children:e.jsxs(_s,{children:[e.jsxs(zs,{children:[e.jsxs(Es,{className:"text-2xl flex items-center",children:[e.jsx(ra,{className:"h-6 w-6 mr-2"})," "]}),e.jsx(at,{children:"    "})]}),e.jsxs(As,{children:[e.jsxs(Bg,{defaultValue:"settings",className:"space-y-6",children:[e.jsxs(Gg,{children:[e.jsx(Nn,{value:"settings",children:" "}),e.jsx(Nn,{value:"templates",children:" "}),e.jsx(Nn,{value:"test",children:" "})]}),e.jsx(Mm,{value:"settings",className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"email_user",children:" "}),e.jsx(is,{id:"email_user",value:_.email_user,onChange:T=>A({..._,email_user:T.target.value}),placeholder:"example@gmail.com"}),e.jsx("p",{className:"text-sm text-gray-500",children:"   Gmail ."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"email_from_name",children:" "}),e.jsx(is,{id:"email_from_name",value:_.email_from_name,onChange:T=>A({..._,email_from_name:T.target.value}),placeholder:"CNEC"}),e.jsx("p",{className:"text-sm text-gray-500",children:"   ."})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(yt,{className:"bg-amber-50 text-amber-800 border-amber-200",children:[e.jsx(Ts,{className:"h-4 w-4"}),e.jsxs(vt,{children:["Gmail  ,    Netlify    .",e.jsx("br",{})," : EMAIL_USER, EMAIL_PASS"]})]})})]})}),e.jsx(Mm,{value:"templates",className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"welcome_template",children:"  "}),e.jsx(sa,{id:"welcome_template",value:_.email_templates.welcome,onChange:T=>A({..._,email_templates:{..._.email_templates,welcome:T.target.value}}),placeholder:"  HTML ",rows:10}),e.jsxs("p",{className:"text-sm text-gray-500",children:["  : ",{name},", ",{loginUrl}]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"application_confirmation_template",children:"    "}),e.jsx(sa,{id:"application_confirmation_template",value:_.email_templates.applicationConfirmation,onChange:T=>A({..._,email_templates:{..._.email_templates,applicationConfirmation:T.target.value}}),placeholder:"    HTML ",rows:10}),e.jsxs("p",{className:"text-sm text-gray-500",children:["  : ",{name},", ",{campaignTitle},", ",{applicationDate},", ",{mypageUrl}]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"application_approved_template",children:"   "}),e.jsx(sa,{id:"application_approved_template",value:_.email_templates.applicationApproved,onChange:T=>A({..._,email_templates:{..._.email_templates,applicationApproved:T.target.value}}),placeholder:"   HTML ",rows:10}),e.jsxs("p",{className:"text-sm text-gray-500",children:["  : ",{name},", ",{campaignTitle},", ",{approvalDate},", ",{mypageUrl}]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"application_rejected_template",children:"   "}),e.jsx(sa,{id:"application_rejected_template",value:_.email_templates.applicationRejected,onChange:T=>A({..._,email_templates:{..._.email_templates,applicationRejected:T.target.value}}),placeholder:"   HTML ",rows:10}),e.jsxs("p",{className:"text-sm text-gray-500",children:["  : ",{name},", ",{campaignTitle},", ",{rejectionDate},", ",{rejectionReason},", ",{campaignsUrl}]})]})]})}),e.jsx(Mm,{value:"test",className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"test_email",children:"  "}),e.jsx(is,{id:"test_email",value:k.to,onChange:T=>C({...k,to:T.target.value}),placeholder:"test@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"test_subject",children:"  "}),e.jsx(is,{id:"test_subject",value:k.subject,onChange:T=>C({...k,subject:T.target.value}),placeholder:" "})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"test_content",children:"  "}),e.jsx(sa,{id:"test_content",value:k.text,onChange:T=>C({...k,text:T.target.value}),placeholder:"  ",rows:5})]}),e.jsxs(qe,{onClick:K,disabled:x||!k.to,children:[x&&e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx(zb,{className:"h-4 w-4 mr-2"}),"  "]})]})})]}),g&&e.jsxs(yt,{className:"mt-6 bg-green-50 text-green-800 border-green-200",children:[e.jsx(Ee,{className:"h-4 w-4"}),e.jsx(vt,{children:g})]}),f&&e.jsxs(yt,{className:"mt-6",variant:"destructive",children:[e.jsx(Ts,{className:"h-4 w-4"}),e.jsx(vt,{children:f})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs(qe,{onClick:J,disabled:o,children:[o&&e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx(Sn,{className:"h-4 w-4 mr-2"})," "]})})]})]})})},qy=()=>{const{signInWithEmail:i,signInWithGoogle:d,user:o,loading:m}=xs(),x=Qe(),[n,f]=h.useState({email:"",password:""}),[j,g]=h.useState(""),[z,_]=h.useState(!1),[A,k]=h.useState(!1);h.useEffect(()=>{(async()=>{if(o)try{const{data:T}=await se.from("user_profiles").select("role").eq("user_id",o.id).single();console.log("  :",T),(T==null?void 0:T.role)==="admin"||(T==null?void 0:T.role)==="manager"?(console.log("  ,   "),x("/dashboard")):console.log("  :",T==null?void 0:T.role)}catch(T){console.error("Admin access check error:",T)}})()},[o,x]);const C=K=>{const{name:T,value:O}=K.target;f(w=>({...w,[T]:O}))},b=async()=>{try{_(!0),g(""),await d(),x("/dashboard")}catch(K){console.error("Google admin login error:",K),g("Google  .   .")}finally{_(!1)}},J=async K=>{if(K.preventDefault(),!n.email||!n.password){g("  .");return}try{_(!0),g("");const T=await i(n.email,n.password);console.log(" :",T),setTimeout(()=>{x("/dashboard")},1e3)}catch(T){console.error("Admin login error:",T),g(" .    .")}finally{_(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(_s,{className:"shadow-2xl border-0 bg-white/10 backdrop-blur-md",children:[e.jsxs(zs,{className:"text-center pb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:e.jsx(yn,{className:"h-8 w-8 text-purple-300"})}),e.jsx(Es,{className:"text-2xl font-bold text-white",children:" "}),e.jsx(at,{className:"text-purple-200",children:"CNEC    "})]}),e.jsxs(As,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"email",className:"text-purple-200",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-purple-300"}),e.jsx(is,{id:"email",name:"email",type:"email",placeholder:"admin@cnec.test",value:n.email,onChange:C,className:"pl-10 bg-white/10 border-purple-300/30 text-white placeholder:text-purple-200/60 focus:border-purple-400",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(He,{htmlFor:"password",className:"text-purple-200",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx(kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-purple-300"}),e.jsx(is,{id:"password",name:"password",type:A?"text":"password",placeholder:"",value:n.password,onChange:C,className:"pl-10 pr-10 bg-white/10 border-purple-300/30 text-white placeholder:text-purple-200/60 focus:border-purple-400",required:!0}),e.jsx("button",{type:"button",onClick:()=>k(!A),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-purple-300 hover:text-purple-200",children:A?e.jsx(rg,{className:"h-4 w-4"}):e.jsx(lt,{className:"h-4 w-4"})})]})]}),j&&e.jsx(yt,{variant:"destructive",className:"bg-red-500/20 border-red-400/30",children:e.jsx(vt,{className:"text-red-200",children:j})}),e.jsxs(qe,{type:"submit",disabled:z||m,className:"w-full bg-purple-600 hover:bg-purple-700 text-white border-0",size:"lg",children:[z?e.jsx(Ue,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(yn,{className:"h-4 w-4 mr-2"})," "]})]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-purple-300/30"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-gray-900 text-purple-200",children:""})})]}),e.jsxs(qe,{onClick:b,disabled:z||m,variant:"outline",className:"w-full bg-white/10 border-purple-300/30 text-white hover:bg-white/20",size:"lg",children:[e.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs("div",{className:"text-center text-xs text-purple-300/60",children:[e.jsx("p",{children:"   ."}),e.jsx("p",{children:"       ."})]})]})]})})})},Ry=()=>{const[i,d]=h.useState("admin@cnec.test"),[o,m]=h.useState("cnec2024!"),[x,n]=h.useState(!1),[f,j]=h.useState(""),{signInWithEmail:g}=xs(),z=Qe(),_=async A=>{A.preventDefault(),n(!0),j("");try{await g(i,o),z("/dashboard")}catch(k){console.error(" :",k),j(" .   .")}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 to-blue-600",children:e.jsxs(_s,{className:"w-full max-w-md",children:[e.jsxs(zs,{className:"text-center",children:[e.jsx(Es,{className:"text-2xl font-bold",children:"  "}),e.jsx(at,{children:"CNEC    "})]}),e.jsxs(As,{children:[e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[f&&e.jsx(yt,{variant:"destructive",children:e.jsx(vt,{children:f})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:" "}),e.jsx(is,{id:"email",type:"email",value:i,onChange:A=>d(A.target.value),placeholder:"admin@cnec.test",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:" "}),e.jsx(is,{id:"password",type:"password",value:o,onChange:A=>m(A.target.value),placeholder:"",required:!0})]}),e.jsx(qe,{type:"submit",className:"w-full",disabled:x,children:x?" ...":" "})]}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:[e.jsx("p",{children:" :"}),e.jsx("p",{children:": admin@cnec.test"}),e.jsx("p",{children:": cnec2024!"})]})]})]})})},Ut=({children:i,requireAdmin:d=!1})=>{const{user:o,userProfile:m,loading:x}=xs(),[n,f]=h.useState(!0),[j,g]=h.useState(!1);return h.useEffect(()=>{(async()=>{if(!x){if(!o){f(!1);return}if(!d){f(!1);return}try{const{data:_,error:A}=await se.from("admin_users").select("user_id").eq("user_id",o.id).maybeSingle();g(!A&&_!==null),f(!1)}catch(_){console.error("Admin check error:",_),g(!1),f(!1)}}})()},[o,m,x,d]),x||n?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:" ..."})]})}):o?d&&!j?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600 mb-6",children:"     ."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:" "})]})}):i:e.jsx(db,{to:"/login",replace:!0})},Oy=()=>{const{user:i}=xs();return h.useEffect(()=>($h.start(),()=>{$h.stop()}),[]),e.jsxs("div",{className:"App",children:[e.jsx(uy,{}),e.jsx(Jb,{children:e.jsxs(xb,{children:[e.jsx(Ve,{path:"/",element:i?e.jsx(Qh,{}):e.jsx(yj,{})}),e.jsx(Ve,{path:"/campaigns",element:e.jsx(xj,{})}),e.jsx(Ve,{path:"/mypage",element:e.jsx(uj,{})}),e.jsx(Ve,{path:"/campaign/:id",element:e.jsx(vj,{})}),e.jsx(Ve,{path:"/campaign/:id/apply",element:e.jsx(Nj,{})}),e.jsx(Ve,{path:"/my/grade",element:e.jsx(sj,{})}),e.jsx(Ve,{path:"/my/points",element:e.jsx(tj,{})}),e.jsx(Ve,{path:"/my/applications",element:e.jsx(mj,{})}),e.jsx(Ve,{path:"/my/ai-guide",element:e.jsx(hj,{})}),e.jsx(Ve,{path:"/guide",element:e.jsx(pj,{})}),e.jsx(Ve,{path:"/welcome",element:e.jsx(ej,{})}),e.jsx(Ve,{path:"/creator",element:e.jsx(Qh,{})}),e.jsx(Ve,{path:"/login",element:e.jsx(qj,{})}),e.jsx(Ve,{path:"/signup",element:e.jsx(Rj,{})}),e.jsx(Ve,{path:"/forgot-password",element:e.jsx(Oj,{})}),e.jsx(Ve,{path:"/reset-password",element:e.jsx($j,{})}),e.jsx(Ve,{path:"/auth/callback",element:e.jsx(Bj,{})}),e.jsx(Ve,{path:"/home-legacy",element:e.jsx(Kj,{})}),e.jsx(Ve,{path:"/cnecplus",element:e.jsx(Zh,{})}),e.jsx(Ve,{path:"/cnec-plus",element:e.jsx(Zh,{})}),e.jsx(Ve,{path:"/campaign-application",element:e.jsx(ly,{})}),e.jsx(Ve,{path:"/profile",element:e.jsx(Um,{})}),e.jsx(Ve,{path:"/settings/notifications",element:e.jsx(ay,{})}),e.jsx(Ve,{path:"/company-report/:campaignId",element:e.jsx(cy,{})}),e.jsx(Ve,{path:"/profile-settings",element:e.jsx(Um,{})}),e.jsx(Ve,{path:"/profile-simple",element:e.jsx(Yj,{})}),e.jsx(Ve,{path:"/profile-test-beta-2025",element:e.jsx(Um,{})}),e.jsx(Ve,{path:"/profile-view-beta-2025",element:e.jsx(ty,{})}),e.jsx(Ve,{path:"/submit-video/:campaignId",element:e.jsx(oy,{})}),e.jsx(Ve,{path:"/submit-oliveyoung-video/:campaignId",element:e.jsx(my,{})}),e.jsx(Ve,{path:"/submit-4week-video/:campaignId",element:e.jsx(xy,{})}),e.jsx(Ve,{path:"/video-review/:submissionId",element:e.jsx(dy,{})}),e.jsx(Ve,{path:"/secret-admin-login",element:e.jsx(qy,{})}),e.jsx(Ve,{path:"/test-admin-login",element:e.jsx(Ry,{})}),e.jsx(Ve,{path:"/dashboard",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(gy,{})})}),e.jsx(Ve,{path:"/campaigns-manage",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(py,{})})}),e.jsx(Ve,{path:"/campaign-create",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(fy,{})})}),e.jsx(Ve,{path:"/applications-manage",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(eg,{})})}),e.jsx(Ve,{path:"/applications-report",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(eg,{})})}),e.jsx(Ve,{path:"/confirmed-creators",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(ky,{})})}),e.jsx(Ve,{path:"/confirmed-creators/:campaignId",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(Cy,{})})}),e.jsx(Ve,{path:"/sns-uploads",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(sg,{})})}),e.jsx(Ve,{path:"/sns-uploads/:campaignId",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(sg,{})})}),e.jsx(Ve,{path:"/campaign-report/:campaignId",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(Ey,{})})}),e.jsx(Ve,{path:"/email-templates",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(Ay,{})})}),e.jsx(Ve,{path:"/user-approval",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(Ty,{})})}),e.jsx(Ve,{path:"/withdrawals-manage",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(Uy,{})})}),e.jsx(Ve,{path:"/system-settings",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(My,{})})}),e.jsx(Ve,{path:"/email-settings",element:e.jsx(Ut,{requireAdmin:!0,children:e.jsx(Ly,{})})})]})}),e.jsx(Yb,{})]})};function $y(){return e.jsx(mb,{children:e.jsx($b,{children:e.jsx(Gb,{children:e.jsx(Hb,{children:e.jsx(Oy,{})})})})})}Lb.createRoot(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx($y,{})}));
